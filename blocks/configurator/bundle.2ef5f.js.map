{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./components/Configurator/Type/Sac/Thumbnails.jsx","webpack:///./components/Configurator/View/Modal/CurrentModal.jsx","webpack:///./components/Configurator/Type/Sactional/Toolbar/ToolbarButtons/Webgl/VrayButton.jsx","webpack:///./components/Configurator/Type/Sactional/Toolbar/ToolbarButtons/Webgl/HelpButton.jsx","webpack:///./components/Configurator/Step/Cover/hooks/useAddSampleAjaxRequest.js","webpack:///./components/Configurator/Step/Accessories/SummaryComponent.jsx","webpack:///./components/Configurator/View/PieceDescription.jsx","webpack:///./components/Configurator/View/ActionSaveShare/Modal/Modal.jsx","webpack:///./components/Configurator/Context/Navigator.jsx","webpack:///./components/Configurator/View/Player/PlayerMessage.jsx","webpack:///./components/Configurator/Step/Stealthtech/StepComponent.jsx","webpack:///./components/Configurator/View/Summary.jsx","webpack:///./components/Configurator/Type/SactionalCover/SactionalCoverSidebar.jsx","webpack:///./components/Configurator/Type/ThrowPillow/ThrowPillowSize.jsx","webpack:///./components/Configurator/Step/Configure/Modal/IntroductionalModal.jsx","webpack:///./components/Configurator/Step/Stealthtech/SummaryComponent.jsx","webpack:///./components/Configurator/Type/Sactional/Thumbnails.jsx","webpack:///./components/Configurator/View/Price.jsx","webpack:///./components/Configurator/Step/Options/SummaryComponent.jsx","webpack:///./components/Configurator/View/Player/TogglePlayerHeader.jsx","webpack:///./components/Configurator/Type/Sactional/Toolbar/VrayPlayerToolbar.jsx","webpack:///./components/Configurator/Step/Configure/Modal/DeleteItemModal.jsx","webpack:///./components/Configurator/Context/Player.jsx","webpack:///./components/Configurator/View/ActionMobile.jsx","webpack:///./components/Configurator/Step/Cover/StepTabs/CoverTypes.jsx","webpack:///./components/Configurator/Type/SactionalCover/SactionalCoverHeader.jsx","webpack:///./components/Configurator/Type/Sactional/Toolbar/ToolbarButtons/Webgl/RotateButton.jsx","webpack:///../node_modules/react-responsive-carousel/lib/js/CSSTranslate.js","webpack:///./components/Configurator/Configurator.jsx","webpack:///./components/Configurator/View/ActionSaveShare/Modal/CurrentModal.jsx","webpack:///./components/Configurator/Step/Cover/hooks/isCoverAvailable.js","webpack:///./components/Configurator/Type/SacCover/View.jsx","webpack:///./components/Configurator/Step/Cover/StepComponent.jsx","webpack:///../node_modules/react-responsive-carousel/lib/js/cssClasses.js","webpack:///./components/Configurator/View/ActionSaveShare/Modal/Type/SaveLoginAfter.jsx","webpack:///./components/Configurator/Step/Fill/SummaryComponent.jsx","webpack:///./components/Configurator/Step/SactionalStyle/Modal/ErrorModal.jsx","webpack:///../node_modules/classnames/index.js","webpack:///./components/Configurator/View/Player/Toolbar/Modal/index.js","webpack:///./components/Configurator/Type/OutdoorSactional/Toolbar/PlayerToolbar.jsx","webpack:///./components/Configurator/View/ShippingInfoComponent.jsx","webpack:///./components/Configurator/View/ShippingInfo.jsx","webpack:///./components/Configurator/View/ActionSaveShare/Modal/ModalContext.jsx","webpack:///./components/Configurator/Type/ThrowPillow/Toolbar/PlayerToolbar.jsx","webpack:///./components/Configurator/Step/Cover/StepTabs/StepTabs.jsx","webpack:///./components/Configurator/hooks/useHook.js","webpack:///./components/Configurator/Step/Configure/Modal/index.js","webpack:///./components/Configurator/Step/Cover/Modal/RemoveSample.jsx","webpack:///./components/Configurator/Type/OutdoorSactional/Toolbar/WebglPlayerToolbar.jsx","webpack:///./components/Configurator/Type/SactionalPiece/Toolbar/PlayerToolbar.jsx","webpack:///../node_modules/react-responsive-carousel/lib/js/shims/document.js","webpack:///./components/Configurator/Step/Stealthtech/Modal/Info.jsx","webpack:///../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./components/Configurator/View/ProductDetailsMobile.jsx","webpack:///./components/Configurator/View/LogoSubtitle.jsx","webpack:///./components/Configurator/Type/index.js","webpack:///./components/Configurator/Step/Cover/hooks/updateState.js","webpack:///./components/Configurator/Step/Cover/index.js","webpack:///./components/Configurator/Step/Cover/hooks/buildIndex.js","webpack:///./components/Configurator/Step/Cover/hooks/collectTotals.js","webpack:///./components/Configurator/Step/Cover/hooks/usePlayerSync.js","webpack:///./components/Configurator/Step/Cover/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/Step/Accessories/hooks/updateState.js","webpack:///./components/Configurator/Step/Accessories/hooks/collectTotals.js","webpack:///./components/Configurator/Step/Accessories/index.js","webpack:///./components/Configurator/Step/Accessories/hooks/buildIndex.js","webpack:///./components/Configurator/Step/Summary/index.js","webpack:///./components/Configurator/Step/Summary/constants.js","webpack:///./components/Configurator/Step/Summary/hooks/buildIndex.js","webpack:///./components/Configurator/Step/Summary/SummaryComponent.jsx","webpack:///./components/Configurator/Step/SactionalStyle/index.js","webpack:///./components/Configurator/Step/SactionalStyle/hooks/buildIndex.js","webpack:///./components/Configurator/Step/SactionalStyle/hooks/updateState.js","webpack:///./components/Configurator/Step/SactionalStyle/hooks/collectTotals.js","webpack:///./components/Configurator/Step/SactionalStyle/hooks/usePlayerSync.js","webpack:///./components/Configurator/Step/SactionalStyle/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/Step/Configure/hooks/buildIndex.js","webpack:///./components/Configurator/Step/Configure/hooks/updateState.js","webpack:///./components/Configurator/Step/Configure/hooks/usePlayerSync.js","webpack:///./components/Configurator/Step/Configure/index.js","webpack:///./components/Configurator/Step/Configure/hooks/collectTotals.js","webpack:///./components/Configurator/Step/Configure/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/Step/Options/hooks/updateState.js","webpack:///./components/Configurator/Step/Options/index.js","webpack:///./components/Configurator/Step/Options/hooks/buildIndex.js","webpack:///./components/Configurator/Step/Options/hooks/collectTotals.js","webpack:///./components/Configurator/Step/Fill/hooks/buildIndex.js","webpack:///./components/Configurator/Step/Fill/index.js","webpack:///./components/Configurator/Step/Fill/hooks/updateState.js","webpack:///./components/Configurator/Step/Fill/hooks/collectTotals.js","webpack:///./components/Configurator/Step/Stealthtech/hooks/usePlayerSync.js","webpack:///./components/Configurator/Step/Stealthtech/index.js","webpack:///./components/Configurator/Step/Stealthtech/hooks/buildIndex.js","webpack:///./components/Configurator/Step/Stealthtech/hooks/updateState.js","webpack:///./components/Configurator/Step/Stealthtech/hooks/collectTotals.js","webpack:///./components/Configurator/Type/Sactional/constants.js","webpack:///./components/Configurator/Type/Sactional/index.js","webpack:///./components/Configurator/Type/Sactional/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/Type/SactionalPiece/constants.js","webpack:///./components/Configurator/Type/SactionalPiece/index.js","webpack:///./components/Configurator/Type/SactionalPiece/hooks/buildIndex.js","webpack:///./components/Configurator/Type/SactionalPiece/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/Step/SacAccessories/hooks/buildIndex.js","webpack:///./components/Configurator/Step/SacAccessories/index.js","webpack:///./components/Configurator/Step/SacSize/hooks/updateState.js","webpack:///./components/Configurator/Step/SacSize/index.js","webpack:///./components/Configurator/Step/SacSize/hooks/buildIndex.js","webpack:///./components/Configurator/Step/SacSize/hooks/collectTotals.js","webpack:///./components/Configurator/Step/SacSize/hooks/usePlayerSync.js","webpack:///./components/Configurator/Step/SacSize/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/Type/Sac/constants.js","webpack:///./components/Configurator/Type/Sac/index.js","webpack:///./components/Configurator/Type/Sac/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/Type/OutdoorSactional/constants.js","webpack:///./components/Configurator/Type/OutdoorSactional/index.js","webpack:///./components/Configurator/Type/OutdoorSactional/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/Step/Piece/hooks/updateState.js","webpack:///./components/Configurator/Step/Piece/hooks/usePlayerProductId.js","webpack:///./components/Configurator/Step/Piece/index.js","webpack:///./components/Configurator/Step/Piece/hooks/buildIndex.js","webpack:///./components/Configurator/Step/Piece/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/Step/Piece/hooks/usePlayerSync.js","webpack:///./components/Configurator/Step/Piece/hooks/collectTotals.js","webpack:///./components/Configurator/Step/Piece/StepComponent.jsx","webpack:///./components/Configurator/Type/Squattoman/constants.js","webpack:///./components/Configurator/Type/Squattoman/index.js","webpack:///./components/Configurator/Type/Squattoman/hooks/buildIndex.js","webpack:///./components/Configurator/Type/Squattoman/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/Type/ThrowPillow/constants.js","webpack:///./components/Configurator/Type/ThrowPillow/index.js","webpack:///./components/Configurator/Type/ThrowPillow/hooks/buildIndex.js","webpack:///./components/Configurator/Type/ThrowPillow/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/Type/SactionalCover/index.js","webpack:///./components/Configurator/Type/SactionalCover/hooks/buildIndex.js","webpack:///./components/Configurator/Type/SactionalCover/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/Type/SacCover/index.js","webpack:///./components/Configurator/Type/SacCover/hooks/buildIndex.js","webpack:///./components/Configurator/Type/SacCover/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/Type/SquattomanCover/constants.js","webpack:///./components/Configurator/Type/SquattomanCover/index.js","webpack:///./components/Configurator/Type/SquattomanCover/hooks/buildIndex.js","webpack:///./components/Configurator/Type/SquattomanCover/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/Type/ThrowPillowCover/constants.js","webpack:///./components/Configurator/Type/ThrowPillowCover/index.js","webpack:///./components/Configurator/Type/ThrowPillowCover/hooks/buildIndex.js","webpack:///./components/Configurator/Type/ThrowPillowCover/hooks/usePlayerInitParams.js","webpack:///./components/Configurator/DataLayer/data/configurator.js","webpack:///./components/Configurator/DataLayer/data/products.js","webpack:///./components/Configurator/DataLayer/pool.js","webpack:///./components/Configurator/DataLayer/events/save.js","webpack:///./components/Configurator/DataLayer/events/add-or-update-cart.js","webpack:///./components/Configurator/DataLayer/events/init.js","webpack:///./components/Configurator/DataLayer/events/load.js","webpack:///./components/Configurator/DataLayer/events/share.js","webpack:///./components/Configurator/DataLayer/events/summary.js","webpack:///./components/Configurator/DataLayer/push.js","webpack:///./components/Configurator/View/Player/hooks/usePlayerReducer.js","webpack:///./components/Configurator/View/ActionSaveShare/Modal/index.js","webpack:///./components/Configurator/View/Action.jsx","webpack:///../node_modules/uuid/dist/esm-browser/rng.js","webpack:///../node_modules/uuid/dist/esm-browser/stringify.js","webpack:///../node_modules/uuid/dist/esm-browser/native.js","webpack:///../node_modules/uuid/dist/esm-browser/v4.js","webpack:///./components/Configurator/hooks/useSaveConfigurationRequest.js","webpack:///./components/Configurator/View/ActionAddToCart/ActionAddToCart.jsx","webpack:///./components/Configurator/Type/ThrowPillowCover/ThrowPillowCoverHeader.jsx","webpack:///./components/Configurator/View/Financing.jsx","webpack:///./components/Configurator/Context/Configurator.jsx","webpack:///./components/Configurator/View/QtyIncrementor.jsx","webpack:///./components/Configurator/Step/Stealthtech/Modal/index.js","webpack:///../node_modules/webpack/buildin/amd-options.js","webpack:///./components/Configurator/Step/Options/StepComponent.jsx","webpack:///./components/Configurator/Type/SactionalPiece/View.jsx","webpack:///./components/Configurator/Step/Cover/Modal/Filter.jsx","webpack:///./components/Configurator/Type/Squattoman/View.jsx","webpack:///./components/Configurator/Step/Piece/constants.js","webpack:///./components/Configurator/Type/ThrowPillowCover/View.jsx","webpack:///./components/Configurator/Step/Fill/StepComponent.jsx","webpack:///./components/Configurator/hooks/buildMarketingSku.js","webpack:///./components/Configurator/Type/ThrowPillow/ThrowPillowHeader.jsx","webpack:///./components/Configurator/Type/Sac/Toolbar/PlayerToolbar.jsx","webpack:///./components/Configurator/Step/Cover/Modal/Sample.jsx","webpack:///./components/Configurator/Step/Options/Modal/Info.jsx","webpack:///../node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./components/Configurator/Step/SacSize/constants.js","webpack:///./components/Configurator/hooks/getLeadTimeText.js","webpack:///./components/Configurator/View/Modal/Modal.jsx","webpack:///./components/Configurator/Step/Accessories/constants.js","webpack:///./components/Configurator/Context/Browser.jsx","webpack:///./components/Configurator/Step/Stealthtech/constants.js","webpack:///../node_modules/react-easy-swipe/lib/index.js","webpack:///./components/Configurator/Step/Stealthtech/isCoverStealthtechEligible.js","webpack:///./components/Configurator/hooks/useCameraView.js","webpack:///./components/Configurator/View/Player/playerApi.js","webpack:///../node_modules/preact-cli/src/lib/entry.js","webpack:///./components/Configurator/Step/SacSize/SummaryComponent.jsx","webpack:///../node_modules/preact/hooks/src/index.js","webpack:///./components/app.js","webpack:///./index.js","webpack:///./components/Configurator/View/Title.jsx","webpack:///./components/Configurator/Step/Options/hooks/useOptionPrice.js","webpack:///./components/Configurator/View/ActionSaveShare/ActionSave.jsx","webpack:///./components/Configurator/Type/ThrowPillowCover/ThrowPillowCoverSidebar.jsx","webpack:///./components/Configurator/Type/ThrowPillow/Thumbnails.jsx","webpack:///../node_modules/webpack/buildin/module.js","webpack:///./components/Configurator/Type/SacCover/SacCoverSidebar.jsx","webpack:///./components/Configurator/Step/Cover/SummaryComponent.jsx","webpack:///./components/Configurator/Step/SactionalStyle/StepComponent.jsx","webpack:///./components/Configurator/View/Player/Toolbar/Modal/ARModal.jsx","webpack:///./components/Configurator/Type/SacCover/SacCoverHeader.jsx","webpack:///./components/Configurator/View/SidebarHeader.jsx","webpack:///./components/Configurator/View/FinancingText.jsx","webpack:///./components/Configurator/Type/Squattoman/SquattomanSidebar.jsx","webpack:///./components/Configurator/Type/ThrowPillow/ThrowKitSidebar.jsx","webpack:///./components/Configurator/Step/Options/Modal/index.js","webpack:///./components/Configurator/Step/Configure/constants.js","webpack:///../node_modules/prop-types/index.js","webpack:///./components/Configurator/Step/Stealthtech/StealthTechNotAvaliableComponent.jsx","webpack:///./components/Configurator/View/Player/Player.jsx","webpack:///./components/Configurator/Step/Configure/Modal/ErrorModal.jsx","webpack:///./components/Configurator/Type/Sactional/Toolbar/PlayerToolbar.jsx","webpack:///./components/Configurator/Type/Squattoman/Toolbar/PlayerToolbar.jsx","webpack:///./components/Configurator/View/Tabs.jsx","webpack:///./components/Configurator/Context/State.jsx","webpack:///./components/Configurator/View/Loader.jsx","webpack:///./components/Configurator/View/ActionSaveShare/Modal/Type/SaveLogin.jsx","webpack:///./components/Configurator/Context/Totals.jsx","webpack:///./components/Configurator/Step/Accessories/Modal/Info.jsx","webpack:///./components/Configurator/Step/Configure/hooks/usePlayerProductId.js","webpack:///./components/Configurator/View/Player/Toolbar/ZoomButton.jsx","webpack:///../node_modules/react-easy-swipe/lib/react-swipe.js","webpack:///./components/Configurator/Step/Cover/hooks/useRemoveItemAjaxRequest.js","webpack:///./components/Configurator/View/ActionSaveShare/Modal/Type/Share.jsx","webpack:///../node_modules/react-responsive-carousel/lib/js/index.js","webpack:///./components/Configurator/Type/SactionalPiece/Thumbnails.jsx","webpack:///./components/Configurator/Step/Cover/StepTabs/TabButtons.jsx","webpack:///./components/Configurator/Type/OutdoorSactional/Thumbnails.jsx","webpack:///./components/Configurator/Step/SacSize/hooks/usePlayerProductId.js","webpack:///./components/Configurator/Step/Stealthtech/Popup/Popup.jsx","webpack:///./components/Configurator/View/Player/Toolbar/Modal/VrayImageModal.jsx","webpack:///./components/Configurator/View/Player/Toolbar/FloorButton.jsx","webpack:///./components/Configurator/Step/Cover/Modal/Info.jsx","webpack:///./components/Configurator/Type/SquattomanCover/SquattomanCoverHeader.jsx","webpack:///./components/Configurator/hooks/useHookCallback.js","webpack:///./components/Configurator/hooks/useModulesByMethod.js","webpack:///./components/Configurator/Type/SquattomanCover/SquattomanCoverSidebar.jsx","webpack:///../node_modules/react-responsive-carousel/lib/js/components/Carousel/index.js","webpack:///./components/Configurator/View/ScrollToReviewsCallback.jsx","webpack:///../node_modules/react-responsive-carousel/lib/js/shims/window.js","webpack:///./components/Configurator/Step/Accessories/Modal/index.js","webpack:///./components/Configurator/Step/Configure/TabPreBuilt.jsx","webpack:///./components/Configurator/View/Modal/ModalContext.jsx","webpack:///../node_modules/react-responsive-carousel/lib/js/components/Carousel/utils.js","webpack:///./components/Configurator/Type/OutdoorSactional/Toolbar/VrayPlayerToolbar.jsx","webpack:///./components/Configurator/View/ActionSaveShare/ActionShare.jsx","webpack:///./components/Configurator/View/ActionAddToCart/index.js","webpack:///../node_modules/ttag/index.js","webpack:///./components/Configurator/View/Player/PlayerStateSync.jsx","webpack:///./components/Configurator/View/Player/Toolbar/MeasurementButton.jsx","webpack:///../node_modules/preact/src/util.js","webpack:///../node_modules/preact/src/create-element.js","webpack:///../node_modules/preact/src/component.js","webpack:///../node_modules/preact/src/diff/children.js","webpack:///../node_modules/preact/src/diff/props.js","webpack:///../node_modules/preact/src/diff/index.js","webpack:///../node_modules/preact/src/render.js","webpack:///../node_modules/preact/src/clone-element.js","webpack:///../node_modules/preact/src/create-context.js","webpack:///../node_modules/preact/src/options.js","webpack:///../node_modules/preact/src/constants.js","webpack:///../node_modules/preact/src/diff/catch-error.js","webpack:///./components/Configurator/Type/Sactional/Toolbar/ToolbarButtons/Webgl/PlayerBottomButtons.jsx","webpack:///./components/Configurator/View/Player/constants.js","webpack:///./components/Configurator/Step/Cover/StepTabs/index.js","webpack:///./components/Configurator/calculator.js","webpack:///../node_modules/react-responsive-carousel/lib/js/dimensions.js","webpack:///./components/Configurator/Step/SactionalStyle/Modal/index.js","webpack:///./components/Configurator/Step/Configure/Modal/Info.jsx","webpack:///./components/Configurator/View/Player/PlayerLoader.jsx","webpack:///./components/Configurator/View/Review.jsx","webpack:///./components/Configurator/hooks/useAjaxRequest.js","webpack:///./components/Configurator/View/Dropdown.jsx","webpack:///./components/Configurator/View/Footer.jsx","webpack:///./components/Configurator/Type/ThrowPillow/View.jsx","webpack:///./components/Configurator/View/Modal/index.js","webpack:///../node_modules/preact/compat/src/util.js","webpack:///../node_modules/preact/compat/src/PureComponent.js","webpack:///../node_modules/preact/compat/src/memo.js","webpack:///../node_modules/preact/compat/src/forwardRef.js","webpack:///../node_modules/preact/compat/src/suspense.js","webpack:///../node_modules/preact/compat/src/suspense-list.js","webpack:///../node_modules/preact/compat/src/portals.js","webpack:///../node_modules/preact/compat/src/render.js","webpack:///../node_modules/preact/compat/src/index.js","webpack:///../node_modules/preact/compat/src/Children.js","webpack:///../node_modules/react-responsive-carousel/lib/js/components/Carousel/animations.js","webpack:///./components/Configurator/Step/Stealthtech/GlobalComponent.jsx","webpack:///./components/Configurator/Step/SactionalStyle/constants.js","webpack:///./components/Configurator/Step/SacAccessories/StepComponent.jsx","webpack:///./components/Configurator/Step/SacSize/Modal/Info.jsx","webpack:///./components/Configurator/Type/ThrowPillowCover/Thumbnails.jsx","webpack:///./components/Configurator/Step/Options/constants.js","webpack:///./components/Configurator/Step/Configure/SummaryComponent.jsx","webpack:///./components/Configurator/Step/Fill/constants.js","webpack:///./components/Configurator/Step/Configure/TabCustom.jsx","webpack:///./components/Configurator/Type/Squattoman/SquattomanHeader.jsx","webpack:///./components/Configurator/Step/Accessories/StepComponent.jsx","webpack:///./components/Configurator/View/Dimensions.jsx","webpack:///./components/Configurator/Step/Cover/Modal/index.js","webpack:///./components/Configurator/Step/SactionalStyle/SummaryComponent.jsx","webpack:///./components/Configurator/hooks/useStateButtonCallback.js","webpack:///./components/Configurator/Step/Cover/Modal/OrderSample.jsx","webpack:///./components/Configurator/View/ActionSaveShare/hooks/useLoginAjaxRequest.js","webpack:///./components/Configurator/Type/SquattomanCover/View.jsx","webpack:///./components/Configurator/Step/Configure/StepComponent.jsx","webpack:///./components/Configurator/Type/ThrowPillow/SummaryComponent.jsx","webpack:///./components/Configurator/View/Showroom.jsx","webpack:///./components/Configurator/Step/SactionalStyle/hooks/usePlayerArmType.js","webpack:///./components/Configurator/Step/SacSize/StepComponent.jsx","webpack:///./components/Configurator/Type/Sactional/Toolbar/ToolbarButtons/Webgl/UndoButton.jsx","webpack:///./components/Configurator/View/Player/PlayerThumbnails.jsx","webpack:///../node_modules/ttag/dist/ttag.min.js","webpack:///./components/Configurator/Step/Cover/hooks/useOrderSamplesAjaxRequest.js","webpack:///./components/Configurator/hooks/useTotals.js","webpack:///./components/Configurator/Step/Summary/StepComponent.jsx","webpack:///./components/Configurator/Step/SacSize/Modal/index.js","webpack:///./components/Configurator/Type/Sactional/Toolbar/WebglPlayerToolbar.jsx","webpack:///./components/Configurator/Type/SactionalCover/View.jsx","webpack:///./components/Configurator/View/Player/ThreekitPlayer.jsx","webpack:///./components/Configurator/View/StepNavigator.jsx","webpack:///./components/Configurator/View/PriceContainer.jsx","webpack:///./components/Configurator/hooks/useStateInputCallback.js","webpack:///./components/Configurator/Step/Cover/constants.js","webpack:///./components/Configurator/View/Gallery.jsx","webpack:///./components/Configurator/View/Player/index.js","webpack:///../node_modules/react-responsive-carousel/lib/js/components/Thumbs.js","webpack:///./components/Configurator/Context/DataLayer.jsx"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","angles","Thumbnails","_useConfiguratorConte","useConfiguratorContext","baseUrl","config","code","type","fabricId","useStateContext","state","threekitProductId","usePlayerProductId","getImageSrc","useCallback","concat","h","PlayerThumbnails","CurrentModal","_ref","types","modal","useModalContext","useEffect","bodyClassList","document","body","classList","add","remove","VrayButton","title","setModal","callback","event","preventDefault","className","onClick","HelpButton","useAddSampleAjaxRequest","fetchItems","arguments","length","undefined","_useAjaxRequest2","_slicedToArray","useAjaxRequest","ajaxCallback","url","method","data","toString","addFormKey","SummaryComponent","stepIndex","_useTotalsContext$mod","useTotalsContext","accessories","objects","lines","TYPE_SQUATTOMAN","squattomanObject","_step","rowTotal","_iterator","_createForOfIteratorHelper","done","first","err","e","f","push","_objectSpread","_step2","_iterator2","SummaryLineEditButton","map","accessory","index","SummaryAccessory","_ref2","_ref2$accessory","qty","Price","PieceDescription","piece","pieces","Dropdown","_templateObject","content","description","Modal","children","closeCallback","NavigatorContext","createContext","useNavigatorContext","useContext","NavigatorContextProvider","navigator","useNavigator","Provider","_useState2","useState","summaryExpanded","setSummaryExpanded","steps","_useConfiguratorConte2","initialStep","_useState4","setStepIndex","useMemo","step","stepQty","PlayerMessage","_usePlayerContext","usePlayerContext","dispatch","showPlayerMessage","closeMessage","TOGGLE_PLAYER_MESSAGE","messageData","wrapperClass","subtitleClass","subtitle","descriptionClass","actionClass","action","StepComponent","ModalContextProvider","ModalTypes","Player","show","StealthTechNotAvaliableComponent","_taggedTemplateLiteral","StealthtechDescription","Loader","StealthtechItems","ExprienceStealthtechBlock","dangerouslySetInnerHTML","__html","stealthtechStepMessage","_useConfiguratorConte3","stealthtech","entries","StealthtechItem","item","_ref3","_useStateContext$stat","stateStealthtech","displayStealthTech","stealthTechEligible","includes","NO_STEALTHTECH_CODE","StealthtechItemVisible","selected","_ref4","additionalInfo","StealthtechItemInput","StealthtechItemPrice","ShowMoreInfoButton","_ref5","prevTotal","prevOptions","options","total","_toConsumableArray","calculateTotalPrice","_ref6","useStateInputCallback","SET_STEALTHTECH","checked","_useConfiguratorConte5","stealthtechExprienceCmsBlock","_ref7","showMoreInfo","linkText","_templateObject2","_templateObject3","SummaryBar","_useNavigatorContext","SummaryBarVisible","clickHandle","expanded","SummaryButton","SidebarHeader","summaryButton","SummaryExpanded","SaveShareMobileContent","SummaryContent","ShippingInfoComponent","FinancingContent","ShowroomContent","LogoSubtitle","ReviewMobileBlock","SummaryRiskFree","SummaryShippingReturns","ActionAddToCart","riskFreeConfiguration","ProductDetailsRiskFree","cssClass","shippingReturnsConfiguration","ProductDetailsShippingReturns","_templateObject4","SummaryLines","TotalsLine","_type$extra","extra","_templateObject5","TotalsPrice","_useTotalsContext","_useNavigatorContext2","clickHandler","_templateObject6","SactionalCoverSidebar","totalWithoutDiscount","sactionalCoverHeaderRef","useRef","SactionalCoverHeader","ref","StepView","QtyIncrementor","PriceContainer","ReviewContentStars","useScrollToReviewsCallback","href","ThrowPillowSize","handleChange","id","onChange","SET_PIECE","IntroductionalModal","ModalContent","_useModalContext","slide","setSlide","closeModal","HIDE_INSTRUCTIONAL_MODAL","galleryData","img","note","role","style","Gallery","gallery","optionTile","price","preBuilt","configuration","armType","usePlayerArmType","cache","getPriceFormatted","convertToString","isNaN","toFixed","replace","trim","storageSeatPrice","TYPE_STORAGE_SEAT","unshift","option","SummaryOption","_ref2$option","useTogglePlayerHeaderEffect","elementRef","isMobile","useBrowserContext","playerMobile","querySelector","playerHeaderHandler","display","current","getBoundingClientRect","top","window","innerHeight","removeEventListener","addEventListener","VrayPlayerToolbar","ToolbarModals","MeasurementButton","FloorButton","ZoomButton","DeleteItemModal","stealthtechCoreToNoneErrorMsg","api","proceedCallback","deleteItem","cancelCallback","PlayerContext","PlayerContextProvider","_usePlayerReducer2","usePlayerReducer","SaveShareMobile","SaveButton","ShareButton","showSaveLogin","showShare","CoverTypes","fabricOptions","fabricType","FabricTypeFiltered","fabricFilter","filteredFabricOptions","filter","_filterItem$split2","split","filterCode","fromEntries","filterData","_filter$filterCode","FabricType","values","optionQty","FabricTypeTitle","fabricOption","FabricOption","_ref8","_ref9","_useStateContext2$sta","fabricLeadTimeTab","disabledFabric","fabricLeadTime","isCoverAvailable","FabricOptionVisible","_ref10","_ref10$fabricOption","_ref10$fabricOption$f","fabricImage","_ref10$fabricOption$f2","fabricThumbnail","_ref10$fabricOption$f3","fabricName","_ref10$fabricOption$f4","image","FabricOptionInput","src","alt","width","height","_ref11","stateFabricId","selectCover","SET_FABRIC","disabled","_ref12","ShowMoreInfoButtonVisible","_ref13","forwardRef","props","_fabricOptions$fabric","selectedFabricName","FinancingText","RotateButton","setCameraView","useCameraView","isOrthographic","buttonCallbackHandle","_x","apply","default","position","metric","axis","positionPercent","join","Configurator","opts","main","defaults","ConfiguratorTypes","Error","documentHeight","documentElement","setProperty","console","log","ConfiguratorContextProvider","StateContextProvider","TotalsContextProvider","DataLayerContextProvider","BrowserContextProvider","View","modalTypes","saveLogin","SaveLogin","saveLoginAfter","SaveLoginAfter","share","Share","_window$localStorage$","localStorage","getItem","fabricPieces","_options$fabricId","_options$fabricLeadTi","getPiecesWithPositiveQty","_fabricPieces$fabricI","_fabricPieces$fabricI2","_fabricPieces$fabricI3","_fabricPieces$fabricI4","covers","saccoverMarketingBlock","saccoverBenefitsBlock","sacCoverMarketingWrapper","PlayerLoader","ShippingInfo","SacCoverSidebar","StepTabs","obj","_classnames","require","_default","ROOT","customClassName","configurable","writable","_defineProperty","CAROUSEL","isSlider","carousel","WRAPPER","SLIDER","isSwiping","thumbs","slider","animated","ITEM","previous","thumb","ARROW_PREV","ARROW_NEXT","DOT","dot","SampleContent","configuratorTitle","imageUrl","setImageUrl","getThumbnail","fill","ErrorModal","_useStateContext","armStyle","SET_ARM_STYLE","undoChange","RESET_ARM_STYLE","classNames","classes","arg","argType","_typeof","Array","isArray","inner","hasOwn","define","vrayImageModal","VrayImageModal","arModal","ARModal","PlayerToolbar","configurationType","TYPE_CUSTOM","WebglPlayerToolbar","_useMemo2","_fabricLeadTypes$fabr","fabricLeadTypes","getLeadTimeText","leadTime","shippingDesc","statePiece","_fabricPieces$fabricI5","desc","DropdownComponent","ModalContext","fabricOptionsRender","tabs","leadType","fabricCount","reduce","keys","Tab","label","StepTabsDynamic","tabClickCallback","useStateButtonCallback","Tabs","activeTab","buttonName","SET_FABRIC_LEAD_TIME","TabButtons","useHook","args","introductionalModal","errorModal","info","Info","deleteItemModal","RemoveSample","closeTitle","SampleRemoveContent","defaultItems","_useRemoveItemAjaxReq2","useRemoveItemAjaxRequest","_useRemoveItemAjaxReq3","_useRemoveItemAjaxReq4","_useRemoveItemAjaxReq5","error","_useRemoveItemAjaxReq6","loading","useLayoutEffect","message","success","_data$items","items","errorMessage","item_id","itemsData","SampleListItem","OrderSamplesButton","SampleDataLoading","ConfigureModals","UndoButton","_templateObject7","_templateObject8","PlayerBottomButtons","notShowMesurementButton","find","_useModalContext$moda","InfoContent","shortDescription","features","ProductDetailsMobileBlock","visible","showHandler","modalState","ProductDetailsMobileContentBlock","reviewCount","_useState6","showModal","setShowModal","onClose","showCallback","ReviewsInitializer","opened","handleClose","updateFabricState","_state$fabricLeadTime","_state$fabricId","defaultFabricLeadTime","defaultFabricId","buildIndex","_ref$main","_ref$main$fabricOptio","_ref$main$fabricLeadT","_ref$main$fabricTypes","fabricTypes","_ref$main$fabricColor","fabricColors","_ref$main$fabricFilte","fabricFilters","_ref$main$fabricPiece","_ref$main$panelFabric","panelFabricPrices","optionsRender","fabricLeadType","fabricLeadTimes","_optionsRender$_fabri","_step3","_iterator3","_step4","filters","_iterator4","_extends","updateState","INIT","RESET_CONFIGURATION","fabricMoreInfo","fabricToFilter","LOAD","fabrics","saved","SET_FABRIC_TO_FILTER","el","SET_FABRIC_FILTER","RESET_FABRIC_FILTER","SET_CONFIGURATION_TYPE","SET_CONFIGURATION","SET_PIECES","collectTotals","usePlayerSync","setFabric","usePlayerInitParams","initialConfiguration","fabric","indexAccessories","stateAccessories","_index$saved$items","_step$value","_step$value$type","_step$value$key","SELECT_ACCESSORY_VARIANT","itemType","SET_ACCESSORY_QTY","Math","max","parseInt","INCREMENT_ACCESSORY_QTY","DECREMENT_ACCESSORY_QTY","_ref3$squattomanData","squattomanData","_stateAccessories$typ","_squattomanData$fabri","_squattomanData$fabri2","_squattomanData$fabri3","_squattomanData$fabri4","_squattomanData$fabri5","_squattomanData$fabri6","_squattomanData$fabri7","fabricObject","_ref$accessories","_ref$main$riskFreeCon","_ref$main$shippingRet","sactionalStyleSubtitle","indexArmStyle","_action$type","_action$value","hasChanges","_saved$items","SET_STEALTHTECH_ELIGIBLE","setArmType","ArmType","buildPiecesIndex","buildFabricIndex","buildPieceIndex","buildPiecePriceIndex","buildConfiguratorType","_ref2$main$configurat","configuratorType","_ref3$main$pieces","indexPieces","virtualKey","statePieces","defaultPrice","buildPreBuiltIndex","_ref4$preBuilt","_ref4$config$defaults","_ref4$config$defaults2","_ref4$config$defaults3","preBuiltIndex","groupCode","groupItems","sku","preBuiltGroups","defaultConfiguration","defaultConfigurationType","TYPE_PREBUILT","buildPreBuiltPriceIndex","_item$objects","prices","applyDiscounts","pricesWithoutDiscount","originalPrice","buildLabels","_ref5$main","_ref5$main$customTabL","customTabLabel","_ref5$main$prebuiltTa","prebuiltTabLabel","_ref5$main$customTabS","customTabSubtitle","getPieces","newPieces","pieceKey","useProductIdSync","productId","PLAYER_VRAY_MODE","setProduct","usePlusSignSync","selectedPiece","PLAYER_WEBGL_MODE","displayPlusSign","hidePlusSign","usePlayerModeSync","newMode","playerDispatch","SET_UNINITIALIZED","setPlayerMode","getThreekitApi","newApi","SET_INITIALIZED","usePiecesSync","stateDispatch","updatePieces","getItemCount","count","usePlayerEventSync","playerContext","seatsArray","updateSeatsArray","itemSelectedCallback","detail","getItemById","SET_SELECTED_PIECE","itemMovedCallback","SET_CONFIGURATION_CHANGED","updatePiecesCallback","showDeepSeatMessage","newSideType","sideTypeKey","playerMessage","deep","standard","arr","indexPreBuilt","_ref2$type","_ref2$value","showInstructionalModal","isConfiguratorChanged","savedConfigurationId","_saved$configuration","_saved$id","preBuiltPieces","match","_preBuilt$configurati","getPiecesTitle","playerState","params","playerMode","getOptionCopy","_ref$options","_ref$type","actionType","_ref$code","actionCode","_ref$value","minQty","maxQty","Number","MAX_SAFE_INTEGER","INCREMENT_OPTION_QTY","DECREMENT_OPTION_QTY","SET_OPTION_QTY","prevQty","min","storageSeat","standard_seat","deep_seat","stateOptions","indexOptions","storageSeatQty","storage_seat","deepStorageSeatQty","deepStorage_seat","shouldHideFillStep","_ref3$preBuilt","preBuiltSkus","_ref$main$fillTypes","fillTypes","defaultFill","SET_FILL","stateFill","useSetStealthtechSync","setStealthTech","showIndicators","useSetStealthTechEligibleSync","_ref4$fabricId","_ref4$fabricLeadTime","playerSTEligible","setPlayerSTEligible","setSTEligible","checkEligibility","eligibleError","isCoverStealthtechEligible","stealthtechOptimalToCoreErrorMsg","stealthtechIneligibleFabricErrorMsg","STEligible","stealthtechEligibilityStandardSidesMsg","stealthtechEligibilityStandardSeatsMsg","stealthtechEligibilityLeatherMsg","stealthtechOptimalToOptimalErrorMsg","_ref$stealthtech","_ref$isStealthtech","isStealthtech","indexStealthtech","_ref2$error","stealthtechError","stealthtechChanged","stealthtech_sku","_preBuilt$state$confi","pop","_value","_state$previous","newStealthtech","slice","GlobalComponent","StepSactionalStyle","StepConfigure","StepCover","StepOptions","StepFill","StepStealthtech","StepAccessories","StepSummary","productCategory","device","StepNavigator","sactionalPieceMarketingBlock","sactionalpiece_marketing_block","sactionalPieceBenefitsBlock","sactionalpiece_benefits_block","buildAccessoriesData","_ref$main$squattomanD","squattomanPiece","insert","StepSacSize","StepSacAccessories","piecesQty","SET_PIECEQTY","isCoversOnly","coversOnly","StepPiece","squattomanMarketingBlock","squattoman_marketing_block","squattomanDescriptionBlock","squattoman_description_block","squattomanBenefitsBlock","squattoman_benefits_block","throwpillowMarketingBlock","throwpillow_marketing_block","throwpillowDescriptionBlock","throwpillow_description_block","throwpillowBenefitsBlock","throwpillow_benefits_block","sactionalCoverMarketingBlock","sactionalcover_marketing_block","sactionalCoverBenefitsBlock","sactionalcover_benefits_block","saccover_marketing_block","saccover_benefits_block","squattomanCoverMarketingBlock","cover_marketing_cms_block","squattomanCoverBenefitsBlock","cover_benefits_cms_block","squattomanCoverDescriptionBlock","cover_description_cms_block","_i","_typesArray","Sactional","SactionalPiece","Sac","OutdoorSactional","Squattoman","ThrowPillow","SactionalCover","SacCover","SquattomanCover","throwpillowCoverMarketingBlock","throwpillowcover_marketing_block","throwpillowcover_benefits_block","throwpillowcover_description_block","configuratorContext","stateContext","totalsContext","shareCode","_index$saved","_configuratorContext$","shareUrl","last","sharingcode","buildMarketingSku","remarketingSku","getDescription","location","_modules$code","_modules$code2","_ref3$code","_ref3$title","products","_index$fabricOptions","_index$fabricOptions$","_index$fabricOptions$2","_stateContext$state","_totalsContext$last","variant","brand","category","pool","save","configurator","addOrUpdateToCart","isConfigureMode","init","ecommerce","currencyCode","actionField","list","load","summary","dataLayer","useReducer","playerReducer","defaultPlayerState","isLoaded","isInitialized","isMeasurementEnabled","domNode","floor","roomSize","oldState","SET_LOADED","TOGGLE_MEASUREMENT","SET_FLOOR","SET_ROOM_SIZE","SET_ORTHOGRAPHIC","ShowNextStepActionBar","ActionBar","ActionBarPrice","ActionBarButton","rng","getRandomValues","crypto","rnds8","unsafeStringify","offset","byteToHex","toLowerCase","randomUUID","Uint8Array","stringify","v4","buf","native","rnds","random","useSaveConfigurationRequest","result","bodyDataCallback","useBodyDataCallback","saveUrl","_asyncToGenerator","dataType","dataCallback","totals","_usePlayerContext$sta","_totals$last","_totals$last$objects","_options$fill","getConfigurationId","marketingSku","screenShotUrl","specialPrice","getName","getItems","getConfiguration","hard","soft","all","leadtime_text","covers_only","saveConfiguration","uuidv4","_x2","_x3","_object$first","_ref4$code","_ref4$title","allcartUrl","updatecartUrl","_useSaveConfiguration2","_useSaveConfiguration3","saveData","saveError","saveButtonCallback","_useAjaxRequest2$","addCartData","addCartError","ajaxCartCallback","setLoading","useDataLayerContext","addToCartCallback","sharing_code","orig_share_id","redirectUrl","ThrowPillowCoverHeader","FinancingContentMessage","target","financingMessage","financingMessageMonths","ceil","ConfiguratorContext","useIndex","buildIndexCallback","useHookCallback","indexData","setCount","QtyIncrementorVisible","increment","decrement","__webpack_amd_options__","OptionContent","selectOptionsBlock","shouldHideOption","OptionType","defaultImage","optionsFlavorText","selectOptionsSubheader","OptionQty","OptionPrice","OptionDetailsButton","_useOptionPrice","useOptionPrice","priceWithoutDiscount","normalPrice","PriceFormat","_useStateContext2","_event$target","stateOption","OptionDecrementButton","OptionQtyInput","OptionIncrementButton","onInput","_ref7$stateOption","_ref8$stateOption","Description","_ref$current","scrollIntoView","StepGlobalComponent","TitleBar","Footer","_preBuilt$configurati2","descriptionText","Filter","FilterContent","SimpleTabs","_ref2$","FabricFilterOptions","ViewResultsButton","FilterClearButton","clearCallback","qtyMap","FabricFilterOption","FabricFilterOptionInput","FabricFilterOptionLabel","inputCode","htmlFor","Dimensions","SquattomanSidebar","throwpillowCoverMarketingWrapper","ThrowPillowCoverSidebar","Fragment","FillContent","fillQty","FillType","fillType","FillTypeContent","_fillType$title","FillPrice","fillCode","FillTypeInput","newOptions","fillPrice","abs","_state$configuration","_state$piece","_state$fill","seatCount","wedge_seat","sideCount","standard_side","deep_side","rollArm_side","getPieceName","ucfirst","standard_outdoor_seat","standard_outdoor_side","str","charAt","toUpperCase","_pieceKey$replace$spl2","ThrowPillowHeader","PillowSizeTitle","Sample","modalClass","_useModalContext$moda2","_useAddSampleAjaxRequ2","_useAddSampleAjaxRequ3","buttonCallback","SampleMoreInfo","previousModalType","RemoveSampleItemButton","removeSample","SampleMessages","itemLength","_option$additionalInf","configuratorPieceDescription","configuratorIncludes","ProductIncludes","AddOptionButton","ProductIncludesItem","emptyFunction","emptyFunctionWithReset","ReactPropTypesSecret","resetWarningCache","shim","propName","componentName","propFullName","secret","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","getMaxLeadTime","getLeadTime","leadTimes","_shippingLeadTime$spl","shippingLeadTime","lead","item1","item2","_fabricPieces$fabricI6","_fabricPieces$fabricI7","_fabricPieces$fabricI8","_fabricPieces$fabricI9","_fabricPieces$fabricI10","_ref$modalClass","ModelCloseButton","BrowserContext","useBrowser","useMediaQuery","userAgent","useUserAgent","query","media","matchMedia","matches","setMatches","listener","vendor","opera","test","MSStream","_reactSwipe","_interopRequireDefault","_reactSwipe2","stealthtechEligible","orthographic","cameraView","tk","threekit","playerId","getOrCreateDomNode","getDomNode","createDomNode","getElementById","createElement","appendChild","Preact","render","interopDefault","root","firstElementChild","app","preRenderData","inlineDataElement","JSON","parse","decodeURI","innerHTML","CLI_DATA","sacSize","u","__h","__H","__","__V","B","__c","__N","setState","every","this","forEach","shouldComponentUpdate","componentWillUpdate","__e","__s","z","y","_","F","A","T","q","context","sub","x","useDebugValue","P","componentDidCatch","V","__v","__m","b","shift","__P","k","w","j","clearTimeout","g","cancelAnimationFrame","setTimeout","requestAnimationFrame","some","__b","a","__r","v","diffed","unmount","App","class","rootElement","PrevStepButton","ExitButton","TitlePageNumber","NextStepButton","_useNavigatorContext3","usePLPUrl","_useNavigatorContext4","prevTotalWithoutDiscount","ActionSave","username","password","_useLoginAjaxRequest2","useLoginAjaxRequest","_useLoginAjaxRequest3","loginData","loginError","loginLoading","throwPillowCoverHeaderRef","webpackPolyfill","deprecate","paths","sacCoverHeaderRef","SacCoverHeader","cover","ReviewContent","StyleItems","StyleItem","StyleItemInput","StyleItemContent","_ref4$item","style_image","dataURL","origin","SquattomanHeader","ThrowKitSidebar","isRollArm","useIsRollArm","isLeather","useIsLeather","isStandardSeatIneligible","useIsStandardSeatIneligible","_useTotalsContext2$la","isVisible","TkPlayer","Toolbar","_usePlayerContext2$st","ThreekitPlayer","tabIndex","setTabIndex","childArray","toChildArray","tab","StateContext","RESET","useStateReducer","updateStateCallback","initializer","reducer","_useReducer2","loaded","setLoaded","SaveLoginForm","setUsername","setPassword","changeUsername","changePassword","placeholder","_templateObject9","TotalsContext","useTotals","AddThisAccessoryButton","setAccessoryCallback","_useStateContext$stat2","_useStateContext$stat3","configurationKey","_useBrowserContext","response","getAR","usdz","glb","_react","_propTypes","_objectWithoutProperties","indexOf","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","TypeError","constructor","setPrototypeOf","__proto__","setHasSupportToCaptureOption","hasSupport","supportsCaptureOption","getSafeEventHandlerOpts","capture","getPosition","_event$touches$","touches","pageX","pageY","screenX","screenY","_react2","_propTypes2","assign","source","_createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","ReactSwipe","_Component","_len","_key","_this","getPrototypeOf","_handleSwipeStart","_handleSwipeMove","_handleSwipeEnd","_onMouseDown","_onMouseMove","_onMouseUp","_setSwiperRef","swiper","passive","allowMouseEvents","mouseDown","_getPosition","moveStart","onSwipeStart","_getPosition2","deltaX","deltaY","moving","onSwipeMove","cancelable","movePosition","onSwipeEnd","tolerance","onSwipeLeft","onSwipeRight","onSwipeUp","onSwipeDown","innerRef","_props","tagName","onMouseDown","onTouchStart","onTouchEnd","Component","displayName","propTypes","defaultProps","ajaxRequest","product_id","ConfiguratorImage","ConfiguratorText","ActionShareMail","ActionShareFacebook","ActionShareTwitter","ActionSharePinterest","ActionShare","_Carousel","_types","CarouselProps","_Thumbs","FiltersButton","AddSampleButton","Popup","setVisible","_ref$fabric","base_image","dropdownToggle","toggle","contains","FloorItems","defaultFloor","flooringOptions","selectedFabric","setSelectedFabric","FloorItem","ApplyFloorButton","_ref5$floor","floorImage","FloorItemInput","stateFloor","setFloorCallback","usePlayerFloorId","_flooringOptions$floo","threekit_id","_event$target2","_useModalContext$moda3","_useModalContext$moda4","InfoBackButton","_ref$fabric$additiona","InfoPrice","AddToSamplesButton","AddThisFabricButton","coverPrice","newState","setFabricCallback","setFabricCallbackAndClose","SquattomanCoverHeader","useModulesByMethod","SquattomanCoverSidebar","squattomanCoverHeaderRef","_getRequireWildcardCache","WeakMap","iterator","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","getOwnPropertyDescriptors","_defineProperties","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_assertThisInitialized","has","newObj","hasPropertyDescriptor","set","_interopRequireWildcard","_reactEasySwipe","_cssClasses","_document","_window","_utils","_animations","Carousel","_React$Component","_super","thumbsRef","carouselWrapperRef","listRef","itemsRef","Children","clearAutoPlay","autoPlay","timer","interval","isMouseEntered","activeElement","isFocusWithinTheCarousel","isHorizontal","prevKey","keyCode","initialized","firstItem","itemSize","clientWidth","clientHeight","updateSizes","hasMount","cancelClick","onClickItem","selectedItem","onClickThumb","moveTo","swiping","swipeMovementStarted","delta","animationHandlerResponse","swipeAnimationHandler","positions","lastPosition","infiniteLoop","selectItem","resetAutoPlay","emulateTouch","newIndex","isKeyboardEvent","previousItem","animationHandler","handleOnChange","toArray","getElementsByTagName","slideImages","complete","onImageLoad","forceUpdate","initState","itemListStyle","slideStyle","selectedStyle","prevStyle","fadeAnimationHandler","slideAnimationHandler","setupCarousel","prevProps","prevState","autoFocus","forceFocus","stopSwipingHandler","centerMode","setupAutoPlay","destroyAutoPlay","destroyCarousel","_this2","bindEvents","initialImage","getInitialImage","setMountState","unbindEvents","carouselWrapper","stopOnHover","startOnLeave","useKeyboardArrows","navigateWithKeyboard","_this$carouselWrapper","focus","isClone","_this3","minWidth","centerSlidePercentage","pointerEvents","slideProps","setItemsRef","handleClickItem","renderItem","isSelected","isPrevious","_this4","_this$props","labels","renderIndicator","changeItem","showStatus","statusFormatter","showThumbs","setThumbsRef","onSelectItem","handleClickThumb","transitionTime","thumbWidth","renderThumbs","_this5","isSwipeable","swipeable","canShowArrows","showArrows","hasPrev","hasNext","itemsClone","renderItems","firstClone","lastClone","swiperProps","swipeScrollTolerance","containerStyles","onSwipeForward","onSwipeBackwards","dynamicHeight","itemHeight","getVariableItemHeight","verticalSwipe","ariaLabel","setCarouselWrapperRef","renderControls","renderArrowPrev","onClickPrev","leftArrow","setListRef","renderArrowNext","onClickNext","rightArrow","renderStatus","noop","preventMovementUntilSwipeScrollTolerance","onClickHandler","onKeyDown","images","warn","defaultStatusFormatter","slideSwipeAnimationHandler","slideStopSwipingHandler","headerRef","yotpoContainer","yotpoOffsetTop","offsetTop","yotpoMarginTop","getComputedStyle","getPropertyValue","headerBottom","bottom","scroll","TabPreBuilt","PreBuiltGroup","groupName","PreBuiltItem","_ref6$item","PreBuiltItemInput","PreBuiltItemEdit","PreBuiltItemPrice","editConfiguration","_useTotals","setPosition","_CSSTranslate","childrenLength","currentPosition","prop","saveConfigurationAndGetUrl","ClipboardItem","getUrlBlob","Blob","text","clipboard","write","writeText","_useSaveConfiguration5","open","_useSaveConfiguration7","encodedConfiguratorUrl","encodeURIComponent","_useConfiguratorConte4","_useSaveConfiguration9","encodedText","_useSaveConfiguration11","encodedImage","PlayerStateSync","ModuleStateSync","MeasurementStateSync","FloorStateSync","useErrorBoundary","toggleMeasurement","tkFloor","setFloor","parentNode","removeChild","__k","__d","vnode","base","debounceRendering","sort","L","__n","ownerSVGElement","M","C","$","nextSibling","S","O","insertBefore","I","cssText","removeAttribute","setAttribute","H","contextType","__E","_sb","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","N","localName","nodeType","createTextNode","createElementNS","is","childNodes","attributes","componentWillUnmount","firstChild","D","E","Consumer","splice","getDerivedStateFromError","Promise","then","resolve","setSelectItem","handleSelectChange","PlayerBottomButtonsVisible","RemoveButton","rotateCallback","incrementSelectItemRotation","removeCallback","itemId","getSelectItem","_id","pieceQtys","titleParts","titleExtra","typeQtys","pieceQty","capitalize","titlePart","calculateObjectPrices","_options$applyDiscoun","totalPrice","getTotalRuleDiscount","round","EPSILON","getObjects","priceRules","getObjectPriceRules","_options$applyDiscoun2","_object$price","_object$price2","regularPrice","_object$price3","tierPrice","getTierPrice","rulePrice","getObjectRulePrice","calculatedPrice","_options$coversOnly","_piece$insert","_step3$value","_piece$virtualKey","fillObject","coverObject","newObject","_data","_data$","bundleOptions","_step5","_iterator5","getObjectSkuMap","_step6","skuMap","_iterator6","_object$price4","tierPrices","tierQty","skuQtyMap","objectPriceRules","rule","getRuleSkuMapSum","priceRule","categoryIds","categoryId","discountAmount","skuPriceMap","totalPriceRules","timesToApply","skus","outerWidth","offsetWidth","marginLeft","marginRight","setStatus","PlayerJsLoader","PlayerInitializer","PlayerSync","playerJs","configuratorJs","loadScript","initParams","useInitParams","initPlayer","domNodeId","useDomNodeId","reject","script","onload","onerror","async","head","createRef","visibility","reviewsModalWrapper","querySelectorAll","reviewAverageScore","score","parseFloat","stars","from","defaultState","defaultError","fetchParams","getFetchParams","fetch","ok","json","_ref2$data","_ref2$dataCallback","_ref2$method","_ref2$dataType","_ref2$addFormKey","headers","accept","credentials","getFormKey","URLSearchParams","cookie","parts","decodeURIComponent","defaultStyle","maxHeight","setActive","setActiveState","setStyle","mainContent","toggleAccordion","scrollHeight","_useState8","SummaryNextStepActionBar","SummaryActionsToolbar","SummaryTotalComfort","SummaryActionsSaveButton","SummaryActionsShareButton","SummaryTotalComfortLogo","isReactComponent","__f","$$typeof","U","__u","__a","containerInfo","G","textContent","J","Q","X","cancelBubble","nn","defaultPrevented","fn","an","sn","hn","vn","yn","_n","bn","gn","isPureReactComponent","R","for","only","__R","__O","fallback","W","delete","revealOrder","size","Map","reverse","Z","Y","K","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","tn","en","rn","multiple","defaultValue","un","on","ln","ReactCurrentDispatcher","readContext","cn","dn","pn","mn","Sn","Cn","useId","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","useImperativeHandle","version","hydrate","unmountComponentAtNode","createPortal","createFactory","cloneElement","isValidElement","findDOMNode","PureComponent","memo","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","returnStyles","transformProp","WebkitTransform","msTransform","OTransform","transform","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration","transitionDuration","msTransitionDuration","finalBoundry","axisDelta","handledDelta","hasMoved","transitionTimingFunction","zIndex","minHeight","opacity","right","left","msTransitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","OTransitionTimingFunction","Accessories","AccessoriesDescription","Accessory","AccessorySquattoman","AccessorySac","_index$squattomanData","_index$squattomanData2","_index$squattomanData3","_index$squattomanData4","_index$squattomanData5","_index$squattomanData6","squattomanAccessory","_ref5$price","_accessory$price","AccessoryImageGallery","AccessoryVariants","AccessoryQty","AccessoryDetails","showDetails","setShowDetails","details","AccessoryDetailsContent","configure","TabCustom","CustomItems","CustomItem","_ref$piece","_ref$piece$virtualKey","CustomItemQty","CustomItemInput","getPieceQty","pieceCodes","accessoriesStepMessage","AccessoryTitle","AccessoryPrice","AccessoryVariant","_useStateContext3","AccessoryVariantImage","accessoryOptionImage","AccessoryVariantInput","AccessoryQtyInput","_ref12$accessory","dimensions","sample","orderSample","OrderSample","_objectDestructuringEmpty","OrderSampleContent","_useOrderSamplesAjaxR2","useOrderSamplesAjaxRequest","_useOrderSamplesAjaxR3","ajaxData","bodyData","squattomanCoverMarketingWrapper","PillowSize","SacOptions","introductionBlock","SacOption","seatingAmount","disabledPiece","showDiscount","SacInfoButton","SacOptionInput","resetingClass","setResetingClass","dispatchEvent","Event","_ref$angles","currentIndex","setCurrentIndex","_useStateContext$stat4","PlayerThumbnailSync","DragToRotateText","PlayerThumbnailButtons","setCameraTool","enabled","rotateCamera","dragToRotateTextVisible","PlayerThumbnailButtonsVisible","angle","imageSrc","PlayerThumbnailButton","_ref5$item","next","return","msgid","msgid_plural","msgstr","comments","translations","contexts","getCurrentLocaleHeaders","language","Language","getPluralFunc","Function","exec","RegExp","locales","currentLocales","currentLocale","dedent","defaultLang","addLocale","setCurrentLocale","setDedent","setCurrentLocales","getAvailLocales","getCurrentLocales","getCurrentLocale","isDedent","setDefaultLang","getDefaultPluralFn","getDefaultPluralFormsCount","getNPlurals","getContext","_strs","_exprs","flag","jt","gettext","ngettext","Boolean","useLocale","useLocales","String","TTag","raw","ach","af","ak","am","ar","arn","ast","ay","az","be","bg","bo","br","brx","bs","ca","cgg","cs","csb","cy","da","de","doi","dz","eo","es","et","eu","fa","ff","fi","fil","fo","fr","fur","fy","ga","gd","gl","gu","gun","ha","he","hi","hne","hr","hu","hy","it","ja","jbo","jv","ka","kab","kk","km","kn","ko","ku","kw","ky","lb","lo","lt","lv","mai","mfe","mg","mi","mk","ml","mni","mnk","mr","ms","mt","my","nah","nap","nb","ne","nl","no","nso","oc","or","pa","pap","pl","pms","ps","pt","rm","ro","ru","rw","sah","sat","sco","sd","se","si","sk","sl","so","son","sq","sr","su","sv","sw","ta","te","tg","th","ti","tr","tt","ug","uk","ur","uz","vi","wa","wo","yo","zh","hasLang","getAvailLangs","quoteItems","defaultTotals","addSubtotals","previousTotal","moduleTotal","SummaryHeader","ProductDetailsMobile","SummaryActionBar","SummaryTotalPrice","_useTotalsContext2","sactionalCoverMarketingWrapper","StepViewInner","StepViewContent","scrollTop","_ref$classes","_ref$setSlide","ImagesGallery","Image","defaultSetSlide","_dimensions","Thumbs","itemsWrapperRef","itemsListRef","wrapperSize","visibleItems","_state","getFirstItem","handler","setupThumbs","destroyThumbs","itemClass","thumbProps","itemListStyles","MozTransform","MsTransform","MsTransitionDuration","setItemsWrapperRef","slideRight","slideLeft","setItemsListRef","DataLayerContext","queue","setQueue","dataLayerPush","DataLayerProcessor"],"mappings":"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","file":"bundle.1224d.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"Pq/i\");\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { PlayerThumbnails } from '../../View/Player/PlayerThumbnails';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateContext } from '../../Context/State';\nimport { usePlayerProductId } from '../../Step/SacSize/hooks/usePlayerProductId';\n\nconst angles = [0, 1, 2, 3];\n\nexport const Thumbnails = () => {\n    const {\n        config: { baseUrl },\n        type: { code },\n    } = useConfiguratorContext();\n    const {\n        state: { fabricId },\n    } = useStateContext();\n    const threekitProductId = usePlayerProductId();\n\n    const getImageSrc = useCallback(\n        (code) => {\n            switch (code) {\n                case '360': {\n                    return `${baseUrl}media/wysiwyg/rotation-thumbnail.svg`;\n                }\n                case 'zoom': {\n                    return null;\n                }\n                default: {\n                    return `${baseUrl}media/threekit/carousel/${threekitProductId}/${fabricId}-${code}.jpg`;\n                }\n            }\n        },\n        [baseUrl, fabricId, threekitProductId]\n    );\n    return <PlayerThumbnails angles={angles} getImageSrc={getImageSrc} code={code} />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useEffect } from 'preact/hooks';\nimport { useModalContext } from './ModalContext';\n\nexport const CurrentModal = ({ types }) => {\n    const { modal } = useModalContext();\n\n    useEffect(() => {\n        const bodyClassList = document.body.classList;\n        if (modal && types[modal.type]) {\n            bodyClassList.add('modal-active');\n        } else {\n            bodyClassList.remove('modal-active');\n        }\n    }, [modal, types]);\n\n    if (!modal) {\n        return;\n    }\n\n    return types[modal.type];\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { useModalContext } from '../../../../../View/Modal';\n\nexport const VrayButton = ({ title }) => {\n    const { setModal } = useModalContext();\n    const callback = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'vrayImageModal',\n            });\n        },\n        [setModal]\n    );\n\n    return (\n        <button className=\"player-button vray\" onClick={callback} title={title}>\n            <span>{title}</span>\n        </button>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { useModalContext } from '../../../../../View/Modal';\n\nexport const HelpButton = ({ title }) => {\n    const { setModal } = useModalContext();\n    const callback = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'introductionalModal',\n            });\n        },\n        [setModal]\n    );\n\n    return (\n        <button className=\"player-button help\" onClick={callback} title={title}>\n            <span>{title}</span>\n        </button>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { useAjaxRequest } from '../../../hooks/useAjaxRequest';\n\nexport const useAddSampleAjaxRequest = (fabricId, fetchItems = null) => {\n    const [result, ajaxCallback] = useAjaxRequest();\n    const url = fetchItems ? '/configurator/swatchbook/fetchItems' : '/configurator/swatchbook/addItem';\n\n    const callback = useCallback(() => {\n        ajaxCallback({\n            method: 'POST',\n            url,\n            data: {\n                fabricId: fabricId.toString(),\n            },\n            addFormKey: true,\n        });\n    }, [fabricId, ajaxCallback, url]);\n\n    return [result, callback];\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { SummaryLineEditButton } from '../../View/Summary';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { Price } from '../../View/Price';\nimport { title, TYPE_SQUATTOMAN } from './constants';\n\nexport const SummaryComponent = ({ stepIndex }) => {\n    const {\n        modules: {\n            accessories: { objects, types },\n        },\n    } = useTotalsContext();\n\n    const lines = [];\n\n    if (types[TYPE_SQUATTOMAN]) {\n        let rowTotal = 0;\n        let name = '';\n        let squattomanObject;\n        for (const object of objects) {\n            if (object.type === TYPE_SQUATTOMAN) {\n                if (object.key) {\n                    squattomanObject = object;\n                    name = `${object.name}: ${object.first} `;\n                }\n                rowTotal += object.rowTotal;\n            }\n        }\n        if (squattomanObject) {\n            lines.push({ ...squattomanObject, rowTotal, name });\n        }\n    }\n\n    for (const object of objects) {\n        if (types[object.type] && object.type !== TYPE_SQUATTOMAN) {\n            lines.push(object);\n        }\n    }\n\n    return (\n        <div className=\"summary-line item-4\">\n            <div className=\"title\">{title}</div>\n            <SummaryLineEditButton stepIndex={stepIndex} />\n            <div className=\"options\">\n                {lines.map((accessory, index) => {\n                    return <SummaryAccessory accessory={accessory} key={index} />;\n                })}\n            </div>\n        </div>\n    );\n};\n\nconst SummaryAccessory = ({ accessory: { name, rowTotal, qty } }) => {\n    return (\n        <div className=\"option\">\n            <div className=\"price-container\">\n                <Price value={rowTotal} />\n            </div>\n            <div className=\"option-name\">{`${name} (x${qty})`}</div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useConfiguratorContext } from '../Context/Configurator';\nimport { useStateContext } from '../Context/State';\nimport { Dropdown } from './Dropdown';\n\nexport const PieceDescription = () => {\n    const {\n        index: { pieces },\n    } = useConfiguratorContext();\n    const {\n        state: { piece: statePiece },\n    } = useStateContext();\n    const piece = pieces[statePiece];\n\n    if (piece) {\n        return <Dropdown title={t`Description`} content={piece.description} />;\n    }\n\n    return null;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { useCallback } from 'preact/hooks';\nimport { useModalContext } from './ModalContext';\n\nexport const Modal = ({ title, code, children }) => {\n    const { setModal } = useModalContext();\n    const closeCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal(null);\n        },\n        [setModal]\n    );\n\n    return (\n        <div className={`modal-dialog ${code}`}>\n            <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                    <span className=\"modal-title\">{title}</span>\n                    <a className=\"btn-close\" onClick={closeCallback} />\n                </div>\n                {children}\n            </div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { createContext } from 'preact';\nimport { useContext, useState, useMemo } from 'preact/hooks';\nimport { useConfiguratorContext } from './Configurator';\n\nconst NavigatorContext = createContext({});\n\nexport const useNavigatorContext = () => useContext(NavigatorContext);\n\nexport const NavigatorContextProvider = ({ children }) => {\n    const navigator = useNavigator();\n\n    return <NavigatorContext.Provider value={navigator}>{children}</NavigatorContext.Provider>;\n};\n\nconst useNavigator = () => {\n    const [summaryExpanded, setSummaryExpanded] = useState(false);\n    const {\n        type: { steps },\n        config: { initialStep = 1 },\n    } = useConfiguratorContext();\n    const [stepIndex, setStepIndex] = useState(initialStep - 1);\n\n    return useMemo(() => {\n        const step = steps[stepIndex];\n        const stepQty = steps.length;\n\n        return {\n            stepIndex,\n            setStepIndex,\n            step,\n            stepQty,\n            summaryExpanded,\n            setSummaryExpanded,\n        };\n    }, [stepIndex, setStepIndex, steps, summaryExpanded, setSummaryExpanded]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { usePlayerContext } from '../../Context/Player';\nimport { TOGGLE_PLAYER_MESSAGE } from './constants';\n\nexport const PlayerMessage = () => {\n    const {\n        dispatch,\n        state: { showPlayerMessage },\n    } = usePlayerContext();\n\n    const closeMessage = useCallback(\n        (event) => {\n            event.preventDefault();\n            dispatch({\n                type: TOGGLE_PLAYER_MESSAGE,\n                data: null,\n            });\n        },\n        [dispatch]\n    );\n\n    return useMemo(() => {\n        const messageData = showPlayerMessage ? showPlayerMessage.data : null;\n        return (\n            messageData && (\n                <div\n                    className={`player-message__wrapper\n                    ${(messageData.wrapperClass = '')}`}\n                >\n                    <div className=\"player-message__header\">\n                        <span className={(messageData.subtitleClass = '')}>{messageData.subtitle}</span>\n                        <button className=\"action-close\" data-role=\"closeBtn\" onClick={closeMessage} type=\"button\">\n                            <span>{t`Close`}</span>\n                        </button>\n                    </div>\n                    <p className={(messageData.descriptionClass = '')}>{messageData.description}</p>\n                    <button\n                        className={`message-action action primary\n                        ${(messageData.actionClass = '')}`}\n                        onClick={closeMessage}\n                        name={messageData.action}\n                    >\n                        {messageData.action}\n                    </button>\n                </div>\n            )\n        );\n    }, [showPlayerMessage, closeMessage]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { useStateContext } from '../../Context/State';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateInputCallback } from '../../hooks/useStateInputCallback';\nimport { Player } from '../../View/Player';\nimport { Price } from '../../View/Price';\nimport { ModalContextProvider, useModalContext } from '../../View/Modal';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { calculateTotalPrice } from '../../calculator';\nimport { Loader } from '../../View/Loader';\nimport { SET_STEALTHTECH, NO_STEALTHTECH_CODE } from './constants';\nimport ModalTypes from './Modal';\nimport { StealthTechNotAvaliableComponent } from './StealthTechNotAvaliableComponent';\n\nexport const StepComponent = () => {\n    return (\n        <ModalContextProvider types={ModalTypes}>\n            <div className=\"content-stealthtech-wrapper content-fill-wrapper\">\n                <Player show=\"mobile\" />\n                <div className=\"stealthtech-not-avaliable-container\">\n                    <StealthTechNotAvaliableComponent />\n                </div>\n                <div className=\"title-fill-wrapper\">\n                    <div className=\"title-fill\">{t`StealthTech™`}</div>\n                    <StealthtechDescription />\n                </div>\n                <Loader>\n                    <StealthtechItems />\n                    <ExprienceStealthtechBlock />\n                </Loader>\n            </div>\n        </ModalContextProvider>\n    );\n};\n\nconst StealthtechDescription = () => {\n    const {\n        index: { stealthtechStepMessage },\n    } = useConfiguratorContext();\n\n    return (\n        <div className=\"stealthtech-exprience-cms\">\n            <div\n                dangerouslySetInnerHTML={{\n                    __html: stealthtechStepMessage,\n                }}\n            />\n        </div>\n    );\n};\n\nconst StealthtechItems = () => {\n    const {\n        index: { stealthtech: stealthtechIndex = {} },\n    } = useConfiguratorContext();\n\n    return (\n        <div className=\"stealthtech-items\">\n            {Object.entries(stealthtechIndex).map(([code, item]) => {\n                return <StealthtechItem key={code} code={code} item={item} />;\n            })}\n        </div>\n    );\n};\n\nconst StealthtechItem = ({ code, item }) => {\n    const {\n        state: { stealthTechEligible, stealthtech: stateStealthtech, pieces },\n    } = useStateContext();\n\n    const displayStealthTech = stealthTechEligible.includes(code) && pieces['rollArm_side'] === 0;\n\n    return useMemo(() => {\n        if (code === NO_STEALTHTECH_CODE || displayStealthTech) {\n            return <StealthtechItemVisible code={code} item={item} selected={stateStealthtech === code} />;\n        }\n    }, [code, stateStealthtech, item, displayStealthTech]);\n};\n\nconst StealthtechItemVisible = ({ code, item, selected }) => {\n    const { name, additionalInfo } = item;\n\n    return (\n        <label className={`stealthtech-item ${selected ? 'checked' : ''}`}>\n            <StealthtechItemInput code={code} selected={selected} />\n            <div className=\"stealthtech-item-name\">{name}</div>\n            <StealthtechItemPrice item={item} />\n            <ShowMoreInfoButton code={code} title={name} data={additionalInfo} />\n        </label>\n    );\n};\n\nconst StealthtechItemPrice = ({ item }) => {\n    const { index } = useConfiguratorContext();\n    const {\n        modules: {\n            accessories: {\n                prevTotal: { options: prevOptions, total: prevTotal },\n            },\n        },\n    } = useTotalsContext();\n\n    return useMemo(() => {\n        const objects = prevOptions.objects ? [...prevOptions.objects] : [];\n        const options = { ...prevOptions, objects };\n        objects.push([item, 1]);\n\n        const total = calculateTotalPrice(index, options).total;\n        const price = total - prevTotal;\n\n        return (\n            <span className=\"stealthtech-item-price\">\n                <Price value={price} />\n            </span>\n        );\n    }, [prevOptions, item, index, prevTotal]);\n};\n\nconst StealthtechItemInput = ({ code, selected }) => {\n    const callback = useStateInputCallback();\n\n    return useMemo(\n        () => (\n            <div className=\"stealthtech-selection\">\n                <input\n                    type=\"radio\"\n                    className=\"stealthtech-selection-input\"\n                    name={SET_STEALTHTECH}\n                    onClick={callback}\n                    value={code}\n                    checked={selected}\n                />\n                <span className=\"stealthtech-selection-icon\" />\n            </div>\n        ),\n        [selected, callback, code]\n    );\n};\n\nconst ExprienceStealthtechBlock = () => {\n    const {\n        index: { stealthtechExprienceCmsBlock },\n    } = useConfiguratorContext();\n\n    return (\n        <div className=\"stealthtech-exprience-cms\">\n            <div\n                dangerouslySetInnerHTML={{\n                    __html: stealthtechExprienceCmsBlock,\n                }}\n            />\n        </div>\n    );\n};\n\nconst ShowMoreInfoButton = ({ code, title, data }) => {\n    const { setModal } = useModalContext();\n    const showMoreInfo = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'info',\n                title,\n                data,\n            });\n        },\n        [setModal, title, data]\n    );\n\n    return useMemo(() => {\n        const linkText =\n            code !== NO_STEALTHTECH_CODE\n                ? t`What’s included?`\n                : t`You can add StealthTech to your Sactional anytime in the future`;\n\n        return (\n            <div className=\"stealthtech-item-details__link\">\n                <button\n                    className=\"stealthtech-item-details__link-link\"\n                    data-item-code={code}\n                    onClick={showMoreInfo}\n                    title={linkText}\n                >\n                    {linkText}\n                </button>\n            </div>\n        );\n    }, [showMoreInfo, code]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { useNavigatorContext } from '../Context/Navigator';\nimport { useConfiguratorContext } from '../Context/Configurator';\nimport { useTotalsContext } from '../Context/Totals';\nimport { Price } from './Price';\nimport { ActionAddToCart } from './ActionAddToCart';\nimport { FinancingContent } from './Financing';\nimport { ShowroomContent } from './Showroom';\nimport { SaveShareMobileContent } from './ActionMobile';\nimport { SidebarHeader } from './SidebarHeader';\nimport { ProductDetailsRiskFree, ProductDetailsShippingReturns, ReviewMobileBlock } from './ProductDetailsMobile';\nimport { ShippingInfoComponent } from './ShippingInfoComponent';\nimport { LogoSubtitle } from './LogoSubtitle';\nimport { Loader } from './Loader';\n\nexport const SummaryBar = () => {\n    const { stepIndex, stepQty, summaryExpanded, setSummaryExpanded } = useNavigatorContext();\n\n    if (stepIndex + 1 >= stepQty) {\n        return;\n    }\n\n    return <SummaryBarVisible setSummaryExpanded={setSummaryExpanded} summaryExpanded={summaryExpanded} />;\n};\n\nconst SummaryBarVisible = ({ setSummaryExpanded, summaryExpanded }) => {\n    const clickHandle = useCallback(\n        (event) => {\n            event.preventDefault();\n            setSummaryExpanded((expanded) => !expanded);\n        },\n        [setSummaryExpanded]\n    );\n\n    const SummaryButton = (\n        <button className={`sidebar-header__action ${summaryExpanded ? 'active' : ''}`} onClick={clickHandle}>\n            {t`Summary`}\n        </button>\n    );\n\n    return <SidebarHeader summaryButton={SummaryButton} />;\n};\n\nexport const SummaryExpanded = () => {\n    return (\n        <div className=\"summary-expanded\">\n            <div className=\"summary\">\n                <div className=\"summary-header\">\n                    <SaveShareMobileContent />\n                    <div className=\"title\">{t`Review your setup and add to cart`}</div>\n                </div>\n\n                <SummaryContent />\n\n                <Loader>\n                    <ShippingInfoComponent />\n                    <FinancingContent />\n                    <ShowroomContent />\n\n                    <div className=\"product-details-mobile\">\n                        <LogoSubtitle />\n                        <ReviewMobileBlock />\n                        <SummaryRiskFree />\n                        <SummaryShippingReturns />\n                    </div>\n                </Loader>\n            </div>\n            <ActionAddToCart />\n        </div>\n    );\n};\n\nconst SummaryRiskFree = () => {\n    const {\n        index: { riskFreeConfiguration },\n    } = useConfiguratorContext();\n\n    return (\n        <ProductDetailsRiskFree\n            title={t`Risk-Free 60-Day Home Trial`}\n            cssClass={'risk-free'}\n            content={riskFreeConfiguration}\n        />\n    );\n};\n\nconst SummaryShippingReturns = () => {\n    const {\n        index: { shippingReturnsConfiguration },\n    } = useConfiguratorContext();\n\n    return (\n        <ProductDetailsShippingReturns\n            title={t`Shipping and Returns`}\n            cssClass={'shipping-returns'}\n            content={shippingReturnsConfiguration}\n        />\n    );\n};\n\nexport const SummaryContent = () => {\n    return (\n        <div className=\"summary-content\">\n            <SummaryLines />\n            <TotalsLine />\n        </div>\n    );\n};\n\nconst SummaryLines = () => {\n    const { type } = useConfiguratorContext();\n\n    return useMemo(() => {\n        const { steps, extra = [] } = type;\n        return (\n            <div className=\"summary-lines\">\n                {extra.map((step, index) => (\n                    <step.SummaryComponent stepIndex={index} key={-1 - index} />\n                ))}\n                {steps.map((step, index) => (\n                    <step.SummaryComponent stepIndex={index} key={index} />\n                ))}\n            </div>\n        );\n    }, [type]);\n};\n\nconst TotalsLine = () => {\n    return (\n        <div className=\"summary-total\">\n            <div className=\"title\">{t`Total`}</div>\n            <div className=\"price-container\">\n                <TotalsPrice />\n            </div>\n        </div>\n    );\n};\n\nconst TotalsPrice = () => {\n    const { total } = useTotalsContext();\n    return <Price value={total} />;\n};\n\nexport const SummaryLineEditButton = ({ stepIndex }) => {\n    const { setStepIndex, setSummaryExpanded } = useNavigatorContext();\n\n    const clickHandler = useCallback(\n        (event) => {\n            event.preventDefault();\n            setStepIndex(stepIndex);\n            setSummaryExpanded(false);\n        },\n        [stepIndex, setStepIndex, setSummaryExpanded]\n    );\n\n    return useMemo(\n        () => (\n            <button className=\"summary-line-edit\" onClick={clickHandler}>\n                {t`Edit`}\n            </button>\n        ),\n        [clickHandler]\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useRef } from 'preact/hooks';\nimport { FinancingContent } from '../../View/Financing';\nimport { ReviewContentStars } from '../../View/Review';\nimport { useNavigatorContext } from '../../Context/Navigator';\nimport { QtyIncrementor } from '../../View/QtyIncrementor';\nimport { ActionAddToCart } from '../../View/ActionAddToCart';\nimport { PriceContainer } from '../../View/PriceContainer';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { useScrollToReviewsCallback } from '../../View/ScrollToReviewsCallback';\nimport { SactionalCoverHeader } from './SactionalCoverHeader';\n\nexport const SactionalCoverSidebar = () => {\n    const { total, totalWithoutDiscount } = useTotalsContext();\n    const sactionalCoverHeaderRef = useRef(null);\n\n    return (\n        <div className=\"step step-squattoman sactional-cover-step\">\n            <SactionalCoverHeader ref={sactionalCoverHeaderRef} />\n            <StepView />\n            <QtyIncrementor show=\"mobile\" />\n            <div className=\"summary-actions summary-actions--throwpillow\">\n                <QtyIncrementor show=\"desktop\" />\n                <PriceContainer total={total} totalWithoutDiscount={totalWithoutDiscount} />\n                <ActionAddToCart />\n            </div>\n            <FinancingContent />\n            <div className=\"review\">\n                <ReviewContentStars />\n                <div className=\"total-reviews\">\n                    <a\n                        onClick={useScrollToReviewsCallback(sactionalCoverHeaderRef)}\n                        href=\"javascript: void(0)\"\n                    >{t`See All Reviews`}</a>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst StepView = () => {\n    const { step } = useNavigatorContext();\n    return <step.StepComponent />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateInputCallback } from '../../hooks/useStateInputCallback';\nimport { useStateContext } from '../../Context/State';\nimport { SET_PIECE } from '../../Step/Piece/constants';\n\nexport const ThrowPillowSize = () => {\n    const {\n        index: { pieces },\n    } = useConfiguratorContext();\n    const {\n        state: { piece },\n    } = useStateContext();\n\n    const handleChange = useStateInputCallback();\n\n    return (\n        <div className=\"throwPillow-size__wrapper\">\n            <span className=\"throwPillow-size__label\">{t`Size`}</span>\n            <select\n                className=\"throwPillow-size__select\"\n                id=\"throwPillow-size\"\n                onChange={handleChange}\n                name={SET_PIECE}\n                value={piece}\n            >\n                {Object.entries(pieces).map(([code, piece]) => (\n                    <option value={code} data-option-name={piece.name} key={code}>\n                        {piece.name}\n                    </option>\n                ))}\n            </select>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo, useCallback, useState } from 'preact/hooks';\nimport { Gallery } from '../../../View/Gallery';\nimport { useConfiguratorContext } from '../../../Context/Configurator';\nimport { useStateContext } from '../../../Context/State';\nimport { HIDE_INSTRUCTIONAL_MODAL } from '../constants';\nimport { useModalContext } from '../../../View/Modal';\n\nexport const IntroductionalModal = () => {\n    return useMemo(() => {\n        return <ModalContent />;\n    }, []);\n};\n\nconst ModalContent = () => {\n    const { setModal, modal } = useModalContext();\n    const { dispatch } = useStateContext();\n    const bodyClassList = document.body.classList;\n    const [slide, setSlide] = useState(0);\n\n    const closeModal = useCallback(\n        (event) => {\n            event.preventDefault();\n            dispatch({ type: HIDE_INSTRUCTIONAL_MODAL });\n            bodyClassList.remove(modal.type);\n            setModal(null);\n        },\n        [setModal, dispatch, bodyClassList, modal.type]\n    );\n\n    const {\n        config: { baseUrl },\n    } = useConfiguratorContext();\n\n    const galleryData = useMemo(\n        () => [\n            {\n                img: `${baseUrl}media/wysiwyg/configurator/side-side.png`,\n                note: '<span>Tap a seat or side to <b>select</b></span>',\n            },\n            {\n                img: `${baseUrl}media/wysiwyg/configurator/new-selection-icon.png`,\n                note: '<span>Tap a + icon to <b>add</b> a new section</span>',\n            },\n            {\n                img: `${baseUrl}media/wysiwyg/configurator/drag-icon.png`,\n                note: '<span>Tap and drag a section to <b>move</b></span>',\n            },\n        ],\n        [baseUrl]\n    );\n\n    bodyClassList.add(modal.type);\n\n    return (\n        <div\n            role=\"dialog\"\n            className=\"modal-popup confirm stealthtech-error-modal _show instruction-modal__wrapper\"\n            style=\"z-index: 902;\"\n        >\n            <div className=\"modal-inner-wrap\" data-role=\"focusable-scope\">\n                <div className=\"modal-header\">\n                    <button className=\"action-close\" data-role=\"closeBtn\" onClick={closeModal} type=\"button\">\n                        <span>{t`Close`}</span>\n                    </button>\n                </div>\n                <div className=\"modal-content\" data-role=\"content\">\n                    <div className=\"gallery-details__wrapper\">\n                        <h2 className=\"gallery-title\">{t`Customize Your Configuration`}</h2>\n                        <p className=\"gallery-desc\">\n                            {slide === 0 &&\n                                t`You can select, move around, and add sections to create the Sactional setup of your dreams.`}\n                        </p>\n                        <Gallery setSlide={setSlide} gallery={galleryData} />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { SummaryLineEditButton } from '../../View/Summary';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { Price } from '../../View/Price';\nimport { title } from './constants';\n\nexport const SummaryComponent = ({ stepIndex }) => {\n    const {\n        modules: {\n            stealthtech: { title: optionTile, price },\n        },\n    } = useTotalsContext();\n\n    return (\n        <div className=\"summary-line item-4\">\n            <div className=\"title\">{title}</div>\n            <SummaryLineEditButton stepIndex={stepIndex} />\n            <div className=\"price-container\">\n                <Price value={price} />\n            </div>\n            <div className=\"option-name\">{optionTile}</div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { PlayerThumbnails } from '../../View/Player/PlayerThumbnails';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateContext } from '../../Context/State';\nimport { usePlayerArmType } from '../../Step/SactionalStyle/hooks/usePlayerArmType';\n\nconst angles = [0, 1, 2, 3];\n\nexport const Thumbnails = () => {\n    const {\n        config: { baseUrl },\n        index: { preBuilt },\n        type: { code },\n    } = useConfiguratorContext();\n    const {\n        state: { configuration, fabricId },\n    } = useStateContext();\n    const armType = usePlayerArmType();\n\n    const getImageSrc = useCallback(\n        (code) => {\n            switch (code) {\n                case '360': {\n                    return `${baseUrl}media/wysiwyg/rotation-thumbnail.svg`;\n                }\n                case 'zoom': {\n                    return `${baseUrl}media/threekit/carousel/zoom/indoor/${fabricId}-Standard-zoom.jpg`;\n                }\n                default: {\n                    const threekitProductId = preBuilt[configuration].threekitProductId;\n                    return `${baseUrl}media/threekit/carousel/${threekitProductId}/${fabricId}-${armType}-${code}.jpg`;\n                }\n            }\n        },\n        [baseUrl, fabricId, armType, preBuilt, configuration]\n    );\n    return <PlayerThumbnails angles={angles} getImageSrc={getImageSrc} code={code} />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nconst cache = {};\n\nexport const Price = ({ value }) => {\n    return <span className=\"price\">{getPriceFormatted(value)}</span>;\n};\n\nconst getPriceFormatted = (value) => {\n    if (!(value in cache)) {\n        cache[value] = convertToString(value);\n    }\n    return cache[value];\n};\n\nconst convertToString = (price) => {\n    if (isNaN(price)) {\n        return '';\n    }\n    return price\n        .toFixed(2)\n        .replace(/\\B(?!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ',')\n        .replace(/^(-)?/, '$1 $')\n        .trim();\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { SummaryLineEditButton } from '../../View/Summary';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { Price } from '../../View/Price';\nimport { title, TYPE_STORAGE_SEAT } from './constants';\n\nexport const SummaryComponent = ({ stepIndex }) => {\n    const {\n        modules: {\n            options: { price, objects, types },\n        },\n    } = useTotalsContext();\n\n    const lines = [];\n\n    let storageSeatPrice = price;\n    for (const object of objects) {\n        if (types[object.type]) {\n            lines.push(object);\n            storageSeatPrice -= object.rowTotal;\n        }\n    }\n\n    if (types[TYPE_STORAGE_SEAT]) {\n        lines.unshift({\n            name: t`Storage Seat`,\n            rowTotal: storageSeatPrice,\n            qty: types[TYPE_STORAGE_SEAT],\n        });\n    }\n\n    return (\n        <div className=\"summary-line item-4\">\n            <div className=\"title\">{title}</div>\n            <SummaryLineEditButton stepIndex={stepIndex} />\n            <div className=\"options\">\n                {lines.map((option, index) => {\n                    return <SummaryOption option={option} key={index} />;\n                })}\n            </div>\n        </div>\n    );\n};\n\nconst SummaryOption = ({ option: { name, rowTotal, qty } }) => {\n    return (\n        <div className=\"option\">\n            <div className=\"price-container\">\n                <Price value={rowTotal} />\n            </div>\n            <div className=\"option-name\">{`${name} (x${qty})`}</div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useEffect } from 'preact/hooks';\nimport { useBrowserContext } from '../../Context/Browser';\n\nexport const useTogglePlayerHeaderEffect = (elementRef) => {\n    const { isMobile } = useBrowserContext();\n\n    return useEffect(() => {\n        if (isMobile && elementRef) {\n            const playerMobile = document.querySelector('.player');\n            const playerHeaderHandler = () => {\n                if (elementRef.current.getBoundingClientRect().top <= window.innerHeight) {\n                    playerMobile.style.display = 'none';\n                } else {\n                    playerMobile.style.display = 'block';\n                }\n            };\n            window.removeEventListener('scroll', playerHeaderHandler);\n            window.addEventListener('scroll', playerHeaderHandler);\n        }\n    }, [isMobile, elementRef]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { MeasurementButton } from '../../../View/Player/Toolbar/MeasurementButton';\nimport { FloorButton } from '../../../View/Player/Toolbar/FloorButton';\nimport { ZoomButton } from '../../../View/Player/Toolbar/ZoomButton';\nimport ToolbarModals from '../../../View/Player/Toolbar/Modal';\nimport { ModalContextProvider } from '../../../View/Modal';\n\nexport const VrayPlayerToolbar = () => {\n    return (\n        <ModalContextProvider types={ToolbarModals}>\n            <div className=\"player-toolbar\">\n                <MeasurementButton title={t`Toggle Measurement`} />\n                <FloorButton title={t`Change Floor`} />\n                <ZoomButton title={t`Augmented Reality`} />\n            </div>\n        </ModalContextProvider>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { t } from 'ttag';\nimport { useModalContext } from '../../../View/Modal';\nimport { useConfiguratorContext } from '../../../Context/Configurator';\nimport { usePlayerContext } from '../../../Context/Player';\n\nexport const DeleteItemModal = () => {\n    const { setModal, modal } = useModalContext();\n    const {\n        index: { stealthtechCoreToNoneErrorMsg },\n    } = useConfiguratorContext();\n    const {\n        state: { api },\n    } = usePlayerContext();\n    const bodyClassList = document.body.classList;\n    bodyClassList.add(modal.type);\n\n    const proceedCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n            if (api.deleteItem) {\n                api.deleteItem();\n            }\n            setModal(null);\n            bodyClassList.remove(modal.type);\n        },\n        [setModal, api, bodyClassList, modal.type]\n    );\n\n    const cancelCallback = useCallback(() => {\n        setModal(null);\n        bodyClassList.remove(modal.type);\n    }, [setModal, bodyClassList, modal.type]);\n\n    return useMemo(() => {\n        return (\n            <div role=\"dialog\" className=\"modal-popup confirm stealthtech-error-modal _show\" style=\"z-index: 902;\">\n                <div className=\"modal-inner-wrap\" data-role=\"focusable-scope\">\n                    <div className=\"modal-header\">\n                        <button className=\"action-close\" data-role=\"closeBtn\" onClick={cancelCallback} type=\"button\">\n                            <span>{t`Close`}</span>\n                        </button>\n                    </div>\n                    <div className=\"modal-content\" data-role=\"content\">\n                        <div>\n                            <div className=\"configurator-error\">\n                                <p className=\"error-body\">{stealthtechCoreToNoneErrorMsg}</p>\n                                <p className=\"error-summary\">{t`Are you sure you want to proceed?`}</p>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"modal-footer\">\n                        <button\n                            className=\"action-secondary action-dismiss\"\n                            type=\"button\"\n                            onClick={cancelCallback}\n                            data-role=\"action\"\n                        >\n                            <span>{t`Undo`}</span>\n                        </button>\n                        <button\n                            className=\"action-primary action-accept\"\n                            type=\"button\"\n                            onClick={proceedCallback}\n                            data-role=\"action\"\n                        >\n                            <span>{t`Accept Change`}</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }, [cancelCallback, proceedCallback, stealthtechCoreToNoneErrorMsg]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { createContext } from 'preact';\nimport { useContext, useMemo } from 'preact/hooks';\nimport { usePlayerReducer } from '../View/Player/hooks/usePlayerReducer';\n\nconst PlayerContext = createContext({});\n\nexport const usePlayerContext = () => useContext(PlayerContext);\n\nexport const PlayerContextProvider = ({ children }) => {\n    const [state, dispatch] = usePlayerReducer();\n    const value = useMemo(() => ({ state, dispatch }), [state, dispatch]);\n\n    return <PlayerContext.Provider value={value}>{children}</PlayerContext.Provider>;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useCallback } from 'preact/hooks';\nimport { useModalContext } from './ActionSaveShare/Modal/ModalContext';\nimport { ModalContextProvider, CurrentModal } from './ActionSaveShare/Modal';\n\nexport const SaveShareMobileContent = () => {\n    return (\n        <ModalContextProvider>\n            <SaveShareMobile />\n        </ModalContextProvider>\n    );\n};\n\nconst SaveShareMobile = () => {\n    return (\n        <div className=\"actions-toolbar-mobile\">\n            <CurrentModal />\n            <SaveButton />\n            <ShareButton />\n        </div>\n    );\n};\n\nconst SaveButton = () => {\n    const { setModal } = useModalContext();\n    const showSaveLogin = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'saveLogin',\n            });\n        },\n        [setModal]\n    );\n\n    return (\n        <div className=\"save-form\">\n            <span className=\"save action\">\n                <a onClick={showSaveLogin}>{t`Save`}</a>\n            </span>\n        </div>\n    );\n};\n\nconst ShareButton = () => {\n    const { setModal } = useModalContext();\n    const showShare = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'share',\n            });\n        },\n        [setModal]\n    );\n\n    return (\n        <div className=\"share-form\">\n            <span className=\"share action\">\n                <a onClick={showShare}>{t`Share`}</a>\n            </span>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo, useCallback } from 'preact/hooks';\nimport { useStateContext } from '../../../Context/State';\nimport { useStateInputCallback } from '../../../hooks/useStateInputCallback';\nimport { SET_FABRIC } from '../constants';\nimport { useModalContext } from '../../../View/Modal';\nimport { isCoverAvailable } from '../hooks/isCoverAvailable';\nimport { useConfiguratorContext } from '../../../Context/Configurator';\nimport { Loader } from '../../../View/Loader';\n\nexport const CoverTypes = ({ fabricOptions }) => {\n    return (\n        <div className=\"cover_types\">\n            {Object.entries(fabricOptions).map(([fabricType, fabricOptions]) => (\n                <FabricTypeFiltered fabricOptions={fabricOptions} fabricType={fabricType} key={fabricType} />\n            ))}\n        </div>\n    );\n};\n\nconst FabricTypeFiltered = ({ fabricOptions, fabricType }) => {\n    const {\n        state: { fabricFilter },\n    } = useStateContext();\n\n    const filteredFabricOptions = useMemo(() => {\n        if (fabricFilter.length > 0) {\n            const filter = {};\n            for (const filterItem of fabricFilter) {\n                const [filterCode, code] = filterItem.split(':');\n                if (!filter[filterCode]) {\n                    filter[filterCode] = {};\n                }\n                filter[filterCode][code] = 1;\n            }\n\n            return Object.fromEntries(\n                Object.entries(fabricOptions).filter(([, filterOption]) => {\n                    const filterData = filterOption.filterData;\n                    for (const filterCode in filterData) {\n                        const code = filterData[filterCode];\n                        if (filter[filterCode]?.[code]) {\n                            return true;\n                        }\n                    }\n                    return false;\n                })\n            );\n        }\n\n        return fabricOptions;\n    }, [fabricFilter, fabricOptions]);\n\n    return <FabricType fabricOptions={filteredFabricOptions} fabricType={fabricType} />;\n};\n\nconst FabricType = ({ fabricOptions, fabricType }) => {\n    const options = Object.values(fabricOptions);\n    const optionQty = options.length;\n\n    if (optionQty === 0) {\n        return;\n    }\n\n    return (\n        <div className=\"cover_type\">\n            <div className=\"sidebar-items-title__wrapper sidebar-items-title__wrapper--covers\">\n                <FabricTypeTitle fabricType={fabricType} optionQty={optionQty} />\n            </div>\n            <div className=\"sidebar-items_wrapper covers\">\n                {options.map((fabricOption) => (\n                    <Loader key={fabricOption.fabricId}>\n                        <FabricOption fabricOption={fabricOption} />\n                    </Loader>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nconst FabricTypeTitle = ({ fabricType, optionQty }) => {\n    return <div className=\"sidebar-items__title\">{`${fabricType} (${optionQty})`}</div>;\n};\n\nconst FabricOption = ({ fabricOption }) => {\n    const {\n        state: { pieces, fabricLeadTimeTab },\n    } = useStateContext();\n    const { index } = useConfiguratorContext();\n    const disabledFabric = useMemo(() => {\n        const options = {\n            pieces,\n            fabricId: fabricOption.fabricId,\n            fabricLeadTime: fabricLeadTimeTab,\n        };\n        return !isCoverAvailable(index, options);\n    }, [pieces, fabricLeadTimeTab, index, fabricOption]);\n\n    return <FabricOptionVisible fabricOption={fabricOption} disabledFabric={disabledFabric} />;\n};\n\nconst FabricOptionVisible = ({\n    fabricOption: { fabricImage = null, fabricThumbnail = null, fabricName = '', fabricId = null },\n    disabledFabric,\n}) => {\n    const image = fabricThumbnail || fabricImage;\n    return (\n        image && (\n            <label\n                className={`sidebar-item cover_img ${disabledFabric ? 'disabled-fabric' : ''}`}\n                title={disabledFabric ? t`Not available` : ''}\n            >\n                <FabricOptionInput fabricId={fabricId} disabledFabric={disabledFabric} />\n                <img src={image} alt={fabricName} title={fabricName} width=\"50\" height=\"50\" />\n                <span className=\"sidebar-item-title\">{fabricName}</span>\n                <ShowMoreInfoButton fabricId={fabricId} fabricName={fabricName} />\n            </label>\n        )\n    );\n};\n\nconst FabricOptionInput = ({ fabricId, disabledFabric }) => {\n    const {\n        state: { fabricId: stateFabricId },\n    } = useStateContext();\n\n    const selectCover = useStateInputCallback();\n\n    return useMemo(\n        () => (\n            <input\n                type=\"radio\"\n                className=\"sidebar-item-input\"\n                name={SET_FABRIC}\n                onClick={selectCover}\n                checked={stateFabricId === fabricId}\n                value={fabricId}\n                disabled={disabledFabric}\n            />\n        ),\n        [selectCover, stateFabricId, fabricId, disabledFabric]\n    );\n};\n\nconst ShowMoreInfoButton = ({ fabricId, fabricName }) => {\n    const { setModal } = useModalContext();\n    const {\n        state: { fabricLeadTimeTab },\n    } = useStateContext();\n\n    const showMoreInfo = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'info',\n                fabricId,\n                fabricLeadTimeTab,\n            });\n        },\n        [setModal, fabricId, fabricLeadTimeTab]\n    );\n\n    return <ShowMoreInfoButtonVisible showMoreInfo={showMoreInfo} fabricName={fabricName} />;\n};\n\nconst ShowMoreInfoButtonVisible = ({ showMoreInfo, fabricName }) => {\n    return (\n        <button className=\"sidebar-item__more-info\" type=\"button\" onClick={showMoreInfo}>\n            <span>{t`View more information about ${fabricName}`}</span>\n            <span>{`${t`View more information about`} ${fabricName}`}</span>\n        </button>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { forwardRef } from 'preact/compat';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { PriceContainer } from '../../View/PriceContainer';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateContext } from '../../Context/State';\nimport { FinancingText } from '../../View/FinancingText';\n\nexport const SactionalCoverHeader = forwardRef((props, ref) => {\n    const {\n        index: { pieces, fabricOptions },\n    } = useConfiguratorContext();\n    const {\n        state: { piece: statePiece, fabricId, fabricLeadTime },\n    } = useStateContext();\n    const piece = pieces[statePiece];\n    const selectedFabricName = fabricOptions?.[fabricLeadTime]?.[fabricId].fabricName;\n    const { total, totalWithoutDiscount } = useTotalsContext();\n\n    return (\n        <div ref={ref} className=\"squattoman-header header\">\n            <div className=\"squattoman-header__title\">{t`Sactionals Covers`}</div>\n            <div className=\"squattoman-header__subtitle\">\n                <span\n                    dangerouslySetInnerHTML={{\n                        __html: piece.name,\n                    }}\n                />\n                <span className=\"squattoman-header__subtitle\">: {selectedFabricName}</span>\n            </div>\n            <PriceContainer total={total} totalWithoutDiscount={totalWithoutDiscount} />\n            <FinancingText />\n        </div>\n    );\n});\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { useCallback } from 'preact/hooks';\nimport { useCameraView } from '../../../../../hooks/useCameraView';\nimport { usePlayerContext } from '../../../../../Context/Player';\n\nexport const RotateButton = ({ title }) => {\n    const setCameraView = useCameraView();\n    const {\n        state: { isOrthographic },\n    } = usePlayerContext();\n\n    const buttonCallbackHandle = useCallback(\n        async (event) => {\n            event.preventDefault();\n            await setCameraView(!isOrthographic);\n        },\n        [isOrthographic, setCameraView]\n    );\n\n    return (\n        <button\n            className={isOrthographic ? 'player-button rotate' : 'player-button rotate active'}\n            onClick={buttonCallbackHandle}\n            title={title}\n        >\n            <span>{title}</span>\n        </button>\n    );\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default(position, metric, axis) {\n  var positionPercent = position === 0 ? position : position + metric;\n  var positionCss = axis === 'horizontal' ? [positionPercent, 0, 0] : [0, positionPercent, 0];\n  var transitionProp = 'translate3d';\n  var translatedPosition = '(' + positionCss.join(',') + ')';\n  return transitionProp + translatedPosition;\n};\n\nexports.default = _default;","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useEffect, useMemo } from 'preact/hooks';\nimport { ConfiguratorContextProvider } from './Context/Configurator';\nimport { StateContextProvider } from './Context/State';\nimport { TotalsContextProvider } from './Context/Totals';\nimport { NavigatorContextProvider } from './Context/Navigator';\nimport { BrowserContextProvider } from './Context/Browser';\nimport { PlayerContextProvider } from './Context/Player';\nimport { DataLayerContextProvider } from './Context/DataLayer';\nimport ConfiguratorTypes from './Type';\n\nexport const Configurator = ({ options: opts }) => {\n    const options = useMemo(() => {\n        const options = {\n            main: {},\n            config: {},\n            ...opts,\n        };\n        options.config = {\n            defaults: {},\n            ...options.config,\n        };\n        return options;\n    }, [opts]);\n\n    const {\n        main: { configuratorType: code = '' },\n    } = options;\n    // const type = ConfiguratorTypes[code];\n    const type = ConfiguratorTypes['sactional'];\n    \n\n    if (!type) {\n        throw new Error(`Invalid configurator type: ${type}`);\n    }\n\n    useEffect(() => {\n        const documentHeight = () => {\n            const doc = document.documentElement;\n            doc.style.setProperty('--doc-height', `${window.innerHeight}px`);\n        };\n        window.addEventListener('resize', documentHeight);\n        documentHeight();\n        return () => window.removeEventListener('resize', documentHeight);\n    }, []);\n\n    console.log('=== LOGGING TYPE ===');\n    console.log(type);\n\n    return (\n        <ConfiguratorContextProvider type={type} options={options}>\n            <PlayerContextProvider>\n                <StateContextProvider>\n                    <TotalsContextProvider>\n                        <DataLayerContextProvider>\n                            <NavigatorContextProvider>\n                                <BrowserContextProvider>\n                                    <type.View />\n                                </BrowserContextProvider>\n                            </NavigatorContextProvider>\n                        </DataLayerContextProvider>\n                    </TotalsContextProvider>\n                </StateContextProvider>\n            </PlayerContextProvider>\n        </ConfiguratorContextProvider>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useEffect } from 'preact/hooks';\nimport { useModalContext } from './ModalContext';\nimport { SaveLogin } from './Type/SaveLogin';\nimport { SaveLoginAfter } from './Type/SaveLoginAfter';\nimport { Share } from './Type/Share';\n\nconst modalTypes = {\n    saveLogin: <SaveLogin />,\n    saveLoginAfter: <SaveLoginAfter />,\n    share: <Share />,\n};\n\nexport const CurrentModal = () => {\n    const { modal } = useModalContext();\n\n    // This means that customer is logged-in, so no need to display Login form\n    // TODO: But by some reason \"mage-cache-storage\" is always empty\n    useEffect(() => {\n        if (window.localStorage.getItem('mage-cache-storage')?.['customer']) {\n            return modalTypes['saveLoginAfter'];\n        }\n    });\n\n    if (!modal) {\n        return;\n    }\n\n    return modalTypes[modal.type];\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { getPiecesWithPositiveQty } from '../../../calculator';\n\nexport const isCoverAvailable = (index, options) => {\n    const { fabricPieces } = index;\n    const { fabricId = null, fabricLeadTime = null } = options;\n    const pieces = getPiecesWithPositiveQty(index, options);\n\n    for (const [piece] of pieces) {\n        const { key, type } = piece;\n        if (type === 'side' && key.includes('_outdoor')) {\n            continue;\n        }\n        const coverObject = fabricPieces?.[fabricId]?.covers?.[fabricLeadTime]?.[type]?.[key];\n        if (!coverObject) {\n            return false;\n        }\n    }\n\n    return true;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useRef } from 'preact/hooks';\nimport { Player, PlayerLoader } from '../../View/Player';\nimport { Dropdown } from '../../View/Dropdown';\nimport { ShippingInfo } from '../../View/ShippingInfo';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { PieceDescription } from '../../View/PieceDescription';\nimport { SidebarHeader } from '../../View/SidebarHeader';\nimport { useTogglePlayerHeaderEffect } from '../../View/Player/TogglePlayerHeader';\nimport { SacCoverSidebar } from './SacCoverSidebar';\n\nexport const View = () => {\n    const {\n        index: { saccoverMarketingBlock, saccoverBenefitsBlock },\n    } = useConfiguratorContext();\n\n    const sacCoverMarketingWrapper = useRef(null);\n\n    useTogglePlayerHeaderEffect(sacCoverMarketingWrapper);\n\n    return (\n        <div className=\"squattoman-content__wrapper\">\n            <div className=\"step-wrapper step-squattoman\">\n                <PlayerLoader />\n                <SidebarHeader />\n                <div className=\"player__wrapper\">\n                    <Player show=\"desktop\" />\n                    <div className=\"step-accordion__wrapper\">\n                        <PieceDescription />\n                        <Dropdown title={t`Benefits`} content={saccoverBenefitsBlock} />\n                        <ShippingInfo />\n                    </div>\n                </div>\n                <SacCoverSidebar />\n            </div>\n            <div\n                ref={sacCoverMarketingWrapper}\n                className=\"squattoman-marketing__wrapper\"\n                dangerouslySetInnerHTML={{\n                    __html: saccoverMarketingBlock,\n                }}\n            />\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { Player } from '../../View/Player';\nimport { ModalContextProvider } from '../../View/Modal';\nimport { StepTabs } from './StepTabs';\nimport ModalTypes from './Modal';\n\nexport const StepComponent = () => {\n    return (\n        <ModalContextProvider types={ModalTypes}>\n            <Player show=\"mobile\" />\n            <StepTabs />\n        </ModalContextProvider>\n    );\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _default = {\n  ROOT: function ROOT(customClassName) {\n    return (0, _classnames.default)(_defineProperty({\n      'carousel-root': true\n    }, customClassName || '', !!customClassName));\n  },\n  CAROUSEL: function CAROUSEL(isSlider) {\n    return (0, _classnames.default)({\n      carousel: true,\n      'carousel-slider': isSlider\n    });\n  },\n  WRAPPER: function WRAPPER(isSlider, axis) {\n    return (0, _classnames.default)({\n      'thumbs-wrapper': !isSlider,\n      'slider-wrapper': isSlider,\n      'axis-horizontal': axis === 'horizontal',\n      'axis-vertical': axis !== 'horizontal'\n    });\n  },\n  SLIDER: function SLIDER(isSlider, isSwiping) {\n    return (0, _classnames.default)({\n      thumbs: !isSlider,\n      slider: isSlider,\n      animated: !isSwiping\n    });\n  },\n  ITEM: function ITEM(isSlider, selected, previous) {\n    return (0, _classnames.default)({\n      thumb: !isSlider,\n      slide: isSlider,\n      selected: selected,\n      previous: previous\n    });\n  },\n  ARROW_PREV: function ARROW_PREV(disabled) {\n    return (0, _classnames.default)({\n      'control-arrow control-prev': true,\n      'control-disabled': disabled\n    });\n  },\n  ARROW_NEXT: function ARROW_NEXT(disabled) {\n    return (0, _classnames.default)({\n      'control-arrow control-next': true,\n      'control-disabled': disabled\n    });\n  },\n  DOT: function DOT(selected) {\n    return (0, _classnames.default)({\n      dot: true,\n      selected: selected\n    });\n  }\n};\nexports.default = _default;","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\nimport { useCallback, useEffect, useState } from 'preact/hooks';\nimport { Modal } from '../Modal';\nimport { useModalContext } from '../ModalContext';\nimport { usePlayerContext } from '../../../../Context/Player';\nimport { useConfiguratorContext } from '../../../../Context/Configurator';\n\nexport const SaveLoginAfter = () => {\n    return (\n        <Modal title={t`Save`} code=\"save-after\">\n            <SampleContent />\n        </Modal>\n    );\n};\n\nexport const SampleContent = () => {\n    const { setModal } = useModalContext();\n    const closeCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal(null);\n        },\n        [setModal]\n    );\n    const {\n        state: { api },\n    } = usePlayerContext();\n    const {\n        index: { configuratorTitle },\n    } = useConfiguratorContext();\n    const [imageUrl, setImageUrl] = useState(null);\n\n    useEffect(() => {\n        (async () => {\n            setImageUrl(await api.getThumbnail());\n        })();\n    }, [api]);\n\n    return (\n        <div className=\"modal-body\">\n            <div className=\"configurator-image\">\n                <img src={imageUrl} alt=\"\" className={`image`} />\n            </div>\n            <div className=\"configurator-text\">\n                <div className=\"title\">{t`Your ${configuratorTitle} Setup Has Been Saved.`}</div>\n                <div className=\"signature\">\n                    {t`You can go to your saved ${configuratorTitle}s setup at any time by visiting the configurations section\n                        of your account.`}\n                </div>\n            </div>\n            <div className=\"modal-actions\">\n                <a className=\"view-account\" href=\"/configurator/customer/savedconfigurations\">{t`View Account`}</a>\n                <a className=\"continue\" onClick={closeCallback}>{t`Continue Editing`}</a>\n            </div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { SummaryLineEditButton } from '../../View/Summary';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { Price } from '../../View/Price';\nimport { title } from './constants';\n\nexport const SummaryComponent = ({ stepIndex }) => {\n    const {\n        modules: {\n            fill: { title: optionTile, price },\n        },\n    } = useTotalsContext();\n\n    return (\n        <div className=\"summary-line item-4\">\n            <div className=\"title\">{title}</div>\n            <SummaryLineEditButton stepIndex={stepIndex} />\n            <div className=\"price-container\">\n                <Price value={price} />\n            </div>\n            <div className=\"option-name\">{optionTile}</div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { RESET_ARM_STYLE, SET_ARM_STYLE } from '../constants';\nimport { useStateContext } from '../../../Context/State';\nimport { useModalContext } from '../../../View/Modal';\n\nexport const ErrorModal = () => {\n    const {\n        dispatch,\n        state: { armStyle },\n    } = useStateContext();\n\n    const {\n        modal: { data },\n        setModal,\n    } = useModalContext();\n\n    const closeModal = useCallback(\n        (event) => {\n            event.preventDefault();\n            dispatch({\n                type: SET_ARM_STYLE,\n                value: data,\n            });\n            setModal(null);\n        },\n        [dispatch, data, setModal]\n    );\n\n    const undoChange = useCallback(\n        (event) => {\n            event.preventDefault();\n            dispatch({\n                type: RESET_ARM_STYLE,\n                value: armStyle,\n            });\n            setModal(null);\n        },\n        [dispatch, armStyle, setModal]\n    );\n\n    return useMemo(() => {\n        return (\n            <div role=\"dialog\" className=\"modal-popup confirm stealthtech-error-modal _show\" style=\"z-index: 902;\">\n                <div className=\"modal-inner-wrap\" data-role=\"focusable-scope\">\n                    <div className=\"modal-header\">\n                        <button className=\"action-close\" data-role=\"closeBtn\" onClick={undoChange} type=\"button\">\n                            <span>{t`Close`}</span>\n                        </button>\n                    </div>\n                    <div className=\"modal-content\" data-role=\"content\">\n                        <div>\n                            <div className=\"configurator-error\">\n                                <p className=\"error-body\">\n                                    {t`If you proceed with this Arm Style selection change, your customizations will be lost and your configuration will reset.`}\n                                </p>\n                                <p className=\"error-summary\">{t`Are you sure you want to proceed?`}</p>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"modal-footer\">\n                        <button\n                            className=\"action-secondary action-dismiss\"\n                            type=\"button\"\n                            onClick={undoChange}\n                            data-role=\"action\"\n                        >\n                            <span>{t`Undo`}</span>\n                        </button>\n                        <button\n                            className=\"action-primary action-accept\"\n                            type=\"button\"\n                            onClick={closeModal}\n                            data-role=\"action\"\n                        >\n                            <span>{t`Accept Change`}</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }, [undoChange, closeModal]);\n};\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { ARModal } from './ARModal';\nimport { VrayImageModal } from './VrayImageModal';\n\nexport default {\n    vrayImageModal: <VrayImageModal />,\n    arModal: <ARModal />,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useStateContext } from '../../../Context/State';\nimport { TYPE_CUSTOM } from '../../../Step/Configure/constants';\nimport { WebglPlayerToolbar } from './WebglPlayerToolbar';\nimport { VrayPlayerToolbar } from './VrayPlayerToolbar';\n\nexport const PlayerToolbar = () => {\n    const {\n        state: { configurationType },\n    } = useStateContext();\n\n    return configurationType === TYPE_CUSTOM ? <WebglPlayerToolbar /> : <VrayPlayerToolbar />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useMemo } from 'preact/hooks';\nimport { useStateContext } from '../Context/State';\nimport { useConfiguratorContext } from '../Context/Configurator';\nimport { getLeadTimeText } from '../hooks/getLeadTimeText';\n\nexport const ShippingInfoComponent = () => {\n    const { index } = useConfiguratorContext();\n    const { state } = useStateContext();\n\n    const [leadTime, shippingDesc] = useMemo(() => {\n        const { fabricLeadTypes } = index;\n        const { fabricLeadTime } = state;\n        const leadTime = getLeadTimeText(index, state);\n        const shippingDesc = fabricLeadTypes?.[fabricLeadTime]?.['indicator_text'];\n        return [leadTime, shippingDesc];\n    }, [index, state]);\n\n    return useMemo(() => {\n        return (\n            leadTime && (\n                <div className=\"squattoman-banner__wrapper squattoman-banner__wrapper--summary\">\n                    <div className=\"squattoman-banner__shipping\">\n                        <span className=\"squattoman-banner__title\">{leadTime}</span>\n                        <span className=\"squattoman-banner__desc\">{shippingDesc}</span>\n                    </div>\n                </div>\n            )\n        );\n    }, [leadTime, shippingDesc]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo } from 'preact/hooks';\nimport { useConfiguratorContext } from '../Context/Configurator';\nimport { useStateContext } from '../Context/State';\nimport { DropdownComponent } from './Dropdown';\n\nexport const ShippingInfo = () => {\n    const { index } = useConfiguratorContext();\n    const {\n        state: { fabricId, fabricLeadTime, piece: statePiece },\n    } = useStateContext();\n\n    const content = useMemo(() => {\n        const { fabricLeadTypes, fabricPieces, pieces } = index;\n        const piece = pieces[statePiece];\n        if (piece) {\n            const shippingLeadTime =\n                fabricPieces?.[fabricId]?.['covers']?.[fabricLeadTime]?.[piece.type]?.[piece.key]?.leadTime;\n            const shippingDesc = fabricLeadTypes?.[fabricLeadTime]?.['indicator_text'];\n            return {\n                title: shippingLeadTime,\n                desc: shippingDesc,\n            };\n        }\n        return null;\n    }, [index, fabricId, fabricLeadTime, statePiece]);\n\n    if (content) {\n        return <DropdownComponent title={t`Shipping Info`} content={content} />;\n    }\n\n    return null;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { createContext } from 'preact';\nimport { useContext, useState, useMemo } from 'preact/hooks';\n\nconst ModalContext = createContext({});\n\nexport const useModalContext = () => useContext(ModalContext);\n\nexport const ModalContextProvider = ({ children }) => {\n    const [modal, setModal] = useState();\n    const value = useMemo(() => ({ modal, setModal }), [modal, setModal]);\n\n    return <ModalContext.Provider value={value}>{children}</ModalContext.Provider>;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { MeasurementButton } from '../../../View/Player/Toolbar/MeasurementButton';\n\nexport const PlayerToolbar = () => {\n    return (\n        <div className=\"player-toolbar\">\n            <MeasurementButton title={t`Dimensions`} />\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useMemo } from 'preact/hooks';\nimport { Tabs } from '../../../View/Tabs';\nimport { useConfiguratorContext } from '../../../Context/Configurator';\nimport { useStateContext } from '../../../Context/State';\nimport { useStateButtonCallback } from '../../../hooks/useStateButtonCallback';\nimport { SET_FABRIC_LEAD_TIME } from '../constants';\nimport { TabButtons } from './TabButtons';\nimport { CoverTypes } from './CoverTypes';\n\nexport const StepTabs = () => {\n    const {\n        index: { fabricOptionsRender, fabricLeadTypes },\n    } = useConfiguratorContext();\n\n    const tabs = useMemo(() => {\n        return Object.entries(fabricOptionsRender).map(([code, fabricOptions]) => {\n            const leadType = fabricLeadTypes[code];\n            const fabricCount = Object.values(fabricOptions).reduce((i, obj) => i + Object.keys(obj).length, 0);\n\n            return (\n                <Tab\n                    title={`${leadType.label} (${fabricCount})`}\n                    code={code}\n                    leadType={leadType}\n                    fabricOptions={fabricOptions}\n                    key={code}\n                />\n            );\n        });\n    }, [fabricLeadTypes, fabricOptionsRender]);\n\n    return <StepTabsDynamic tabs={tabs} />;\n};\n\nconst StepTabsDynamic = ({ tabs }) => {\n    const {\n        state: { fabricLeadTimeTab },\n    } = useStateContext();\n    const tabClickCallback = useStateButtonCallback();\n\n    return useMemo(\n        () => (\n            <Tabs activeTab={fabricLeadTimeTab} tabClickCallback={tabClickCallback} buttonName={SET_FABRIC_LEAD_TIME}>\n                {tabs}\n            </Tabs>\n        ),\n        [tabs, fabricLeadTimeTab, tabClickCallback]\n    );\n};\n\nconst Tab = ({ leadType: { description }, fabricOptions }) => {\n    return (\n        <div className=\"cover_tab sidebar-items\">\n            <div className=\"cover_description sidebar-description\">{description}</div>\n            <TabButtons />\n            <CoverTypes fabricOptions={fabricOptions} />\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nexport const useHook = (type, method, args) => {\n    if (type[method]) {\n        type[method](...args);\n    }\n    if (type.extra) {\n        for (const step of type.extra) {\n            if (step[method]) {\n                step[method](...args);\n            }\n        }\n    }\n    for (const step of type.steps) {\n        if (step[method]) {\n            step[method](...args);\n        }\n    }\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { VrayImageModal } from '../../../View/Player/Toolbar/Modal/VrayImageModal';\nimport { ARModal } from '../../../View/Player/Toolbar/Modal/ARModal';\nimport { IntroductionalModal } from './IntroductionalModal';\nimport { ErrorModal } from './ErrorModal';\nimport { Info } from './Info';\nimport { DeleteItemModal } from './DeleteItemModal';\n\nexport default {\n    introductionalModal: <IntroductionalModal />,\n    errorModal: <ErrorModal />,\n    info: <Info />,\n    vrayImageModal: <VrayImageModal />,\n    deleteItemModal: <DeleteItemModal />,\n    arModal: <ARModal />,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n/* eslint camelcase: off */\n\nimport { t } from 'ttag';\nimport { useLayoutEffect } from 'preact/hooks';\nimport { useRemoveItemAjaxRequest } from '../hooks/useRemoveItemAjaxRequest';\nimport { useConfiguratorContext } from '../../../Context/Configurator';\nimport { Modal, useModalContext } from '../../../View/Modal';\nimport { OrderSamplesButton, SampleDataLoading, SampleListItem } from './Sample';\n\nexport const RemoveSample = () => {\n    return (\n        <Modal title={t`Swatches`} closeTitle={t`Back to Cover`}>\n            <SampleRemoveContent />\n        </Modal>\n    );\n};\n\nconst defaultItems = [];\n\nconst SampleRemoveContent = () => {\n    const {\n        modal: { item },\n    } = useModalContext();\n    const [{ data = null, error = null, loading = false }, callback] = useRemoveItemAjaxRequest(item);\n    useLayoutEffect(() => {\n        callback();\n    }, [item, callback]);\n\n    const {\n        config: { baseUrl },\n    } = useConfiguratorContext();\n\n    if (data) {\n        const { message, success, items = defaultItems } = data;\n        const errorMessage = message ?? data.error;\n\n        const itemsData = () => {\n            const data = Object.values(items);\n            for (let i = 0; i < 5 - Object.values(items).length; i++) {\n                data.push({\n                    image: `${baseUrl}media/wysiwyg/configurator/addsamples/sample-placeholder.png`,\n                    name: 'placeholder',\n                    item_id: i,\n                });\n            }\n            return data;\n        };\n\n        return (\n            <div className=\"more-info__details-wrapper\">\n                <div className=\"more-info__item-details more-info__item-details--sample\">\n                    <div className=\"more-info__item-details-title\">\n                        <span className=\"title-sample\">{t`Free Fabric Swatches`}</span>\n                        <span className=\"desc-sample\">\n                            {t`Request up to 5 swatches at a time - all for free! Swatches are sent U.S. mail and will arrive in 2 - 3 weeks.`}\n                        </span>\n                    </div>\n                    <div className=\"page messages\">\n                        <div className={success ? 'message-success success message' : 'message-error error message'}>\n                            <div\n                                dangerouslySetInnerHTML={{\n                                    __html: success ? message : errorMessage,\n                                }}\n                            />\n                        </div>\n                    </div>\n                    <div className=\"description-wrapper more-info-list more-info-list--sample\">\n                        {itemsData().map((item) => {\n                            return <SampleListItem key={item.item_id} item={item} type={'sample'} />;\n                        })}\n                    </div>\n                    <div className=\"more-info__actions-wrapper more-info__actions-wrapper--sample\">\n                        {Object.values(items).length ? <OrderSamplesButton items={items} /> : null}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n    return <SampleDataLoading loading={loading} error={error} />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { MeasurementButton } from '../../../View/Player/Toolbar/MeasurementButton';\nimport { FloorButton } from '../../../View/Player/Toolbar/FloorButton';\nimport { ModalContextProvider } from '../../../View/Modal';\nimport ConfigureModals from '../../../Step/Configure/Modal';\nimport ToolbarModals from '../../../View/Player/Toolbar/Modal';\nimport { HelpButton } from '../../Sactional/Toolbar/ToolbarButtons/Webgl/HelpButton';\nimport { VrayButton } from '../../Sactional/Toolbar/ToolbarButtons/Webgl/VrayButton';\nimport { RotateButton } from '../../Sactional/Toolbar/ToolbarButtons/Webgl/RotateButton';\nimport { UndoButton } from '../../Sactional/Toolbar/ToolbarButtons/Webgl/UndoButton';\nimport { PlayerBottomButtons } from '../../Sactional/Toolbar/ToolbarButtons/Webgl/PlayerBottomButtons';\nimport { useBrowserContext } from '../../../Context/Browser';\nimport { ZoomButton } from '../../../View/Player/Toolbar/ZoomButton';\n\nconst modalTypes = { ...ConfigureModals, ...ToolbarModals };\n\nexport const WebglPlayerToolbar = () => {\n    const { isMobile } = useBrowserContext();\n    return (\n        <ModalContextProvider types={modalTypes}>\n            <div className=\"player-toolbar webgl\">\n                <HelpButton title={t`Help`} />\n                <VrayButton title={t`Detailed view`} />\n                <FloorButton title={t`Floor Texture`} />\n                <MeasurementButton title={t`Dimensions`} />\n                <RotateButton title={t`360 View`} />\n                <ZoomButton title={t`Augmented Reality`} />\n                {!isMobile ? <UndoButton title={t`Reset`} /> : null}\n            </div>\n            {isMobile ? <UndoButton title={t`Reset`} /> : null}\n            <PlayerBottomButtons />\n        </ModalContextProvider>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo } from 'preact/hooks';\nimport { MeasurementButton } from '../../../View/Player/Toolbar/MeasurementButton';\nimport { useStateContext } from '../../../Context/State';\n\nexport const PlayerToolbar = () => {\n    const {\n        state: { configuration },\n    } = useStateContext();\n\n    return useMemo(() => {\n        if (notShowMesurementButton(configuration)) {\n            return null;\n        }\n\n        return (\n            <div className=\"player-toolbar\">\n                <MeasurementButton title={t`Dimensions`} />\n            </div>\n        );\n    }, [configuration]);\n};\n\nconst notShowMesurementButton = (configuration) => {\n    const products = [\n        '1Seat1Side',\n        '1StorageSeat1Side',\n        'SeatInsertCoverStandard',\n        'StorageSeatInsertCoverStandard',\n        'WedgeSeatInsertCoverStandard',\n        'SideInsertCoverStandard',\n        'DeepSideInsertCover',\n        'RollArmSideInsertCover',\n    ];\n\n    return !products.find((item) => configuration.includes(item));\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default() {\n  return document;\n};\n\nexports.default = _default;","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo } from 'preact/hooks';\nimport { Modal, useModalContext } from '../../../View/Modal';\n\nexport const Info = () => {\n    const {\n        modal: { data, title },\n    } = useModalContext();\n\n    return useMemo(() => {\n        return (\n            <Modal title={t`What's included`} closeTitle={t`Back to StealthTech`}>\n                <InfoContent data={data} title={title} />\n            </Modal>\n        );\n    }, [data, title]);\n};\n\nconst InfoContent = ({ title, data }) => {\n    return (\n        <div>\n            <div className=\"more-info__item-details\">\n                <h2 className=\"stealthtech-modal-title\">{title}</h2>\n                <p className=\"stealthtech-modal-desc\" dangerouslySetInnerHTML={{ __html: data.shortDescription }} />\n                <div className=\"stealthtech-modal-list\" dangerouslySetInnerHTML={{ __html: data.features }} />\n            </div>\n        </div>\n    );\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\nimport { useState, useCallback } from 'preact/hooks';\nimport { useConfiguratorContext } from '../Context/Configurator';\nimport { ReviewContentStars, ReviewsInitializer } from './Review';\n\nexport const ProductDetailsRiskFree = ({ title, cssClass, content }) => {\n    const [showRiskFree, setShowRiskFree] = useState(false);\n\n    return (\n        <ProductDetailsMobileBlock\n            title={title}\n            cssClass={cssClass}\n            content={content}\n            visible={showRiskFree}\n            showHandler={setShowRiskFree}\n        />\n    );\n};\n\nexport const ProductDetailsShippingReturns = ({ title, cssClass, content }) => {\n    const [showShippingReturns, setShowShippingReturns] = useState(false);\n\n    return (\n        <ProductDetailsMobileBlock\n            title={title}\n            cssClass={cssClass}\n            content={content}\n            visible={showShippingReturns}\n            showHandler={setShowShippingReturns}\n        />\n    );\n};\n\nconst ProductDetailsMobileBlock = ({ title, cssClass, content, visible, showHandler }) => {\n    const modalState = useCallback(() => showHandler(!visible), [showHandler, visible]);\n\n    return (\n        <div className={`${cssClass} detail`}>\n            <button className={`action ${visible ? 'active' : ''}`} onClick={modalState}>\n                {title}\n            </button>\n            {visible ? <ProductDetailsMobileContentBlock content={content} /> : ''}\n        </div>\n    );\n};\n\nconst ProductDetailsMobileContentBlock = ({ content }) => {\n    return <div dangerouslySetInnerHTML={{ __html: content }} />;\n};\n\nexport const ReviewMobileBlock = () => {\n    const {\n        config: { reviewCount },\n    } = useConfiguratorContext();\n    const [showModal, setShowModal] = useState(false);\n    const onClose = useCallback((state) => setShowModal(state), [setShowModal]);\n    const showCallback = useCallback(() => setShowModal(true), []);\n\n    return (\n        <div className=\"review-mobile detail\">\n            <div className=\"review\">\n                <button className=\"action\" onClick={showCallback}>{t`Reviews`}</button>\n                <ReviewContentStars />\n                <div className={`review-count`}>\n                    <span>{`(`}</span>\n                    <a className={`qty`} onClick={showCallback}>{`${reviewCount}`}</a>\n                    <span>{`)`}</span>\n                </div>\n                <ReviewsInitializer opened={showModal} handleClose={onClose} />\n            </div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const LogoSubtitle = () => {\n    return (\n        <div className=\"logo-subtitle detail\">\n            <span className=\"action logo-subtitle-action\">{t`Always Fits. Forever New.™`}</span>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport Sactional from './Sactional';\nimport SactionalPiece from './SactionalPiece';\nimport Sac from './Sac';\nimport OutdoorSactional from './OutdoorSactional';\nimport Squattoman from './Squattoman';\nimport ThrowPillow from './ThrowPillow';\nimport SactionalCover from './SactionalCover';\nimport SacCover from './SacCover';\nimport SquattomanCover from './SquattomanCover';\nimport ThrowPillowCover from './ThrowPillowCover';\n\nconst typesArray = [\n    Sactional,\n    SactionalPiece,\n    Sac,\n    OutdoorSactional,\n    Squattoman,\n    ThrowPillow,\n    SactionalCover,\n    SacCover,\n    SquattomanCover,\n    ThrowPillowCover,\n];\n\nconst types = {};\nfor (const type of typesArray) {\n    types[type.code] = type;\n}\n\nexport default types;\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { INIT, LOAD } from '../../../Context/State';\nimport {\n    SET_FABRIC,\n    SET_FABRIC_LEAD_TIME,\n    SET_FABRIC_FILTER,\n    RESET_FABRIC_FILTER,\n    SET_FABRIC_TO_FILTER,\n} from '../constants';\nimport { isCoverAvailable } from '../hooks/isCoverAvailable';\nimport { SET_CONFIGURATION, SET_CONFIGURATION_TYPE, SET_PIECES, RESET_CONFIGURATION } from '../../Configure/constants';\n\nexport const updateState = (state, index, action) => {\n    switch (action.type) {\n        case INIT:\n        case RESET_CONFIGURATION: {\n            state.fabricId = index.defaultFabricId;\n            state.fabricLeadTime = index.defaultFabricLeadTime;\n            state.fabricLeadTimeTab = state.fabricLeadTime;\n            state.fabricMoreInfo = {};\n            state.fabricFilter = [];\n            state.fabricToFilter = [];\n            break;\n        }\n        case LOAD: {\n            const fabrics = index.saved.fabrics;\n            if (fabrics) {\n                const fabricId = Object.values(fabrics)[0];\n                if (fabricId) {\n                    const { fabricOptions } = index;\n                    for (const fabricLeadTime in fabricOptions) {\n                        if (fabricOptions[fabricLeadTime][fabricId]) {\n                            state.fabricId = fabricId;\n                            state.fabricLeadTime = fabricLeadTime;\n                            state.fabricLeadTimeTab = fabricLeadTime;\n                            break;\n                        }\n                    }\n                }\n            }\n            break;\n        }\n        case SET_FABRIC_LEAD_TIME: {\n            state.fabricLeadTimeTab = action.value;\n            break;\n        }\n        case SET_FABRIC: {\n            state.fabricId = action.value;\n            state.fabricLeadTime = state.fabricLeadTimeTab;\n            break;\n        }\n        case SET_FABRIC_TO_FILTER: {\n            state.fabricToFilter = state.fabricToFilter.includes(action.value)\n                ? state.fabricToFilter.filter((el) => el !== action.value)\n                : [...state.fabricToFilter, action.value];\n            break;\n        }\n        case SET_FABRIC_FILTER: {\n            state.fabricFilter = state.fabricToFilter;\n            break;\n        }\n\n        case RESET_FABRIC_FILTER: {\n            state.fabricFilter = [];\n            state.fabricToFilter = [];\n            break;\n        }\n    }\n\n    switch (action.type) {\n        case INIT:\n        case LOAD:\n        case SET_FABRIC:\n        case SET_CONFIGURATION_TYPE:\n        case SET_FABRIC_LEAD_TIME:\n        case SET_CONFIGURATION:\n        case SET_PIECES: {\n            updateFabricState(state, index);\n        }\n    }\n};\n\nconst updateFabricState = (state, index) => {\n    let { fabricLeadTime = null, fabricId = null } = state;\n    const { fabricOptions, defaultFabricLeadTime, defaultFabricId } = index;\n    if (!fabricLeadTime || !fabricOptions[fabricLeadTime] || !isCoverAvailable(index, state)) {\n        fabricLeadTime = defaultFabricLeadTime;\n        fabricId = defaultFabricId;\n    }\n\n    if (!fabricId || !fabricOptions[fabricLeadTime][fabricId]) {\n        fabricId = Object.keys(fabricOptions[fabricLeadTime])[0];\n    }\n\n    state.fabricId = fabricId;\n    state.fabricLeadTime = fabricLeadTime;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { title, code } from './constants';\nimport { buildIndex } from './hooks/buildIndex';\nimport { updateState } from './hooks/updateState';\nimport { collectTotals } from './hooks/collectTotals';\nimport { usePlayerSync } from './hooks/usePlayerSync';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\nimport { StepComponent } from './StepComponent';\nimport { SummaryComponent } from './SummaryComponent';\n\nexport default {\n    title,\n    code,\n    buildIndex,\n    updateState,\n    collectTotals,\n    usePlayerSync,\n    usePlayerInitParams,\n    StepComponent,\n    SummaryComponent,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildIndex = (\n    index,\n    {\n        main: {\n            fabricOptions = [],\n            fabricLeadTypes = {},\n            fabricTypes = [],\n            fabricColors = [],\n            fabricFilters = [],\n            fabricPieces = [],\n            panelFabricPrices = [],\n        },\n    }\n) => {\n    if (!index.defaultFabricId || !index.defaultFabricLeadTime) {\n        throw new Error(`Default fabric is empty`);\n    }\n\n    const options = {};\n    const optionsRender = {};\n\n    for (const fabricLeadType in fabricLeadTypes) {\n        options[fabricLeadType] = {};\n        optionsRender[fabricLeadType] = {};\n        for (const fabricType of fabricTypes) {\n            optionsRender[fabricLeadType][fabricType] = {};\n        }\n    }\n\n    for (const fabricOption of fabricOptions) {\n        const { fabricId, fabricLeadTime: fabricLeadTimes, fabricType } = fabricOption;\n        for (const fabricLeadType in fabricLeadTypes) {\n            if (fabricLeadTimes.includes(fabricLeadType)) {\n                if (options[fabricLeadType]) {\n                    options[fabricLeadType][fabricId] = fabricOption;\n                }\n                if (optionsRender[fabricLeadType]?.[fabricType]) {\n                    optionsRender[fabricLeadType][fabricType][fabricId] = fabricOption;\n                }\n                break;\n            }\n        }\n    }\n\n    for (const fabricLeadType in fabricLeadTypes) {\n        if (Object.keys(options[fabricLeadType]).length === 0) {\n            delete options[fabricLeadType];\n            delete optionsRender[fabricLeadType];\n        } else {\n            for (const fabricType of fabricTypes) {\n                if (Object.keys(optionsRender[fabricLeadType][fabricType]).length === 0) {\n                    delete optionsRender[fabricLeadType][fabricType];\n                }\n            }\n        }\n    }\n\n    if (!Object.keys(options).length) {\n        throw new Error(`Fabric options list is empty`);\n    }\n\n    const filters = {};\n    for (const filter of fabricFilters) {\n        filters[filter.code] = filter;\n    }\n\n    Object.assign(index, {\n        fabricLeadTypes,\n        fabricTypes,\n        fabricColors,\n        panelFabricPrices,\n        fabricPieces,\n        fabricOptions: options,\n        fabricOptionsRender: optionsRender,\n        fabricFilters: filters,\n    });\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const collectTotals = ({ options: prevOptions }, { fabricLeadTime, fabricId }, index) => {\n    return {\n        title: index.fabricOptions[fabricLeadTime][fabricId].fabricName,\n        options: { ...prevOptions, fabricLeadTime, fabricId },\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useLayoutEffect } from 'preact/hooks';\n\nexport const usePlayerSync = ({ api }, { fabricId }) => {\n    useLayoutEffect(() => {\n        api.setFabric(fabricId);\n    }, [api, fabricId]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useStateContext } from '../../../Context/State';\n\nexport const usePlayerInitParams = ({ initialConfiguration }) => {\n    const {\n        state: { fabricId },\n    } = useStateContext();\n    initialConfiguration.fabric = fabricId;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { INIT, LOAD } from '../../../Context/State';\nimport {\n    DECREMENT_ACCESSORY_QTY,\n    INCREMENT_ACCESSORY_QTY,\n    SELECT_ACCESSORY_VARIANT,\n    SET_ACCESSORY_QTY,\n} from '../constants';\nimport { RESET_CONFIGURATION } from '../../Configure/constants';\n\nexport const updateState = (state, index, action) => {\n    switch (action.type) {\n        case INIT:\n        case RESET_CONFIGURATION: {\n            const indexAccessories = index.accessories;\n            const stateAccessories = {};\n            for (const type in indexAccessories) {\n                stateAccessories[type] = {\n                    key: Object.keys(indexAccessories[type])[0],\n                    qty: 0,\n                };\n            }\n            state.accessories = stateAccessories;\n            break;\n        }\n        case LOAD: {\n            const { items = [] } = index.saved;\n            for (const { type = null, key = null } of items) {\n                if (state.accessories[type]) {\n                    state.accessories[type].key = key;\n                    state.accessories[type].qty += 1;\n                }\n            }\n            break;\n        }\n        case SELECT_ACCESSORY_VARIANT: {\n            const item = state.accessories[action.itemType];\n            item.key = action.value;\n            break;\n        }\n        case SET_ACCESSORY_QTY: {\n            const item = state.accessories[action.itemType];\n            item.qty = Math.max(parseInt(action.value, 10), 0);\n            if (isNaN(item.qty)) {\n                item.qty = 0;\n            }\n            break;\n        }\n        case INCREMENT_ACCESSORY_QTY: {\n            const item = state.accessories[action.itemType];\n            item.qty = Math.max(item.qty + 1, 0);\n            break;\n        }\n        case DECREMENT_ACCESSORY_QTY: {\n            const item = state.accessories[action.itemType];\n            item.qty = Math.max(item.qty - 1, 0);\n            break;\n        }\n    }\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { TYPE_SQUATTOMAN } from '../constants';\n\nexport const collectTotals = (\n    { options: prevOptions },\n    { accessories: stateAccessories, fabricId, fabricLeadTime },\n    { accessories: indexAccessories, squattomanData = null }\n) => {\n    const objects = prevOptions.objects ? [...prevOptions.objects] : [];\n\n    const types = {};\n    for (const type in stateAccessories) {\n        const { key, qty } = stateAccessories[type];\n        if (qty > 0) {\n            if (type === TYPE_SQUATTOMAN) {\n                const fabricObject = squattomanData?.fabricPieces?.[fabricId]?.covers?.[fabricLeadTime]?.[type]?.[key];\n                const fabricName = squattomanData?.fabricPieces?.[fabricId]?.fabricName;\n                if (fabricObject) {\n                    objects.push([indexAccessories[type][key], qty, fabricName, true]);\n                    objects.push([fabricObject, qty, false]);\n                    fabricObject.type = type;\n                    types[type] = qty;\n                }\n            } else {\n                objects.push([indexAccessories[type][key], qty]);\n                types[type] = qty;\n            }\n        }\n    }\n\n    return {\n        options: { ...prevOptions, objects },\n        types,\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { title, code } from './constants';\nimport { buildIndex } from './hooks/buildIndex';\nimport { updateState } from './hooks/updateState';\nimport { collectTotals } from './hooks/collectTotals';\nimport { StepComponent } from './StepComponent';\nimport { SummaryComponent } from './SummaryComponent';\n\nexport default {\n    title,\n    code,\n    buildIndex,\n    updateState,\n    collectTotals,\n    StepComponent,\n    SummaryComponent,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildIndex = (index, { accessories = {} }) => {\n    const indexAccessories = {};\n    for (const item of accessories) {\n        const { type, key } = item;\n        if (!indexAccessories[type]) {\n            indexAccessories[type] = {};\n        }\n        indexAccessories[type][key] = item;\n    }\n    index.accessories = indexAccessories;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { title, code } from './constants';\nimport { buildIndex } from './hooks/buildIndex';\nimport { StepComponent } from './StepComponent';\nimport { SummaryComponent } from './SummaryComponent';\n\nexport default {\n    title,\n    code,\n    buildIndex,\n    StepComponent,\n    SummaryComponent,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Summary`;\nexport const code = 'summary';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildIndex = (index, { main: { riskFreeConfiguration = null, shippingReturnsConfiguration = null } }) => {\n    Object.assign(index, {\n        riskFreeConfiguration,\n        shippingReturnsConfiguration,\n    });\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nexport const SummaryComponent = () => {};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { title, code } from './constants';\nimport { buildIndex } from './hooks/buildIndex';\nimport { updateState } from './hooks/updateState';\nimport { collectTotals } from './hooks/collectTotals';\nimport { StepComponent } from './StepComponent';\nimport { SummaryComponent } from './SummaryComponent';\nimport { usePlayerSync } from './hooks/usePlayerSync';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\n\nexport default {\n    title,\n    code,\n    buildIndex,\n    updateState,\n    collectTotals,\n    usePlayerSync,\n    usePlayerInitParams,\n    StepComponent,\n    SummaryComponent,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildIndex = (index, { main: { sactionalStyleSubtitle, pieces } }) => {\n    const armStyle = {};\n    for (const piece of pieces) {\n        if (piece.type === 'side' && piece.key !== 'deep') {\n            armStyle[piece.key] = piece;\n        }\n    }\n    if (!Object.keys(armStyle).length) {\n        throw new Error(`Arm style list is empty`);\n    }\n    index.armStyle = armStyle;\n    index.sactionalStyleSubtitle = sactionalStyleSubtitle;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { INIT, LOAD } from '../../../Context/State';\nimport { RESET_ARM_STYLE, SET_ARM_STYLE } from '../constants';\nimport { SET_STEALTHTECH_ELIGIBLE } from '../../Stealthtech/constants';\n\nexport const updateState = (state, { armStyle: indexArmStyle, saved }, action) => {\n    const { type: actionType = null, value = null } = action;\n    switch (actionType) {\n        case INIT: {\n            state.armStyle = Object.keys(indexArmStyle)[0];\n            state.hasChanges = false;\n            break;\n        }\n\n        case LOAD: {\n            const { items = [] } = saved;\n            for (const { type = null, key = null } of items) {\n                if (type === 'side' && key === 'rollArm') {\n                    state.armStyle = 'rollArm';\n                }\n            }\n            state.hasChanges = true;\n            break;\n        }\n\n        case RESET_ARM_STYLE: {\n            state.armStyle = value;\n            state.hasChanges = true;\n            break;\n        }\n\n        case SET_ARM_STYLE: {\n            state.armStyle = value;\n            state.hasChanges = false;\n            action.type = INIT;\n            break;\n        }\n\n        case SET_STEALTHTECH_ELIGIBLE: {\n            break;\n        }\n\n        default: {\n            state.hasChanges = true;\n        }\n    }\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const collectTotals = ({ options: prevOptions }, { armStyle: stateArmStyle }, { armStyle: indexArmStyle }) => {\n    const { name } = indexArmStyle[stateArmStyle];\n    return {\n        title: name,\n        options: prevOptions,\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useLayoutEffect } from 'preact/hooks';\nimport { usePlayerArmType } from './usePlayerArmType';\n\nexport const usePlayerSync = ({ api }) => {\n    const armType = usePlayerArmType();\n    useLayoutEffect(() => {\n        if (api.setArmType) {\n            api.setArmType(armType);\n        }\n    }, [api, armType]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { usePlayerArmType } from './usePlayerArmType';\n\nexport const usePlayerInitParams = ({ initialConfiguration }) => {\n    initialConfiguration.ArmType = usePlayerArmType();\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { calculateTotalPrice } from '../../../calculator';\nimport { TYPE_CUSTOM, TYPE_PREBUILT } from '../constants';\n\nexport const buildIndex = (index, options) => {\n    buildPiecesIndex(index, options);\n    buildPreBuiltIndex(index, options);\n    buildPreBuiltPriceIndex(index);\n    buildLabels(index, options);\n};\n\nexport const buildPiecesIndex = (index, options) => {\n    buildFabricIndex(index, options);\n    buildPieceIndex(index, options);\n    buildPiecePriceIndex(index);\n    buildConfiguratorType(index, options);\n};\n\nconst buildFabricIndex = (index, { main: { fabricPieces = {} } }) => {\n    index.fabricPieces = fabricPieces;\n};\n\nconst buildConfiguratorType = (index, { main: { configuratorType = {} } }) => {\n    index.configuratorType = configuratorType;\n};\n\nconst buildPieceIndex = (index, { main: { pieces = [] } }) => {\n    const indexPieces = {};\n    for (const piece of pieces) {\n        const { key, type } = piece;\n        const id = `${key}_${type}`;\n        indexPieces[id] = piece;\n    }\n    if (!Object.keys(indexPieces).length) {\n        throw new Error(`Pieces list is empty`);\n    }\n\n    if (indexPieces['standard_outdoor_seat']) {\n        indexPieces['deep_outdoor_seat'] = {\n            ...indexPieces['standard_outdoor_seat'],\n            virtualKey: 'deep_outdoor',\n        };\n    }\n\n    index.pieces = indexPieces;\n};\n\nconst buildPiecePriceIndex = (index) => {\n    const { pieces } = index;\n    for (const key in pieces) {\n        const statePieces = {};\n        statePieces[key] = 1;\n        pieces[key].defaultPrice = calculateTotalPrice(index, {\n            pieces: statePieces,\n        }).total;\n    }\n};\n\nconst buildPreBuiltIndex = (\n    index,\n    {\n        preBuilt = {},\n        config: {\n            defaults: { configuration = null, configurationType = null },\n        },\n    }\n) => {\n    const preBuiltIndex = {};\n    for (const groupCode in preBuilt) {\n        const groupItems = preBuilt[groupCode].items;\n        for (const sku in groupItems) {\n            preBuiltIndex[sku] = groupItems[sku];\n        }\n    }\n    if (!Object.keys(preBuiltIndex).length) {\n        throw new Error(`Pre-built list is empty`);\n    }\n\n    index.preBuilt = preBuiltIndex;\n    index.preBuiltGroups = preBuilt;\n\n    let defaultConfiguration = configuration;\n    if (!defaultConfiguration || !preBuiltIndex[defaultConfiguration]) {\n        defaultConfiguration = Object.keys(preBuiltIndex)[0];\n    }\n    index.defaultConfiguration = defaultConfiguration;\n    index.defaultConfigurationType = configurationType === TYPE_CUSTOM ? TYPE_CUSTOM : TYPE_PREBUILT;\n};\n\nconst buildPreBuiltPriceIndex = (index) => {\n    const { preBuilt } = index;\n    for (const sku in preBuilt) {\n        const item = preBuilt[sku];\n        const { pieces: statePieces, objects = [], title } = item;\n        const prices = calculateTotalPrice(index, {\n            pieces: statePieces,\n            objects,\n            applyDiscounts: true,\n        });\n        const pricesWithoutDiscount = calculateTotalPrice(index, {\n            pieces: statePieces,\n            objects,\n            applyDiscounts: false,\n        });\n\n        item.defaultPrice = prices.total;\n        item.originalPrice = pricesWithoutDiscount.total;\n        item.title = title;\n    }\n};\n\nconst buildLabels = (index, { main: { customTabLabel = null, prebuiltTabLabel = null, customTabSubtitle = null } }) => {\n    Object.assign(index, {\n        customTabLabel,\n        prebuiltTabLabel,\n        customTabSubtitle,\n    });\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { INIT, LOAD } from '../../../Context/State';\nimport {\n    HIDE_INSTRUCTIONAL_MODAL,\n    SET_CONFIGURATION,\n    SET_CONFIGURATION_CHANGED,\n    SET_CONFIGURATION_TYPE,\n    SET_PIECES,\n    SET_SELECTED_PIECE,\n    TYPE_CUSTOM,\n    TYPE_PREBUILT,\n    RESET_CONFIGURATION,\n} from '../constants';\n\nexport const updateState = (\n    state,\n    { preBuilt: indexPreBuilt, pieces: indexPieces, saved, defaultConfiguration, defaultConfigurationType },\n    { type: actionType = null, value = null }\n) => {\n    switch (actionType) {\n        case INIT: {\n            // set default configure tab\n            state.configurationType = defaultConfigurationType;\n            // set default preBuilt configuration\n            state.configuration = defaultConfiguration;\n            state.pieces = getPieces(indexPreBuilt[state.configuration].pieces, indexPieces, state.armStyle);\n            state.selectedPiece = null;\n            state.showInstructionalModal = true;\n            state.isConfiguratorChanged = false;\n            state.savedConfigurationId = null;\n            break;\n        }\n        case RESET_CONFIGURATION: {\n            state.configuration = defaultConfiguration;\n            state.pieces = getPieces(indexPreBuilt[state.configuration].pieces, indexPieces, state.armStyle);\n            state.selectedPiece = null;\n            state.isConfiguratorChanged = false;\n            state.savedConfigurationId = null;\n            break;\n        }\n        case LOAD: {\n            const { configuration = null, id = null } = saved;\n            state.configurationType = configuration ? TYPE_PREBUILT : TYPE_CUSTOM;\n            if (configuration === 'custom') {\n                state.configurationType = TYPE_CUSTOM;\n                state.savedConfigurationId = id;\n                state.isConfiguratorChanged = true;\n                state.showInstructionalModal = false;\n            } else if (configuration && indexPreBuilt[configuration]) {\n                state.configurationType = TYPE_PREBUILT;\n                state.configuration = configuration;\n            } else {\n                // legacy configuration, try to guess the configuration by pieces\n                state.configurationType = TYPE_PREBUILT;\n                const { items = [] } = saved;\n                const pieces = {};\n                for (const { type = null, key = null } of items) {\n                    if (indexPieces[`${key}_${type}`]) {\n                        const pieceKey = `${key}_${type}`;\n                        if (!pieces[pieceKey]) {\n                            pieces[pieceKey] = 0;\n                        }\n                        pieces[pieceKey] += 1;\n                    }\n                }\n                for (const configuration in indexPreBuilt) {\n                    const preBuiltPieces = indexPreBuilt[configuration].pieces;\n                    let match = true;\n                    for (const key in indexPieces) {\n                        if (pieces[key] !== preBuiltPieces[key]) {\n                            match = false;\n                        }\n                    }\n                    if (match) {\n                        state.configuration = configuration;\n                        break;\n                    }\n                }\n            }\n\n            state.pieces = getPieces(indexPreBuilt[state.configuration].pieces, indexPieces, state.armStyle);\n            break;\n        }\n        case SET_CONFIGURATION_TYPE: {\n            state.configurationType = value;\n            state.isConfiguratorChanged = false;\n            state.selectedPiece = null;\n            state.pieces = getPieces(indexPreBuilt[state.configuration].pieces, indexPieces, state.armStyle);\n            state.savedConfigurationId = null;\n            break;\n        }\n        case SET_CONFIGURATION: {\n            state.configuration = value;\n            state.pieces = getPieces(indexPreBuilt[value].pieces, indexPieces, state.armStyle);\n            state.isConfiguratorChanged = false;\n            break;\n        }\n        case SET_SELECTED_PIECE: {\n            state.selectedPiece = value;\n            break;\n        }\n        case SET_PIECES: {\n            state.pieces = getPieces(value, indexPieces, null);\n            if (state.previous.pieces !== state.pieces && !state.isConfiguratorChanged) {\n                state.isConfiguratorChanged = true;\n            }\n            break;\n        }\n        case HIDE_INSTRUCTIONAL_MODAL: {\n            state.showInstructionalModal = false;\n            break;\n        }\n        case SET_CONFIGURATION_CHANGED: {\n            state.isConfiguratorChanged = true;\n        }\n    }\n};\n\nconst getPieces = (newPieces, indexPieces, armStyle = null) => {\n    const pieces = {};\n    for (const pieceKey in indexPieces) {\n        pieces[pieceKey] = newPieces[pieceKey] || 0;\n    }\n    if (armStyle === 'rollArm') {\n        pieces['standard_side'] -= 2;\n        pieces['rollArm_side'] += 2;\n    }\n    return pieces;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback, useEffect, useState } from 'preact/hooks';\nimport { t } from 'ttag';\nimport { SET_CONFIGURATION_CHANGED, SET_PIECES, SET_SELECTED_PIECE, TYPE_CUSTOM } from '../constants';\nimport { getThreekitApi } from '../../../View/Player/playerApi';\nimport { useStateContext } from '../../../Context/State';\nimport {\n    PLAYER_VRAY_MODE,\n    PLAYER_WEBGL_MODE,\n    SET_INITIALIZED,\n    SET_UNINITIALIZED,\n    TOGGLE_PLAYER_MESSAGE,\n} from '../../../View/Player/constants';\nimport { usePlayerContext } from '../../../Context/Player';\nimport { usePlayerProductId } from './usePlayerProductId';\n\nexport const usePlayerSync = (playerState, state, index) => {\n    useProductIdSync(playerState);\n    usePlusSignSync(playerState, state, index);\n    usePlayerModeSync(playerState, state);\n    usePlayerEventSync(playerState);\n    usePiecesSync(playerState);\n};\n\nconst useProductIdSync = ({ api, mode }) => {\n    const productId = usePlayerProductId(PLAYER_VRAY_MODE);\n    useEffect(() => {\n        if (mode === PLAYER_VRAY_MODE && api.setProduct) {\n            api.setProduct(productId);\n        }\n    }, [api, mode, productId]);\n};\n\nconst usePlusSignSync = ({ api, mode, isOrthographic }, { selectedPiece, pieces: statePieces }, { pieces }) => {\n    useEffect(() => {\n        if (mode === PLAYER_WEBGL_MODE) {\n            const item = pieces[selectedPiece];\n            const show = isOrthographic && item;\n            if (show && api.displayPlusSign) {\n                api.displayPlusSign(item.type, item.key);\n            } else if (!show && api.hidePlusSign) {\n                api.hidePlusSign();\n            }\n        }\n    }, [api, mode, isOrthographic, pieces, selectedPiece, statePieces]);\n};\n\nconst usePlayerModeSync = ({ mode }, { configurationType }) => {\n    const newMode = configurationType === TYPE_CUSTOM ? PLAYER_WEBGL_MODE : PLAYER_VRAY_MODE;\n    const { dispatch: playerDispatch } = usePlayerContext();\n    const productId = usePlayerProductId(newMode);\n\n    useEffect(() => {\n        (async () => {\n            if (mode !== newMode) {\n                playerDispatch({\n                    type: SET_UNINITIALIZED,\n                    mode: newMode,\n                });\n                const setPlayerMode = getThreekitApi('setPlayerMode');\n                await setPlayerMode(newMode);\n                const newApi = getThreekitApi('configurator');\n                if (newApi) {\n                    await newApi.setProduct(productId);\n                    playerDispatch({\n                        type: SET_INITIALIZED,\n                        api: newApi,\n                        mode: newMode,\n                    });\n                }\n            }\n        })();\n    }, [newMode, mode, playerDispatch, productId]);\n};\n\nconst usePiecesSync = ({ api, mode }) => {\n    const { dispatch: stateDispatch } = useStateContext();\n\n    useEffect(() => {\n        if (mode === PLAYER_WEBGL_MODE) {\n            updatePieces(api, stateDispatch);\n        }\n    }, [api, mode, stateDispatch]);\n};\n\nconst updatePieces = (api, dispatch) => {\n    const pieces = {};\n    const itemCount = api.getItemCount();\n    for (const { key, type, count } of itemCount) {\n        pieces[`${key}_${type}`] = count;\n    }\n    dispatch({ type: SET_PIECES, value: pieces });\n};\n\nconst usePlayerEventSync = ({ api, mode }) => {\n    const { dispatch } = useStateContext();\n    const playerContext = usePlayerContext();\n    const [seatsArray, updateSeatsArray] = useState([]);\n\n    const itemSelectedCallback = useCallback(\n        (event) => {\n            if (mode === PLAYER_WEBGL_MODE) {\n                const id = event.detail.id;\n                const selectItem = id && api.getItemById(id);\n                if (selectItem) {\n                    dispatch({ type: SET_SELECTED_PIECE, value: null });\n                }\n            }\n        },\n        [mode, api, dispatch]\n    );\n\n    const itemMovedCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n            dispatch({ type: SET_CONFIGURATION_CHANGED });\n        },\n        [dispatch]\n    );\n\n    const updatePiecesCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n            updatePieces(api, dispatch);\n        },\n        [api, dispatch]\n    );\n\n    const showDeepSeatMessage = useCallback(\n        (event) => {\n            const newSideType = event.detail.newSideType;\n            event.preventDefault();\n            const sideTypeKey = newSideType.includes('deep') ? 'deep' : 'standard';\n\n            const playerMessage = {\n                deep: `${t`This Seat configuration requires a Deep Side. Your current Side will be swapped with a Deep Side to fill the gap created by the rotation of the Seat.`}`,\n                standard: `${t`This Seat configuration requires a Standard Side. Your current Side will be swapped with a Standard Side to fill the gap created by the rotation of the Seat.`}`,\n            };\n\n            if (!seatsArray.includes(newSideType)) {\n                playerContext.dispatch({\n                    type: TOGGLE_PLAYER_MESSAGE,\n                    data: {\n                        subtitle: `${t`This seat configuration requires a different side.`}`,\n                        description: playerMessage[`${sideTypeKey}`],\n                        action: `${t`Got It`}`,\n                    },\n                });\n            }\n            updateSeatsArray((arr) => [...arr, `${newSideType}`]);\n        },\n        [playerContext, updateSeatsArray, seatsArray]\n    );\n\n    useEffect(() => {\n        if (mode === PLAYER_WEBGL_MODE) {\n            window.addEventListener('itemAdd', updatePiecesCallback);\n            window.addEventListener('itemDelete', updatePiecesCallback);\n            window.addEventListener('convertSide', updatePiecesCallback);\n            window.addEventListener('itemMoveEnd', itemMovedCallback);\n            window.addEventListener('itemSelect', itemSelectedCallback);\n            window.addEventListener('convertSide', showDeepSeatMessage);\n        }\n\n        return () => {\n            if (mode === PLAYER_WEBGL_MODE) {\n                window.removeEventListener('itemAdd', updatePiecesCallback);\n                window.removeEventListener('itemDelete', updatePiecesCallback);\n                window.removeEventListener('convertSide', updatePiecesCallback);\n                window.removeEventListener('itemMoveEnd', itemMovedCallback);\n                window.removeEventListener('itemSelect', itemSelectedCallback);\n                window.removeEventListener('convertSide', showDeepSeatMessage);\n            }\n        };\n    }, [updatePiecesCallback, itemMovedCallback, itemSelectedCallback, mode, showDeepSeatMessage]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { title, code } from './constants';\nimport { buildIndex } from './hooks/buildIndex';\nimport { updateState } from './hooks/updateState';\nimport { collectTotals } from './hooks/collectTotals';\nimport { usePlayerSync } from './hooks/usePlayerSync';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\nimport { StepComponent } from './StepComponent';\nimport { SummaryComponent } from './SummaryComponent';\n\nexport default {\n    title,\n    code,\n    buildIndex,\n    updateState,\n    collectTotals,\n    usePlayerSync,\n    usePlayerInitParams,\n    StepComponent,\n    SummaryComponent,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { getPiecesTitle } from '../../../calculator';\nimport { TYPE_PREBUILT } from '../constants';\n\nexport const collectTotals = (\n    { options: prevOptions },\n    { pieces: statePieces, configurationType, configuration },\n    index\n) => {\n    const objects = prevOptions.objects ? [...prevOptions.objects] : [];\n    const options = { ...prevOptions, pieces: statePieces, objects };\n\n    if (configurationType === TYPE_PREBUILT) {\n        const { preBuilt } = index;\n        const { objects: newObjects = [] } = preBuilt[configuration];\n        for (const object of newObjects) {\n            objects.push(object);\n        }\n    }\n\n    return {\n        title: getPiecesTitle(index, options),\n        options,\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useStateContext } from '../../../Context/State';\nimport { TYPE_CUSTOM } from '../constants';\nimport { PLAYER_VRAY_MODE, PLAYER_WEBGL_MODE } from '../../../View/Player/constants';\nimport { usePlayerProductId } from './usePlayerProductId';\n\nexport const usePlayerInitParams = (params) => {\n    const {\n        state: { configurationType },\n    } = useStateContext();\n    const playerMode = configurationType === TYPE_CUSTOM ? PLAYER_WEBGL_MODE : PLAYER_VRAY_MODE;\n    params.initialConfiguration.productId = usePlayerProductId(playerMode);\n    params.mode = playerMode === PLAYER_WEBGL_MODE ? 'webgl' : 'vray';\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { INIT, LOAD } from '../../../Context/State';\nimport { DECREMENT_OPTION_QTY, INCREMENT_OPTION_QTY, SET_OPTION_QTY, TYPE_STORAGE_SEAT } from '../constants';\nimport { SET_CONFIGURATION, SET_PIECES, RESET_CONFIGURATION } from '../../Configure/constants';\n\nexport const updateState = (state, index, { type: actionType = null, code: actionCode = null, value = null }) => {\n    switch (actionType) {\n        case INIT:\n        case RESET_CONFIGURATION: {\n            state.options = {};\n            for (const code in index.options) {\n                state.options[code] = {\n                    qty: 0,\n                    minQty: 0,\n                    maxQty: Number.MAX_SAFE_INTEGER,\n                };\n            }\n            break;\n        }\n        case LOAD: {\n            const { items = [] } = index.saved;\n            for (const { type = null, key = null } of items) {\n                let code = type;\n                if (type === 'seat' && ['storage', 'deepStorage'].includes(key)) {\n                    code = TYPE_STORAGE_SEAT;\n                }\n                if (state.options[code]) {\n                    state.options[code].qty += 1;\n                }\n            }\n            break;\n        }\n        case INCREMENT_OPTION_QTY:\n        case DECREMENT_OPTION_QTY:\n        case SET_OPTION_QTY: {\n            const item = getOptionCopy(state, actionCode);\n            if (item) {\n                item.prevQty = item.qty;\n                if (actionType === INCREMENT_OPTION_QTY) {\n                    item.qty = item.qty + 1;\n                } else if (actionType === DECREMENT_OPTION_QTY) {\n                    item.qty = item.qty - 1;\n                } else {\n                    item.qty = parseInt(value, 10);\n                }\n                if (isNaN(item.qty)) {\n                    item.qty = item.minQty;\n                }\n                item.qty = Math.min(Math.max(item.qty, item.minQty), item.maxQty);\n            }\n            break;\n        }\n    }\n\n    switch (actionType) {\n        case INIT:\n        case LOAD:\n        case SET_CONFIGURATION:\n        case SET_PIECES: {\n            const storageSeat = getOptionCopy(state, TYPE_STORAGE_SEAT);\n            if (storageSeat) {\n                storageSeat.maxQty = state.pieces.standard_seat + state.pieces.deep_seat;\n                storageSeat.qty = Math.min(Math.max(storageSeat.qty, storageSeat.minQty), storageSeat.maxQty);\n            }\n            break;\n        }\n    }\n};\n\nconst getOptionCopy = (state, type) => {\n    state.options = { ...state.options };\n    if (state.options[type]) {\n        state.options[type] = { ...state.options[type] };\n        return state.options[type];\n    }\n    return null;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { title, code } from './constants';\nimport { StepComponent } from './StepComponent';\nimport { SummaryComponent } from './SummaryComponent';\nimport { buildIndex } from './hooks/buildIndex';\nimport { updateState } from './hooks/updateState';\nimport { collectTotals } from './hooks/collectTotals';\n\nexport default {\n    title,\n    code,\n    buildIndex,\n    updateState,\n    collectTotals,\n    StepComponent,\n    SummaryComponent,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildIndex = (index, { options = {} }) => {\n    index.options = {};\n    for (const item of options) {\n        if (!index.options[item.type]) {\n            index.options[item.type] = {};\n        }\n        index.options[item.type] = item;\n    }\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { TYPE_STORAGE_SEAT } from '../constants';\n\nexport const collectTotals = ({ options: prevOptions }, { options: stateOptions }, { options: indexOptions }) => {\n    const objects = prevOptions.objects ? [...prevOptions.objects] : [];\n    const options = { ...prevOptions, objects };\n\n    const types = {};\n    for (const code in stateOptions) {\n        const { qty } = stateOptions[code];\n        if (qty > 0) {\n            const { type } = indexOptions[code];\n            if (type === TYPE_STORAGE_SEAT) {\n                /* eslint camelcase: off */\n                options.pieces = { ...options.pieces };\n\n                const storageSeatQty = Math.min(options.pieces.standard_seat, qty);\n                options.pieces.standard_seat -= storageSeatQty;\n                options.pieces.storage_seat += storageSeatQty;\n\n                if (qty > storageSeatQty) {\n                    const deepStorageSeatQty = Math.min(options.pieces.deep_seat, qty - storageSeatQty);\n                    options.pieces.deep_seat -= deepStorageSeatQty;\n                    options.pieces.deepStorage_seat += deepStorageSeatQty;\n                }\n            } else {\n                objects.push([indexOptions[code], qty]);\n            }\n            types[type] = qty;\n        }\n    }\n\n    return {\n        options,\n        types,\n        title: types[TYPE_STORAGE_SEAT] > 0 ? `Storage Seat (x${types[TYPE_STORAGE_SEAT]})` : null,\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildIndex = (index, { main: { fillTypes = {} } }, type) => {\n    if (!index.defaultFill) {\n        throw new Error(`Default fill is empty`);\n    }\n    index.fill = {};\n    for (const code in fillTypes) {\n        index.fill[code] = fillTypes[code];\n    }\n\n    if (shouldHideFillStep(index)) {\n        type.steps = type.steps.filter(({ code }) => code !== 'fill');\n    }\n};\n\nconst shouldHideFillStep = ({ preBuilt = null }) => {\n    if (preBuilt) {\n        const preBuiltSkus = Object.keys(preBuilt);\n        if (preBuiltSkus.length === 1) {\n            const preBuiltSku = preBuiltSkus[0];\n            const { pieces } = preBuilt[preBuiltSku];\n            if (pieces) {\n                for (const key in pieces) {\n                    if (pieces[key] > 0 && key.includes('seat')) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n        }\n    }\n    return false;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { title, code } from './constants';\nimport { buildIndex } from './hooks/buildIndex';\nimport { updateState } from './hooks/updateState';\nimport { collectTotals } from './hooks/collectTotals';\nimport { StepComponent } from './StepComponent';\nimport { SummaryComponent } from './SummaryComponent';\n\nexport default {\n    title,\n    code,\n    buildIndex,\n    updateState,\n    collectTotals,\n    StepComponent,\n    SummaryComponent,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { INIT, LOAD } from '../../../Context/State';\nimport { SET_FILL } from '../constants';\nimport { RESET_CONFIGURATION } from '../../Configure/constants';\n\nexport const updateState = (state, { defaultFill, saved }, action) => {\n    switch (action.type) {\n        case INIT: {\n            state.fill = defaultFill;\n            break;\n        }\n        case RESET_CONFIGURATION: {\n            state.fill = defaultFill;\n            break;\n        }\n        case LOAD: {\n            if (saved.fill) {\n                state.fill = saved.fill;\n            }\n            break;\n        }\n        case SET_FILL: {\n            state.fill = action.value;\n            break;\n        }\n    }\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const collectTotals = ({ options: prevOptions }, { fill: stateFill }, index) => {\n    return {\n        title: index.fill[stateFill].title,\n        options: { ...prevOptions, fill: stateFill },\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useEffect, useLayoutEffect, useState, useMemo, useCallback } from 'preact/hooks';\nimport { NO_STEALTHTECH_CODE, SET_STEALTHTECH_ELIGIBLE } from '../constants';\nimport { useStateContext } from '../../../Context/State';\nimport { isCoverStealthtechEligible } from '../isCoverStealthtechEligible';\nimport { TYPE_PREBUILT } from '../../Configure/constants';\nimport { useTotalsContext } from '../../../Context/Totals';\nimport { PLAYER_WEBGL_MODE } from '../../../View/Player/constants';\n\nexport const usePlayerSync = (playerState, state, index) => {\n    useSetStealthtechSync(playerState, state);\n    useSetStealthTechEligibleSync(playerState, state, index);\n};\n\nconst useSetStealthtechSync = ({ api }, { stealthtech }) => {\n    useEffect(() => {\n        try {\n            if (api.setStealthTech) {\n                api.setStealthTech({\n                    key: stealthtech !== NO_STEALTHTECH_CODE ? stealthtech : null,\n                    showIndicators: true,\n                });\n            }\n        } catch (error) {\n            // eslint-disable-next-line no-console\n            console.error(error);\n        }\n    }, [api, stealthtech]);\n};\n\nconst useSetStealthTechEligibleSync = (\n    { api, mode },\n    { armStyle, fabricId = null, fabricLeadTime = null, configurationType, configuration },\n    index\n) => {\n    const [playerSTEligible, setPlayerSTEligible] = useState(null);\n    const { preBuilt } = index;\n    const {\n        modules: {\n            stealthtech: { options },\n        },\n    } = useTotalsContext();\n\n    const setSTEligible = useCallback(() => {\n        if (api.checkEligibility) {\n            let stealthTechEligible = null;\n            try {\n                stealthTechEligible = api.checkEligibility();\n            } catch (error) {\n                // eslint-disable-next-line no-console\n                console.error(error);\n            }\n            setPlayerSTEligible(stealthTechEligible ? stealthTechEligible.map((item) => item.key).join(',') : '');\n        }\n    }, [api]);\n\n    useEffect(() => {\n        if (mode === PLAYER_WEBGL_MODE) {\n            window.addEventListener('itemAdd', setSTEligible);\n            window.addEventListener('itemDelete', setSTEligible);\n            window.addEventListener('convertSide', setSTEligible);\n            window.addEventListener('itemMoveEnd', setSTEligible);\n            setSTEligible();\n        } else {\n            setPlayerSTEligible(null);\n        }\n\n        return () => {\n            if (mode === PLAYER_WEBGL_MODE) {\n                window.removeEventListener('itemAdd', setSTEligible);\n                window.removeEventListener('itemDelete', setSTEligible);\n                window.removeEventListener('convertSide', setSTEligible);\n                window.removeEventListener('itemMoveEnd', setSTEligible);\n            }\n        };\n    }, [api, mode, setSTEligible]);\n\n    const eligibleError = useMemo(() => {\n        if (!isCoverStealthtechEligible(index, options, fabricLeadTime, fabricId)) {\n            return index.stealthtechIneligibleFabricErrorMsg;\n        } else if (!options.pieces['standard_seat'] && !options.pieces['deep_seat']) {\n            return index.stealthtechCoreToNoneErrorMsg;\n        } else if (armStyle === 'rollArm') {\n            return index.stealthtechOptimalToCoreErrorMsg;\n        }\n        return null;\n    }, [index, fabricLeadTime, fabricId, options, armStyle]);\n\n    const STEligible = useMemo(() => {\n        if (configurationType === TYPE_PREBUILT || playerSTEligible === null) {\n            return preBuilt[configuration].stealthtech;\n        }\n        return playerSTEligible;\n    }, [preBuilt, configuration, playerSTEligible, configurationType]);\n\n    const { dispatch } = useStateContext();\n    useLayoutEffect(() => {\n        let value = [];\n        if (!eligibleError && STEligible) {\n            value = STEligible.split(',');\n        }\n        dispatch({\n            type: SET_STEALTHTECH_ELIGIBLE,\n            value,\n            error: eligibleError,\n        });\n    }, [eligibleError, STEligible, dispatch, armStyle]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { title, code } from './constants';\nimport { buildIndex } from './hooks/buildIndex';\nimport { updateState } from './hooks/updateState';\nimport { collectTotals } from './hooks/collectTotals';\nimport { usePlayerSync } from './hooks/usePlayerSync';\nimport { StepComponent } from './StepComponent';\nimport { SummaryComponent } from './SummaryComponent';\nimport { GlobalComponent } from './GlobalComponent';\n\nexport default {\n    title,\n    code,\n    buildIndex,\n    updateState,\n    collectTotals,\n    usePlayerSync,\n    StepComponent,\n    SummaryComponent,\n    GlobalComponent,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { NO_STEALTHTECH_CODE } from '../constants';\n\nexport const buildIndex = (\n    index,\n    {\n        main: {\n            stealthtechEligibilityStandardSidesMsg,\n            stealthtechEligibilityStandardSeatsMsg,\n            stealthtechEligibilityLeatherMsg,\n            stealthtechIneligibleFabricErrorMsg,\n            stealthtechCoreToNoneErrorMsg,\n            stealthtechOptimalToCoreErrorMsg,\n            stealthtechOptimalToOptimalErrorMsg,\n            stealthtechExprienceCmsBlock,\n            stealthtechStepMessage,\n        },\n        stealthtech = [],\n        isStealthtech = 0,\n    }\n) => {\n    const indexStealthtech = {};\n    for (const item of stealthtech) {\n        indexStealthtech[item.sku] = item;\n    }\n    indexStealthtech[NO_STEALTHTECH_CODE] = {\n        name: t`None`,\n        price: { price: 0 },\n    };\n    index.stealthtechEligibilityStandardSidesMsg = stealthtechEligibilityStandardSidesMsg;\n    index.stealthtechEligibilityStandardSeatsMsg = stealthtechEligibilityStandardSeatsMsg;\n    index.stealthtechEligibilityLeatherMsg = stealthtechEligibilityLeatherMsg;\n    index.stealthtech = indexStealthtech;\n    index.stealthtechIneligibleFabricErrorMsg = stealthtechIneligibleFabricErrorMsg;\n    index.stealthtechCoreToNoneErrorMsg = stealthtechCoreToNoneErrorMsg;\n    index.stealthtechOptimalToCoreErrorMsg = stealthtechOptimalToCoreErrorMsg;\n    index.stealthtechOptimalToOptimalErrorMsg = stealthtechOptimalToOptimalErrorMsg;\n    index.stealthtechExprienceCmsBlock = stealthtechExprienceCmsBlock;\n    index.stealthtechStepMessage = stealthtechStepMessage;\n    index.isStealthtech = isStealthtech;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { INIT, LOAD } from '../../../Context/State';\nimport { NO_STEALTHTECH_CODE, SET_STEALTHTECH, SET_STEALTHTECH_ELIGIBLE } from '../constants';\nimport {\n    SET_CONFIGURATION,\n    SET_CONFIGURATION_TYPE,\n    TYPE_PREBUILT,\n    RESET_CONFIGURATION,\n} from '../../Configure/constants';\n\nexport const updateState = (\n    state,\n    { stealthtech, saved, isStealthtech, preBuilt },\n    { type: actionType = null, value = null, error = null }\n) => {\n    switch (actionType) {\n        case INIT: {\n            state.stealthtech = NO_STEALTHTECH_CODE;\n            state.stealthTechEligible = [];\n            state.stealthtechError = '';\n            state.stealthtechChanged = false;\n            break;\n        }\n        case RESET_CONFIGURATION: {\n            state.stealthtechError = '';\n            state.stealthtechChanged = false;\n\n            if (isStealthtech === false) {\n                state.stealthtech = NO_STEALTHTECH_CODE;\n            }\n\n            if (saved && saved.stealthtech_sku) {\n                state.stealthTechEligible = [state.stealthtech];\n            }\n            break;\n        }\n        case LOAD: {\n            if (saved.stealthtech_sku) {\n                state.stealthtech = saved.stealthtech_sku;\n                state.stealthTechEligible = [state.stealthtech];\n                state.stealthtechChanged = true;\n            }\n            break;\n        }\n        case SET_CONFIGURATION_TYPE:\n        case SET_CONFIGURATION: {\n            if (state.configurationType === TYPE_PREBUILT) {\n                state.stealthTechEligible = preBuilt[state.configuration]?.stealthtech || [];\n                if (isStealthtech) {\n                    state.stealthtech = state.stealthTechEligible.split(',').pop();\n                    state.stealthtechChanged = false;\n                }\n                if (!state.stealthTechEligible.includes(state.stealthtech)) {\n                    state.stealthtech = NO_STEALTHTECH_CODE;\n                }\n            }\n            break;\n        }\n        case SET_STEALTHTECH: {\n            if (!stealthtech?.[value] || !state.stealthTechEligible.includes(value)) {\n                value = NO_STEALTHTECH_CODE;\n            }\n            state.stealthtech = value;\n            state.stealthtechChanged = true;\n            break;\n        }\n        case SET_STEALTHTECH_ELIGIBLE: {\n            state.stealthTechEligible = value ?? null;\n            state.previous = state.previous?.previous;\n\n            // set stealthtech as the last available if isStealthtech = true\n            if (isStealthtech && state.stealthTechEligible && !state.stealthtechChanged) {\n                const newStealthtech = state.stealthTechEligible.slice(-1)[0];\n                state.stealthtech = newStealthtech ? newStealthtech : NO_STEALTHTECH_CODE;\n                state.stealthtechError = state.stealthtech === NO_STEALTHTECH_CODE ? error : '';\n            }\n\n            // reset stealthtech if it's not eligible anymore\n            if (state.stealthtech !== NO_STEALTHTECH_CODE && !state.stealthTechEligible.includes(state.stealthtech)) {\n                state.stealthtech = NO_STEALTHTECH_CODE;\n                state.stealthtechError = error;\n            }\n            break;\n        }\n    }\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { NO_STEALTHTECH_CODE } from '../constants';\n\nexport const collectTotals = (\n    { options: prevOptions },\n    { stealthtech: stateStealthtech },\n    { stealthtech: indexStealthtech }\n) => {\n    const objects = prevOptions.objects ? [...prevOptions.objects] : [];\n    let title = null;\n    if (stateStealthtech !== NO_STEALTHTECH_CODE) {\n        const stealthtech = indexStealthtech[stateStealthtech];\n        if (stealthtech) {\n            objects.push([stealthtech, 1]);\n            title = stealthtech.name;\n        }\n    }\n\n    return {\n        title,\n        options: { ...prevOptions, objects },\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Sactional`;\nexport const code = 'sactional';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport StepCover from '../../Step/Cover';\nimport StepAccessories from '../../Step/Accessories';\nimport StepSummary from '../../Step/Summary';\nimport StepSactionalStyle from '../../Step/SactionalStyle';\nimport StepConfigure from '../../Step/Configure';\nimport StepOptions from '../../Step/Options';\nimport StepFill from '../../Step/Fill';\nimport StepStealthtech from '../../Step/Stealthtech';\nimport { StepNavigator } from '../../View/StepNavigator';\nimport { code, title } from './constants';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\nimport { PlayerToolbar } from './Toolbar/PlayerToolbar';\nimport { Thumbnails } from './Thumbnails';\n\nconst steps = [\n    StepSactionalStyle,\n    StepConfigure,\n    StepCover,\n    StepOptions,\n    StepFill,\n    StepStealthtech,\n    StepAccessories,\n    StepSummary,\n];\n\nexport default {\n    code,\n    title,\n    steps,\n    usePlayerInitParams,\n    Thumbnails,\n    PlayerToolbar,\n    View: StepNavigator,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useBrowserContext } from '../../../Context/Browser';\n\nexport const usePlayerInitParams = (params) => {\n    const { isMobile } = useBrowserContext();\n\n    params.productCategory = 'indoorSactional';\n    params.mode = 'vray';\n    params.device = isMobile ? 'mobile' : '';\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Sactional`;\nexport const code = 'sactionalPiece';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport StepCover from '../../Step/Cover';\nimport StepAccessories from '../../Step/Accessories';\nimport StepSummary from '../../Step/Summary';\nimport StepConfigure from '../../Step/Configure';\nimport StepOptions from '../../Step/Options';\nimport StepFill from '../../Step/Fill';\nimport { View } from './View';\nimport { PlayerToolbar } from './Toolbar/PlayerToolbar';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\nimport { Thumbnails } from './Thumbnails';\nimport { code, title } from './constants';\nimport { buildIndex } from './hooks/buildIndex';\n\nconst steps = [StepCover, StepOptions, StepFill, StepAccessories, StepSummary];\n\nexport default {\n    code,\n    title,\n    steps,\n    extra: [StepConfigure],\n    buildIndex,\n    usePlayerInitParams,\n    PlayerToolbar,\n    Thumbnails,\n    View,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildIndex = (index, options) => {\n    index.sactionalPieceMarketingBlock = options.main.sactionalpiece_marketing_block;\n    index.sactionalPieceBenefitsBlock = options.main.sactionalpiece_benefits_block;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useStateContext } from '../../../Context/State';\n\nexport const usePlayerInitParams = (params) => {\n    const {\n        state: { configuration },\n    } = useStateContext();\n\n    params.productCategory =\n        configuration && configuration.includes('InsertCover') ? 'sactionalCovers' : 'indoorSactional';\n    params.mode = 'vray';\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildIndex = (index, options) => {\n    buildAccessoriesData(index, options);\n};\n\nexport const buildAccessoriesData = (index, { accessories = {}, main: { squattomanData = {} } }) => {\n    const indexAccessories = {};\n\n    if (squattomanData) {\n        const squattomanPiece = squattomanData.pieces[0];\n        const type = squattomanPiece.type;\n        const key = squattomanPiece.key;\n        if (!indexAccessories[type]) {\n            indexAccessories[type] = {};\n        }\n        indexAccessories[type][key] = {\n            ...squattomanPiece,\n            ...squattomanPiece.insert,\n        };\n    }\n\n    for (const item of accessories) {\n        const { type, key } = item;\n        if (!indexAccessories[type]) {\n            indexAccessories[type] = {};\n        }\n        indexAccessories[type][key] = item;\n    }\n\n    index.accessories = indexAccessories;\n\n    Object.assign(index, {\n        squattomanData,\n    });\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { title, code } from '../Accessories/constants';\nimport { updateState } from '../Accessories/hooks/updateState';\nimport { collectTotals } from '../Accessories/hooks/collectTotals';\nimport { SummaryComponent } from '../Accessories/SummaryComponent';\nimport { buildIndex } from './hooks/buildIndex';\nimport { StepComponent } from './StepComponent';\n\nexport default {\n    title,\n    code,\n    buildIndex,\n    updateState,\n    collectTotals,\n    StepComponent,\n    SummaryComponent,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { INIT, LOAD } from '../../../Context/State';\nimport { SET_PIECE } from '../constants';\n\nexport const updateState = (state, { pieces: indexPieces, saved }, { type: actionType = null, value = null }) => {\n    switch (actionType) {\n        case INIT: {\n            const piece = Object.keys(indexPieces)[0];\n            state.piece = piece;\n            // Cover step uses pieces\n            state.pieces = getPieces(piece);\n            break;\n        }\n        case LOAD: {\n            const { items = [] } = saved;\n            for (const { type = null, key = null } of items) {\n                if (indexPieces[`${key}_${type}`]) {\n                    const piece = `${key}_${type}`;\n                    state.piece = piece;\n                    state.pieces = getPieces(piece);\n                    break;\n                }\n            }\n            break;\n        }\n        case SET_PIECE: {\n            state.piece = value;\n            // Cover step uses pieces\n            state.pieces = getPieces(value);\n            break;\n        }\n    }\n};\n\nconst getPieces = (piece) => {\n    const pieces = {};\n    pieces[piece] = 1;\n    return pieces;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { title, code } from './constants';\nimport { buildIndex } from './hooks/buildIndex';\nimport { updateState } from './hooks/updateState';\nimport { collectTotals } from './hooks/collectTotals';\nimport { usePlayerSync } from './hooks/usePlayerSync';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\nimport { StepComponent } from './StepComponent';\nimport { SummaryComponent } from './SummaryComponent';\n\nexport default {\n    title,\n    code,\n    buildIndex,\n    updateState,\n    collectTotals,\n    usePlayerSync,\n    usePlayerInitParams,\n    StepComponent,\n    SummaryComponent,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { buildPiecesIndex } from '../../Configure/hooks/buildIndex';\n\nexport const buildIndex = (index, options) => {\n    buildPiecesIndex(index, options);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const collectTotals = ({ options: prevOptions }, { pieces: statePieces, piece }, { pieces: indexPieces }) => {\n    const { name: title } = indexPieces[piece];\n    const options = { ...prevOptions, pieces: statePieces };\n\n    return {\n        title,\n        options,\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useEffect } from 'preact/hooks';\nimport { usePlayerProductId } from './usePlayerProductId';\n\nexport const usePlayerSync = ({ api }) => {\n    const productId = usePlayerProductId();\n    useEffect(() => {\n        api.setProduct(productId);\n    }, [api, productId]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { usePlayerProductId } from './usePlayerProductId';\n\nexport const usePlayerInitParams = ({ initialConfiguration }) => {\n    initialConfiguration.productId = usePlayerProductId();\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Sac`;\nexport const code = 'sac';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport StepCover from '../../Step/Cover';\nimport StepSacAccessories from '../../Step/SacAccessories';\nimport StepSummary from '../../Step/Summary';\nimport StepSacSize from '../../Step/SacSize';\nimport { StepNavigator } from '../../View/StepNavigator';\nimport { code, title } from './constants';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\nimport { PlayerToolbar } from './Toolbar/PlayerToolbar';\nimport { Thumbnails } from './Thumbnails';\n\nconst steps = [StepSacSize, StepCover, StepSacAccessories, StepSummary];\n\nexport default {\n    code,\n    title,\n    steps,\n    usePlayerInitParams,\n    PlayerToolbar,\n    Thumbnails,\n    View: StepNavigator,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nexport const usePlayerInitParams = (params) => {\n    params.productCategory = 'sac';\n    params.mode = 'vray';\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Outdoor Sactional`;\nexport const code = 'outdoorSactional';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport StepConfigure from '../../Step/Configure';\nimport StepCover from '../../Step/Cover';\nimport StepAccessories from '../../Step/Accessories';\nimport StepSummary from '../../Step/Summary';\nimport { StepNavigator } from '../../View/StepNavigator';\nimport { code, title } from './constants';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\nimport { PlayerToolbar } from './Toolbar/PlayerToolbar';\nimport { Thumbnails } from './Thumbnails';\n\nconst steps = [StepConfigure, StepCover, StepAccessories, StepSummary];\n\nexport default {\n    code,\n    title,\n    steps,\n    usePlayerInitParams,\n    PlayerToolbar,\n    Thumbnails,\n    View: StepNavigator,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { useBrowserContext } from '../../../Context/Browser';\n\nexport const usePlayerInitParams = (params) => {\n    const { isMobile } = useBrowserContext();\n\n    params.productCategory = 'outdoorSactional';\n    params.mode = 'vray';\n    params.device = isMobile ? 'mobile' : '';\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { INIT, LOAD } from '../../../Context/State';\nimport { SET_PIECEQTY, SET_PIECE } from '../constants';\n\nexport const updateState = (state, { pieces: indexPieces, saved }, { type: actionType = null, value }) => {\n    switch (actionType) {\n        case INIT: {\n            const piece = Object.keys(indexPieces)[0];\n            state.piece = piece;\n            // Cover step uses pieces\n            state.piecesQty = 1;\n            state.pieces = getPieces(piece, state);\n            break;\n        }\n        case LOAD: {\n            const { items = [] } = saved;\n            let piecesQty = 0;\n            for (const { type = null, key = null } of items) {\n                if (indexPieces[`${key}_${type}`]) {\n                    state.piece = `${key}_${type}`;\n                    piecesQty += 1;\n                }\n            }\n            state.piecesQty = Math.max(1, piecesQty);\n            state.pieces = getPieces(state.piece, state);\n            break;\n        }\n        case SET_PIECEQTY: {\n            state.piecesQty = value;\n            state.pieces = getPieces(state.piece, state);\n            break;\n        }\n        case SET_PIECE: {\n            state.piece = value;\n            state.pieces = getPieces(state.piece, state);\n            break;\n        }\n    }\n};\n\nconst getPieces = (piece, state) => {\n    const pieces = {};\n    pieces[piece] = state.piecesQty;\n    return pieces;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useStateContext } from '../../../Context/State';\nimport { useConfiguratorContext } from '../../../Context/Configurator';\n\nexport const usePlayerProductId = () => {\n    const {\n        index: { pieces: indexPieces },\n    } = useConfiguratorContext();\n    const {\n        state: { piece: statePiece },\n    } = useStateContext();\n\n    return indexPieces[statePiece].threekitProductId;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { title, code } from './constants';\nimport { StepComponent } from './StepComponent';\nimport { buildIndex } from './hooks/buildIndex';\nimport { updateState } from './hooks/updateState';\nimport { collectTotals } from './hooks/collectTotals';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\nimport { usePlayerSync } from './hooks/usePlayerSync';\n\nexport default {\n    title,\n    code,\n    buildIndex,\n    updateState,\n    usePlayerInitParams,\n    usePlayerSync,\n    collectTotals,\n    StepComponent,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { buildPiecesIndex } from '../../Configure/hooks/buildIndex';\n\nexport const buildIndex = (index, options) => {\n    buildPiecesIndex(index, options);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { usePlayerProductId } from './usePlayerProductId';\n\nexport const usePlayerInitParams = (params) => {\n    params.initialConfiguration.productId = usePlayerProductId();\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useEffect } from 'preact/hooks';\nimport { usePlayerProductId } from './usePlayerProductId';\n\nexport const usePlayerSync = ({ api }) => {\n    const productId = usePlayerProductId();\n    useEffect(() => {\n        api.setProduct(productId);\n    }, [api, productId]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const collectTotals = (\n    { options: prevOptions },\n    { pieces: statePieces, piece },\n    { pieces: indexPieces, configuratorType }\n) => {\n    const { name: title } = indexPieces[piece];\n    const isCoversOnly = !!configuratorType.includes('Cover');\n    const options = {\n        ...prevOptions,\n        pieces: statePieces,\n        coversOnly: isCoversOnly,\n    };\n\n    return {\n        title,\n        options,\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const StepComponent = () => {};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Squattoman`;\nexport const code = 'squattoman';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport StepCover from '../../Step/Cover';\nimport StepPiece from '../../Step/Piece';\nimport { View } from './View';\nimport { buildIndex } from './hooks/buildIndex';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\nimport { code, title } from './constants';\nimport { PlayerToolbar } from './Toolbar/PlayerToolbar';\n\nconst steps = [StepCover, StepPiece];\n\nexport default {\n    code,\n    title,\n    steps,\n    buildIndex,\n    PlayerToolbar,\n    usePlayerInitParams,\n    View,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildIndex = (index, options) => {\n    index.squattomanMarketingBlock = options.main.squattoman_marketing_block;\n    index.squattomanDescriptionBlock = options.main.squattoman_description_block;\n    index.squattomanBenefitsBlock = options.main.squattoman_benefits_block;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const usePlayerInitParams = (params) => {\n    params.productCategory = 'squattoman';\n    params.mode = 'vray';\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Throw Pillow`;\nexport const code = 'throwPillow';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport StepCover from '../../Step/Cover';\nimport StepPiece from '../../Step/Piece';\nimport { View } from './View';\nimport { buildIndex } from './hooks/buildIndex';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\nimport { code, title } from './constants';\nimport { SummaryComponent } from './SummaryComponent';\nimport { PlayerToolbar } from './Toolbar/PlayerToolbar';\nimport { Thumbnails } from './Thumbnails';\n\nconst steps = [StepCover, StepPiece];\n\nexport default {\n    code,\n    title,\n    steps,\n    buildIndex,\n    usePlayerInitParams,\n    PlayerToolbar,\n    Thumbnails,\n    View,\n    SummaryComponent,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildIndex = (index, options) => {\n    index.throwpillowMarketingBlock = options.main.throwpillow_marketing_block;\n    index.throwpillowDescriptionBlock = options.main.throwpillow_description_block;\n    index.throwpillowBenefitsBlock = options.main.throwpillow_benefits_block;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const usePlayerInitParams = (params) => {\n    params.productCategory = 'throwPillow';\n    params.mode = 'vray';\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport StepCover from '../../Step/Cover';\nimport StepPiece from '../../Step/Piece';\nimport { View } from './View';\nimport { buildIndex } from './hooks/buildIndex';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\n\nconst code = 'sactionalCover';\nconst steps = [StepCover, StepPiece];\n\nexport default {\n    code,\n    steps,\n    buildIndex,\n    usePlayerInitParams,\n    View,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildIndex = (index, options) => {\n    index.sactionalCoverMarketingBlock = options.main.sactionalcover_marketing_block;\n    index.sactionalCoverBenefitsBlock = options.main.sactionalcover_benefits_block;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const usePlayerInitParams = (params) => {\n    params.productCategory = 'sactionalCovers';\n    params.mode = 'vray';\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport StepCover from '../../Step/Cover';\nimport StepPiece from '../../Step/Piece';\nimport { Thumbnails } from '../Sac/Thumbnails';\nimport { View } from './View';\nimport { buildIndex } from './hooks/buildIndex';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\n\nconst code = 'sacCover';\nconst steps = [StepCover, StepPiece];\n\nexport default {\n    code,\n    steps,\n    buildIndex,\n    usePlayerInitParams,\n    Thumbnails,\n    View,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildIndex = (index, options) => {\n    index.saccoverMarketingBlock = options.main.saccover_marketing_block;\n    index.saccoverBenefitsBlock = options.main.saccover_benefits_block;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const usePlayerInitParams = (params) => {\n    params.productCategory = 'sac';\n    params.mode = 'vray';\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Squattoman Covers`;\nexport const code = 'squattomanCover';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport StepCover from '../../Step/Cover';\nimport StepPiece from '../../Step/Piece';\nimport { View } from './View';\nimport { buildIndex } from './hooks/buildIndex';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\nimport { code, title } from './constants';\n\nconst steps = [StepCover, StepPiece];\n\nexport default {\n    code,\n    title,\n    steps,\n    buildIndex,\n    usePlayerInitParams,\n    View,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildIndex = (index, options) => {\n    index.squattomanCoverMarketingBlock = options.main.cover_marketing_cms_block;\n    index.squattomanCoverBenefitsBlock = options.main.cover_benefits_cms_block;\n    index.squattomanCoverDescriptionBlock = options.main.cover_description_cms_block;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const usePlayerInitParams = (params) => {\n    params.productCategory = 'squattoman';\n    params.mode = 'vray';\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Throw Pillow Covers`;\nexport const code = 'throwPillowCover';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport StepCover from '../../Step/Cover';\nimport StepPiece from '../../Step/Piece';\nimport { View } from './View';\nimport { buildIndex } from './hooks/buildIndex';\nimport { usePlayerInitParams } from './hooks/usePlayerInitParams';\nimport { code, title } from './constants';\nimport { Thumbnails } from './Thumbnails';\n\nconst steps = [StepCover, StepPiece];\n\nexport default {\n    code,\n    title,\n    steps,\n    buildIndex,\n    Thumbnails,\n    usePlayerInitParams,\n    View,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildIndex = (index, options) => {\n    index.throwpillowCoverMarketingBlock = options.main.throwpillowcover_marketing_block;\n    index.throwpillowBenefitsBlock = options.main.throwpillowcover_benefits_block;\n    index.throwpillowDescriptionBlock = options.main.throwpillowcover_description_block;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const usePlayerInitParams = (params) => {\n    params.productCategory = 'throwPillow';\n    params.mode = 'vray';\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { getPiecesTitle } from '../../calculator';\nimport { buildMarketingSku } from '../../hooks/buildMarketingSku';\n\nexport const configuration = (configuratorContext, stateContext, totalsContext, shareCode) => {\n    const {\n        type: { code, steps },\n        config: { shareUrl },\n        index,\n    } = configuratorContext;\n    const {\n        last: { options },\n        modules,\n        total: price,\n    } = totalsContext;\n    const { state } = stateContext;\n    const { pieces } = options;\n\n    const sharingcode = shareCode || index?.saved?.shareCode;\n\n    return {\n        sku: buildMarketingSku(code, index, pieces, state, false),\n        remarketingSku: buildMarketingSku(code, index, pieces, state, true),\n        name: getPiecesTitle(index, options),\n        description: getDescription(steps, modules),\n        sharingcode,\n        type: code.replace('Piece', '').replace('Cover', ''),\n        items: Object.fromEntries(Object.entries(pieces).filter(([, qty]) => qty > 0)),\n        price,\n        url: sharingcode ? shareUrl.replace('CODE', sharingcode) : location.href,\n    };\n};\n\nconst getDescription = (steps, modules) => {\n    return steps\n        .map(({ code = null, title = null }) => {\n            if (modules?.[code]?.title) {\n                return `${title}: ${modules?.[code]?.title}`;\n            }\n        })\n        .join('|');\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { getPiecesTitle } from '../../calculator';\nimport { buildMarketingSku } from '../../hooks/buildMarketingSku';\n\nexport const products = (configuratorContext, stateContext, totalsContext) => {\n    const {\n        type: { code },\n        index,\n    } = configuratorContext;\n    const {\n        state: { fabricId, fabricLeadTime },\n        state,\n    } = stateContext;\n    const {\n        total: price,\n        last: {\n            options,\n            options: { pieces },\n        },\n    } = totalsContext;\n    const variant = index.fabricOptions?.[fabricLeadTime]?.[fabricId]?.fabricName;\n\n    return [\n        {\n            name: getPiecesTitle(index, options),\n            id: buildMarketingSku(code, index, pieces, state),\n            price,\n            brand: 'LoveSac',\n            category: code.replace('Piece', '').replace('Cover', ''),\n            variant,\n        },\n    ];\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { save } from './events/save';\nimport { addOrUpdateToCart } from './events/add-or-update-cart';\nimport { load } from './events/load';\nimport { share } from './events/share';\nimport { summary } from './events/summary';\nimport { init } from './events/init';\n\nexport const pool = {\n    save,\n    addOrUpdateToCart,\n    init,\n    load,\n    share,\n    summary,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { configuration } from '../data/configurator';\n\nexport const save = (configuratorContext, stateContext, totalsContext, shareCode) => {\n    return {\n        event: 'configurator.save',\n        configurator: configuration(configuratorContext, stateContext, totalsContext, shareCode),\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { configuration } from '../data/configurator';\n\nexport const addOrUpdateToCart = (configuratorContext, stateContext, totalsContext, shareCode) => {\n    const {\n        config: { isConfigureMode = false },\n    } = configuratorContext;\n\n    return {\n        event: `configurator.${!isConfigureMode ? 'addtocart' : 'updatecart'}`,\n        configurator: configuration(configuratorContext, stateContext, totalsContext, shareCode),\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { products } from '../data/products';\n\nexport const init = (configuratorContext, stateContext, totalsContext) => {\n    return {\n        ecommerce: {\n            currencyCode: 'USD',\n            detail: {\n                actionField: { list: 'Configurator' },\n                products: products(configuratorContext, stateContext, totalsContext),\n            },\n        },\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { configuration } from '../data/configurator';\n\nexport const load = (configuratorContext, stateContext, totalsContext) => {\n    return {\n        event: 'configurator.load',\n        configurator: configuration(configuratorContext, stateContext, totalsContext),\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { configuration } from '../data/configurator';\n\nexport const share = (configuratorContext, stateContext, totalsContext, shareCode) => {\n    return {\n        event: 'configurator.share',\n        configurator: configuration(configuratorContext, stateContext, totalsContext, shareCode),\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { configuration } from '../data/configurator';\n\nexport const summary = (configuratorContext, stateContext, totalsContext, shareCode) => {\n    return {\n        event: 'configurator.summary',\n        configurator: configuration(configuratorContext, stateContext, totalsContext, shareCode),\n    };\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { pool } from './pool';\n\nexport const push = (action, configuratorContext, stateContext, totalsContext) => {\n    try {\n        if (window.dataLayer) {\n            const event = typeof action === 'string' ? action : action.event;\n            const shareCode = typeof action === 'string' ? null : action.shareCode;\n\n            const callback = pool[event];\n            if (callback) {\n                const data = callback(configuratorContext, stateContext, totalsContext, shareCode);\n                window.dataLayer.push(data);\n            }\n        }\n    } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error(error);\n    }\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useReducer } from 'preact/hooks';\nimport {\n    PLAYER_VRAY_MODE,\n    SET_FLOOR,\n    SET_INITIALIZED,\n    SET_LOADED,\n    SET_ORTHOGRAPHIC,\n    SET_ROOM_SIZE,\n    SET_UNINITIALIZED,\n    TOGGLE_PLAYER_MESSAGE,\n    TOGGLE_MEASUREMENT,\n} from '../constants';\n\nexport const usePlayerReducer = () => {\n    return useReducer(playerReducer, defaultPlayerState);\n};\n\nconst defaultPlayerState = {\n    isLoaded: false,\n    isInitialized: false,\n    isMeasurementEnabled: false,\n    isOrthographic: true,\n    domNode: null,\n    api: null,\n    mode: PLAYER_VRAY_MODE,\n    floor: 'none',\n    roomSize: null,\n};\n\nconst playerReducer = (oldState, action) => {\n    const state = { ...oldState };\n    switch (action.type) {\n        case SET_LOADED:\n            state.isLoaded = true;\n            state.domNode = action.domNode;\n            break;\n        case SET_INITIALIZED:\n            state.isInitialized = true;\n            state.api = action.api;\n            state.mode = action.mode;\n            break;\n        case SET_UNINITIALIZED:\n            state.isInitialized = false;\n            state.api = null;\n            state.mode = action.mode;\n            break;\n        case TOGGLE_MEASUREMENT:\n            state.isMeasurementEnabled = !state.isMeasurementEnabled;\n            break;\n        case SET_FLOOR:\n            state.floor = action.value;\n            break;\n        case SET_ROOM_SIZE:\n            state.roomSize = action.value;\n            break;\n        case SET_ORTHOGRAPHIC:\n            state.isOrthographic = !!action.value;\n            break;\n        case TOGGLE_PLAYER_MESSAGE:\n            state.showPlayerMessage = action;\n            break;\n    }\n    return state;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport { CurrentModal } from './CurrentModal';\nexport { ModalContextProvider } from './ModalContext';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo, useCallback } from 'preact/hooks';\nimport { useConfiguratorContext } from '../Context/Configurator';\nimport { useNavigatorContext } from '../Context/Navigator';\nimport { useTotalsContext } from '../Context/Totals';\nimport { PriceContainer } from './PriceContainer';\n\nexport const ShowNextStepActionBar = () => {\n    const {\n        type: { steps },\n    } = useConfiguratorContext();\n    const { stepIndex, setStepIndex, stepQty } = useNavigatorContext();\n\n    const action = useCallback(() => {\n        setStepIndex((stepIndex) => stepIndex + 1);\n    }, [setStepIndex]);\n\n    if (stepIndex + 1 >= stepQty) {\n        return;\n    }\n\n    return <ActionBar title={`${t`Next`}: ${steps[stepIndex + 1].title}`} action={action} />;\n};\n\nexport const ActionBar = ({ action, title }) => {\n    return (\n        <div className=\"summary-actions\">\n            <ActionBarPrice />\n            <ActionBarButton action={action} title={title} />\n        </div>\n    );\n};\n\nexport const ActionBarPrice = () => {\n    const { total, totalWithoutDiscount } = useTotalsContext();\n    const {\n        index: { configuratorType },\n    } = useConfiguratorContext();\n\n    return useMemo(() => {\n        const configuratorsToExclude = [\n            'squattoman',\n            'squattomanCover',\n            'sactionalCover',\n            'sacCover',\n            'throwPillow',\n            'sactionalCover',\n            'throwPillowCover',\n        ];\n        if (configuratorsToExclude.includes(configuratorType)) {\n            return;\n        }\n\n        return (\n            <PriceContainer\n                total={total}\n                totalWithoutDiscount={totalWithoutDiscount}\n                classes=\"price summary-price_wrapper\"\n            />\n        );\n    }, [configuratorType, total, totalWithoutDiscount]);\n};\n\nconst ActionBarButton = ({ action, title }) => {\n    const onClick = useCallback(\n        (event) => {\n            event.preventDefault();\n            action();\n        },\n        [action]\n    );\n\n    return (\n        <button className=\"action primary summary-next\" onClick={onClick}>\n            {title}\n        </button>\n    );\n};\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback, useEffect } from 'preact/hooks';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useConfiguratorContext } from '../Context/Configurator';\nimport { usePlayerContext } from '../Context/Player';\nimport { useTotalsContext } from '../Context/Totals';\nimport { getPiecesTitle } from '../calculator';\nimport { useStateContext } from '../Context/State';\nimport { TYPE_CUSTOM, TYPE_PREBUILT } from '../Step/Configure/constants';\nimport { useAjaxRequest } from './useAjaxRequest';\nimport { getLeadTimeText } from './getLeadTimeText';\nimport { buildMarketingSku } from './buildMarketingSku';\n\nexport const useSaveConfigurationRequest = () => {\n    const [result, ajaxCallback] = useAjaxRequest();\n    const bodyDataCallback = useBodyDataCallback();\n    const {\n        config: { saveUrl },\n    } = useConfiguratorContext();\n\n    const callback = useCallback(async () => {\n        return await ajaxCallback({\n            method: 'POST',\n            dataType: 'json',\n            url: saveUrl,\n            dataCallback: bodyDataCallback,\n        });\n    }, [ajaxCallback, saveUrl, bodyDataCallback]);\n\n    useEffect(() => {\n        const { data, error, loading } = result;\n        if (loading) {\n            // eslint-disable-next-line no-console\n            console.log('SaveConfiguration::Loading');\n        } else if (error) {\n            // eslint-disable-next-line no-console\n            console.log('SaveConfiguration::Error', error);\n        } else if (data) {\n            // eslint-disable-next-line no-console\n            console.log('SaveConfiguration::Response', data);\n        }\n    }, [result]);\n\n    return [result, callback];\n};\n\nconst useBodyDataCallback = () => {\n    const {\n        index,\n        config: { coversOnly },\n        type,\n    } = useConfiguratorContext();\n    const totals = useTotalsContext();\n    const { state } = useStateContext();\n    const {\n        state: { floor, api },\n    } = usePlayerContext();\n\n    return useCallback(async () => {\n        const {\n            last: { options, objects = [] },\n            total,\n            totalWithoutDiscount,\n            modules,\n        } = totals;\n        const { fabricId = null, fill = null } = options;\n        const { pieces } = options;\n\n        return {\n            id: await getConfigurationId(state, api),\n            marketingSku: buildMarketingSku(type.code, index, pieces, state),\n            screenShotUrl: api ? await api.getThumbnail() : null,\n            type: type.code,\n            prices: {\n                price: totalWithoutDiscount,\n                specialPrice: total,\n            },\n            name: getName(index, options),\n            items: getItems(objects),\n            configuration: getConfiguration(state),\n            floor,\n            fill,\n            fabrics: {\n                hard: fabricId,\n                soft: fabricId,\n                trim: null,\n                all: fabricId,\n            },\n            // eslint-disable-next-line camelcase\n            leadtime_text: getLeadTimeText(index, state),\n            description: getDescription(type.steps, modules),\n            // eslint-disable-next-line camelcase\n            covers_only: coversOnly,\n        };\n    }, [api, coversOnly, type, index, totals, floor, state]);\n};\n\nconst getConfigurationId = async (state, api) => {\n    if (state.configurationType === TYPE_CUSTOM) {\n        return await api.saveConfiguration();\n    }\n    // create a random UUID for pre-built configurations\n    return uuidv4();\n};\n\nconst getName = (index, options) => {\n    const name = getPiecesTitle(index, options);\n    return `<span class='summary-item'>${name}</span>`;\n};\n\nconst getItems = (objects) => {\n    const items = [];\n    for (const object of objects) {\n        const { type, key, qty, first = true } = object;\n        if (first) {\n            for (let index = 0; index < qty; index++) {\n                items.push({ type, key });\n            }\n        }\n    }\n    return items;\n};\n\nconst getDescription = (steps, modules) => {\n    const description = steps\n        .map(({ code = null, title = null }) => {\n            if (modules?.[code]?.title) {\n                return `<li>${title}: ${modules?.[code]?.title}</li>`;\n            }\n        })\n        .join('');\n    return description ? `<ul class='configuration-cart - description'>${description}</ul>` : '';\n};\n\nconst getConfiguration = (state) => {\n    switch (state.configurationType) {\n        case TYPE_PREBUILT:\n            return state.configuration;\n        case TYPE_CUSTOM:\n            return 'custom';\n    }\n    return null;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback, useEffect, useState } from 'preact/hooks';\nimport { t } from 'ttag';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useAjaxRequest } from '../../hooks/useAjaxRequest';\nimport { ActionBarPrice } from '../Action';\nimport { useSaveConfigurationRequest } from '../../hooks/useSaveConfigurationRequest';\nimport { useDataLayerContext } from '../../Context/DataLayer';\n\nexport const ActionAddToCart = () => {\n    const {\n        config: { allcartUrl, isConfigureMode = false, updatecartUrl },\n        index: { saved },\n    } = useConfiguratorContext();\n\n    const [{ data: saveData, error: saveError }, saveButtonCallback] = useSaveConfigurationRequest();\n    const [{ data: addCartData, error: addCartError }, ajaxCartCallback] = useAjaxRequest();\n    const [loading, setLoading] = useState(false);\n    const push = useDataLayerContext();\n    const addToCartCallback = useCallback(\n        async (event) => {\n            event.preventDefault();\n            setLoading(true);\n            await saveButtonCallback();\n        },\n        [saveButtonCallback]\n    );\n\n    useEffect(() => {\n        if (saveData) {\n            if (saveData.sharing_code && saveData.type) {\n                push({\n                    event: 'addOrUpdateToCart',\n                    shareCode: saveData.sharing_code,\n                });\n                ajaxCartCallback({\n                    method: 'POST',\n                    url: isConfigureMode ? updatecartUrl : allcartUrl,\n                    data: {\n                        id: saveData.sharing_code,\n                        // eslint-disable-next-line camelcase\n                        orig_share_id: isConfigureMode ? saved.shareCode : null,\n                        type: saveData.type,\n                    },\n                    addFormKey: false,\n                });\n            }\n        }\n        if (saveError) {\n            setLoading(false);\n        }\n    }, [ajaxCartCallback, isConfigureMode, allcartUrl, updatecartUrl, saveData, saveError, saved, push]);\n\n    useEffect(() => {\n        if (addCartData) {\n            location.href = addCartData.redirectUrl;\n        }\n        if (addCartError) {\n            setLoading(false);\n        }\n    }, [addCartData, addCartError]);\n\n    return (\n        <div className=\"summary-actions\">\n            <ActionBarPrice />\n            <button className=\"action primary summary-next\" onClick={addToCartCallback} disabled={loading}>\n                {isConfigureMode ? t`Update` : t`Add To Cart`}\n            </button>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { forwardRef } from 'preact/compat';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { FinancingText } from '../../View/FinancingText';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateContext } from '../../Context/State';\nimport { PriceContainer } from '../../View/PriceContainer';\n\nexport const ThrowPillowCoverHeader = forwardRef((props, ref) => {\n    const {\n        index: { pieces, fabricOptions },\n    } = useConfiguratorContext();\n    const {\n        state: { piece: statePiece, fabricId, fabricLeadTime },\n    } = useStateContext();\n    const selectedFabricName = fabricOptions?.[fabricLeadTime]?.[fabricId].fabricName;\n    const piece = pieces[statePiece];\n    const { total, totalWithoutDiscount } = useTotalsContext();\n\n    return (\n        <div ref={ref} className=\"squattoman-header header\">\n            <div className=\"squattoman-header__title\">{t`Throw Pillow Covers`}</div>\n            <div className=\"squattoman-product-name\">\n                {piece.key}:{selectedFabricName}\n            </div>\n            <PriceContainer total={total} totalWithoutDiscount={totalWithoutDiscount} />\n            <FinancingText />\n        </div>\n    );\n});\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo } from 'preact/hooks';\nimport { useConfiguratorContext } from '../Context/Configurator';\nimport { useTotalsContext } from '../Context/Totals';\n\nexport const FinancingContent = () => {\n    return (\n        <div className=\"financing\">\n            <div className=\"content-body\">\n                <div className=\"card-image\" />\n                <div className=\"text\">\n                    <FinancingContentMessage />\n                    <a href=\"/financing\" target=\"_blank\">{t`Apply Today`}</a>\n                </div>\n            </div>\n            <div className=\"content-additional\">\n                <span>{t`Or, pay over time with`}</span>\n                <div className=\"affirm-image\" />\n                <a href=\"/financing-options\" target=\"_blank\">{t`Apply Today`}</a>\n            </div>\n        </div>\n    );\n};\n\nconst FinancingContentMessage = () => {\n    const {\n        options: {\n            config: { financingMessage, financingMessageMonths },\n        },\n    } = useConfiguratorContext();\n    const { total } = useTotalsContext();\n\n    return useMemo(() => {\n        const message =\n            financingMessage && financingMessageMonths\n                ? financingMessage\n                      .replace('%1', `$${Math.ceil(total / financingMessageMonths)}`)\n                      .replace('%2', financingMessageMonths)\n                : null;\n\n        return <span className=\"financing-message-text\" dangerouslySetInnerHTML={{ __html: message }} />;\n    }, [financingMessage, financingMessageMonths, total]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { createContext } from 'preact';\nimport { useContext, useMemo } from 'preact/hooks';\nimport { useHookCallback } from '../hooks/useHookCallback';\nimport { buildIndex } from '../hooks/buildIndex';\nimport indexData from '../../../indexData.json';\n\nconst ConfiguratorContext = createContext({});\n\nexport const useConfiguratorContext = () => useContext(ConfiguratorContext);\n\nexport const ConfiguratorContextProvider = ({ type, options, children }) => {\n    const index = useIndex(options, type);\n    const value = useMemo(() => ({ type, index, options, config: options.config }), [type, index, options]);\n\n    return <ConfiguratorContext.Provider value={value}>{children}</ConfiguratorContext.Provider>;\n};\n\nconst useIndex = (options, type) => {\n    const buildIndexCallback = useHookCallback(type, 'buildIndex');\n\n    return useMemo(() => {\n        // const index = {};\n        // buildIndex(index, options, type);\n        console.log(`=== INDEX ===}`);\n        console.log(indexData);\n        buildIndexCallback(indexData, options, type);\n        return indexData;\n    }, [options, buildIndexCallback, type]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { t } from 'ttag';\nimport { useBrowserContext } from '../Context/Browser';\nimport { useStateContext } from '../Context/State';\nimport { SET_PIECEQTY } from '../Step/Piece/constants';\n\nexport const QtyIncrementor = ({ show }) => {\n    const { isMobile } = useBrowserContext();\n    const {\n        state: { piecesQty: count },\n        dispatch,\n    } = useStateContext();\n\n    const setCount = useCallback(\n        (value) => {\n            dispatch({\n                type: SET_PIECEQTY,\n                value,\n            });\n        },\n        [dispatch]\n    );\n\n    const isVisible = useMemo(() => {\n        if (show === 'mobile') {\n            return isMobile;\n        }\n        if (show === 'desktop') {\n            return !isMobile;\n        }\n        return show === 'both';\n    }, [show, isMobile]);\n\n    return isVisible ? <QtyIncrementorVisible count={count} setCount={setCount} show={show} /> : null;\n};\n\nconst QtyIncrementorVisible = ({ count, setCount, show }) => {\n    const increment = useCallback(() => setCount(count + 1), [count, setCount]);\n    const decrement = useCallback(() => setCount(count > 0 ? count - 1 : 0), [count, setCount]);\n\n    return (\n        <div className={`summary-actions-qty__wrapper ${show}`}>\n            <span className=\"summary-qty__title\">{t`Select Quantity:`}</span>\n            <div className=\"summary-actions-button__wrapper\">\n                <button className=\"summary-actions-decrement\" onClick={decrement} title={t`decrement`}>\n                    <span>{t`decrement`}</span>\n                </button>\n                <input type=\"number\" className=\"summary-actions__qty\" min=\"1\" value={count} />\n                <button className=\"summary-actions-increment\" onClick={increment} title={t`increment`}>\n                    <span>{t`increment`}</span>\n                </button>\n            </div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { Info } from './Info';\n\nexport default {\n    info: <Info />,\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { Gallery } from '../../View/Gallery';\nimport { useStateContext } from '../../Context/State';\nimport { Price as PriceFormat } from '../../View/Price';\nimport { ModalContextProvider, useModalContext } from '../../View/Modal';\nimport { Loader } from '../../View/Loader';\nimport { SET_OPTION_QTY, DECREMENT_OPTION_QTY, INCREMENT_OPTION_QTY } from './constants';\nimport { useOptionPrice } from './hooks/useOptionPrice';\nimport ModalTypes from './Modal';\n\nexport const StepComponent = () => {\n    return (\n        <ModalContextProvider types={ModalTypes}>\n            <OptionContent />\n        </ModalContextProvider>\n    );\n};\n\nconst OptionContent = () => {\n    const {\n        index: { options: indexOptions, preBuilt = null },\n        config: { selectOptionsBlock },\n    } = useConfiguratorContext();\n\n    return (\n        <div className=\"content-option-wrapper\">\n            <div className=\"title-option-wrapper\">\n                <div className=\"cms-option-block\" dangerouslySetInnerHTML={{ __html: selectOptionsBlock }} />\n            </div>\n            <div className=\"content-option\">\n                <Loader>\n                    {Object.entries(indexOptions).map(([code, option]) => {\n                        return (\n                            !shouldHideOption(preBuilt, code) && <OptionType key={code} code={code} option={option} />\n                        );\n                    })}\n                </Loader>\n            </div>\n        </div>\n    );\n};\n\nconst OptionType = ({ code, option }) => {\n    const { name, gallery, image, defaultImage } = option;\n    const { optionsFlavorText } = option.additionalInfo;\n    const {\n        config: { selectOptionsSubheader },\n    } = useConfiguratorContext();\n    const {\n        state: { options },\n    } = useStateContext();\n    const maxQty = options[code].maxQty;\n    const qty = options[code].maxQty;\n\n    if (qty === 0 && maxQty === 0) {\n        return;\n    }\n\n    return (\n        <div className=\"option\">\n            <div className=\"image\">\n                <Gallery gallery={gallery} image={image} defaultImage={defaultImage} />\n            </div>\n            <div className=\"content\">\n                <div className=\"title-container\">\n                    <div className=\"title\">{name}</div>\n                    <OptionQty code={code} />\n                </div>\n                <div className=\"price\">\n                    <OptionPrice option={option} />\n                </div>\n            </div>\n            <div className=\"description\">\n                <div\n                    className=\"subheader\"\n                    dangerouslySetInnerHTML={{\n                        __html: optionsFlavorText ?? selectOptionsSubheader,\n                    }}\n                />\n            </div>\n            <div className=\"details\">\n                <OptionDetailsButton option={option} />\n            </div>\n        </div>\n    );\n};\n\nconst OptionPrice = ({ option }) => {\n    const { price, priceWithoutDiscount } = useOptionPrice(option);\n\n    return useMemo(() => {\n        const normalPrice = (\n            <span className=\"options normal-price\">\n                +\n                <PriceFormat value={price} />\n                {t`/each`}\n            </span>\n        );\n\n        if (priceWithoutDiscount > price) {\n            return (\n                <div className=\"options prices\">\n                    <s className=\"options old-price\">\n                        +\n                        <PriceFormat value={priceWithoutDiscount} />\n                        {t`/each`}\n                    </s>\n                    {normalPrice}\n                </div>\n            );\n        }\n\n        return normalPrice;\n    }, [price, priceWithoutDiscount]);\n};\n\nconst OptionQty = ({ code }) => {\n    const {\n        dispatch,\n        state: { options },\n    } = useStateContext();\n    const callback = useCallback(\n        (event) => {\n            const { name, value } = event.target;\n            dispatch({\n                type: name,\n                value,\n                code,\n            });\n        },\n        [dispatch, code]\n    );\n    const stateOption = options[code];\n\n    return (\n        <div className=\"option-quantity\">\n            <OptionDecrementButton callback={callback} stateOption={stateOption} />\n            <OptionQtyInput callback={callback} stateOption={stateOption} />\n            <OptionIncrementButton callback={callback} stateOption={stateOption} />\n        </div>\n    );\n};\n\nconst OptionQtyInput = ({ callback, stateOption: { qty } }) => {\n    return useMemo(() => <input name={SET_OPTION_QTY} value={qty} onInput={callback} />, [qty, callback]);\n};\n\nconst OptionDecrementButton = ({ callback, stateOption: { qty, minQty } }) => {\n    const disabled = qty <= minQty;\n    return useMemo(\n        () => (\n            <button name={DECREMENT_OPTION_QTY} className={'decrease'} onClick={callback} disabled={disabled}>\n                -\n            </button>\n        ),\n        [disabled, callback]\n    );\n};\n\nconst OptionIncrementButton = ({ callback, stateOption: { qty, maxQty } }) => {\n    const disabled = qty >= maxQty;\n    return useMemo(\n        () => (\n            <button name={INCREMENT_OPTION_QTY} className={'increase'} onClick={callback} disabled={disabled}>\n                +\n            </button>\n        ),\n        [disabled, callback]\n    );\n};\n\nconst OptionDetailsButton = ({ option }) => {\n    const { name } = option;\n\n    const { setModal } = useModalContext();\n    const showMoreInfo = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'info',\n                title: name,\n                data: option,\n            });\n        },\n        [setModal, name, option]\n    );\n\n    return (\n        <button\n            className=\"options-details__link\"\n            data-item-code={option.type}\n            onClick={showMoreInfo}\n            title={t`Details`}\n        >\n            {t`Details`}\n        </button>\n    );\n};\n\nconst shouldHideOption = (preBuilt, code) => {\n    if (preBuilt && code.includes('storage')) {\n        const preBuiltSkus = Object.keys(preBuilt);\n        if (preBuiltSkus.length === 1) {\n            const preBuiltSku = preBuiltSkus[0];\n            const { pieces } = preBuilt[preBuiltSku];\n            if (pieces) {\n                for (const key in pieces) {\n                    if (pieces[key] > 0 && key.includes('storage')) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n        }\n    }\n    return false;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useEffect, useMemo, useRef } from 'preact/hooks';\nimport { t } from 'ttag';\nimport { useNavigatorContext } from '../../Context/Navigator';\nimport { Player, PlayerLoader } from '../../View/Player';\nimport { useBrowserContext } from '../../Context/Browser';\nimport { SummaryBar, SummaryExpanded } from '../../View/Summary';\nimport { TitleBar } from '../../View/Title';\nimport { Footer } from '../../View/Footer';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { Dropdown, DropdownComponent } from '../../View/Dropdown';\nimport { useStateContext } from '../../Context/State';\nimport { getLeadTimeText } from '../../hooks/getLeadTimeText';\n\nexport const View = () => {\n    const { index } = useConfiguratorContext();\n    const { sactionalPieceBenefitsBlock, sactionalPieceMarketingBlock } = index;\n\n    return (\n        <div className=\"sactional-piece-content__wrapper\">\n            <div className=\"step-wrapper step-squattoman step-piece\">\n                <PlayerLoader />\n                <div className=\"player__wrapper\">\n                    <Player show=\"desktop\" />\n                    <div className=\"step-accordion__wrapper\">\n                        <Description />\n                        <Dropdown title={t`Benefits`} content={sactionalPieceBenefitsBlock} />\n                        <ShippingInfo />\n                    </div>\n                </div>\n                <StepView />\n            </div>\n            <div\n                className=\"squattoman-marketing__wrapper\"\n                dangerouslySetInnerHTML={{\n                    __html: sactionalPieceMarketingBlock,\n                }}\n            />\n        </div>\n    );\n};\n\nconst StepView = () => {\n    const { step, summaryExpanded } = useNavigatorContext();\n    const ref = useRef(null);\n    const { isMobile } = useBrowserContext();\n\n    useEffect(() => {\n        if (isMobile && ref.current?.scrollIntoView) {\n            ref.current.scrollIntoView();\n        }\n    }, [ref, step, isMobile]);\n\n    return useMemo(\n        () => (\n            <div className={`step step-${step.code}`} ref={ref}>\n                <StepGlobalComponent />\n                <SummaryBar />\n                {summaryExpanded ? (\n                    <SummaryExpanded />\n                ) : (\n                    <div className={`sidebar-content`}>\n                        <TitleBar />\n                        <div className=\"step-content\">\n                            <step.StepComponent />\n                        </div>\n                    </div>\n                )}\n                <Footer />\n            </div>\n        ),\n        [step, summaryExpanded]\n    );\n};\n\nconst StepGlobalComponent = () => {\n    const {\n        type: { steps },\n    } = useConfiguratorContext();\n    return useMemo(\n        () => steps.map((step, index) => (step.GlobalComponent ? <step.GlobalComponent key={index} /> : null)),\n        [steps]\n    );\n};\n\nconst ShippingInfo = () => {\n    const { index } = useConfiguratorContext();\n    const { state } = useStateContext();\n    const { fabricLeadTypes } = index;\n    const { fabricLeadTime } = state;\n    const leadTime = getLeadTimeText(index, state);\n\n    const content = useMemo(() => {\n        const shippingDesc = fabricLeadTypes?.[fabricLeadTime]?.['indicator_text'];\n        return {\n            title: leadTime,\n            desc: shippingDesc,\n        };\n    }, [leadTime, fabricLeadTypes, fabricLeadTime]);\n\n    return leadTime && <DropdownComponent title={t`Shipping Info`} content={content} />;\n};\n\nconst Description = () => {\n    const {\n        index: { preBuilt },\n    } = useConfiguratorContext();\n    const {\n        state: { configuration },\n    } = useStateContext();\n\n    const descriptionText = preBuilt?.[configuration]?.description ?? null;\n\n    return useMemo(() => {\n        return descriptionText && <Dropdown title={t`Description`} content={descriptionText} />;\n    }, [descriptionText]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { SimpleTabs } from '../../../View/Tabs';\nimport { useStateContext } from '../../../Context/State';\nimport { useConfiguratorContext } from '../../../Context/Configurator';\nimport { RESET_FABRIC_FILTER, SET_FABRIC_FILTER, SET_FABRIC_TO_FILTER } from '../constants';\nimport { useStateInputCallback } from '../../../hooks/useStateInputCallback';\nimport { Modal, useModalContext } from '../../../View/Modal';\n\nexport const Filter = () => {\n    return (\n        <Modal title={t`Filters`} closeTitle={t`Back to Cover`}>\n            <FilterContent />\n        </Modal>\n    );\n};\n\nconst FilterContent = () => {\n    const {\n        index: { fabricFilters = {} },\n    } = useConfiguratorContext();\n\n    return (\n        <div className=\"more-info__details-wrapper\">\n            <div className=\"more-info__item-details more-info__item-details--filters\">\n                <SimpleTabs>\n                    {Object.entries(fabricFilters).map(([code, { title, options }]) => (\n                        <FabricFilterOptions title={title} key={code} filterCode={code} options={options} />\n                    ))}\n                </SimpleTabs>\n            </div>\n            <div className=\"more-info__actions-wrapper more-info__actions-wrapper--filters\">\n                <ViewResultsButton />\n            </div>\n        </div>\n    );\n};\n\nconst FilterClearButton = () => {\n    const { setModal } = useModalContext();\n    const { dispatch } = useStateContext();\n\n    const clearCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n            dispatch({\n                type: RESET_FABRIC_FILTER,\n            });\n            setModal(null);\n        },\n        [setModal, dispatch]\n    );\n\n    return (\n        <button className=\"clear-filter__button\" title={`${t`Clear Filter`}`} onClick={clearCallback}>\n            <span>{`${t`Clear Filter`}`}</span>\n        </button>\n    );\n};\n\nconst ViewResultsButton = () => {\n    const { setModal } = useModalContext();\n    const { dispatch } = useStateContext();\n\n    const closeCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n            dispatch({\n                type: SET_FABRIC_FILTER,\n            });\n            setModal(null);\n        },\n        [setModal, dispatch]\n    );\n\n    return (\n        <div className=\"more-info__two-columns\">\n            <FilterClearButton />\n            <button className=\"primary-action action primary\" onClick={closeCallback}>{`${t`View Results`}`}</button>\n        </div>\n    );\n};\n\nconst FabricFilterOptions = ({ filterCode, options }) => {\n    const {\n        state: { fabricLeadTimeTab },\n    } = useStateContext();\n    const {\n        index: { fabricOptions },\n    } = useConfiguratorContext();\n\n    const qtyMap = useMemo(() => {\n        const qtyMap = {};\n        for (const fabricId in fabricOptions[fabricLeadTimeTab]) {\n            const fabricOption = fabricOptions[fabricLeadTimeTab][fabricId];\n            const code = fabricOption.filterData[filterCode];\n            if (!qtyMap[code]) {\n                qtyMap[code] = 0;\n            }\n            qtyMap[code] += 1;\n        }\n        return qtyMap;\n    }, [fabricOptions, fabricLeadTimeTab, filterCode]);\n\n    return (\n        <div className=\"more-info-list\">\n            {Object.entries(options).map(([code, label]) => (\n                <FabricFilterOption key={code} code={code} label={label} filterCode={filterCode} qty={qtyMap[code]} />\n            ))}\n        </div>\n    );\n};\n\nconst FabricFilterOption = ({ code, label, filterCode, qty }) => {\n    if (qty > 0 && label) {\n        return (\n            <div className=\"more-info-list-item\">\n                <FabricFilterOptionInput code={code} filterCode={filterCode} />\n                <FabricFilterOptionLabel code={code} label={label} filterCode={filterCode} qty={qty} />\n            </div>\n        );\n    }\n};\n\nconst FabricFilterOptionInput = ({ code, filterCode }) => {\n    const {\n        state: { fabricFilter },\n    } = useStateContext();\n    const callback = useStateInputCallback();\n\n    return useMemo(() => {\n        const inputCode = `${filterCode}:${code}`;\n        return (\n            <input\n                type=\"checkbox\"\n                className=\"checkbox more-info-list-input\"\n                name={SET_FABRIC_TO_FILTER}\n                id={`filter-${filterCode}-${code}`}\n                checked={fabricFilter.includes(inputCode)}\n                value={inputCode}\n                onChange={callback}\n            />\n        );\n    }, [filterCode, code, fabricFilter, callback]);\n};\n\nconst FabricFilterOptionLabel = ({ code, label, filterCode, qty }) => {\n    return (\n        <label className=\"more-info-list-label\" key={code} htmlFor={`filter-${filterCode}-${code}`}>\n            {label}\n            <span>{qty}</span>\n        </label>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { Player, PlayerLoader } from '../../View/Player';\nimport { Dropdown } from '../../View/Dropdown';\nimport { Dimensions } from '../../View/Dimensions';\nimport { ShippingInfo } from '../../View/ShippingInfo';\nimport { SidebarHeader } from '../../View/SidebarHeader';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { SquattomanSidebar } from './SquattomanSidebar';\n\nexport const View = () => {\n    const {\n        index: { squattomanMarketingBlock, squattomanBenefitsBlock, squattomanDescriptionBlock },\n    } = useConfiguratorContext();\n\n    return (\n        <div className=\"squattoman-content__wrapper\">\n            <div className=\"step-wrapper step-squattoman\">\n                <PlayerLoader />\n                <SidebarHeader />\n                <div className=\"player__wrapper\">\n                    <Player show=\"desktop\" />\n                    <div className=\"step-accordion__wrapper\">\n                        <Dropdown title={t`Description`} content={squattomanDescriptionBlock} />\n                        <Dropdown title={t`Benefits`} content={squattomanBenefitsBlock} />\n                        <Dimensions />\n                        <ShippingInfo />\n                    </div>\n                </div>\n                <SquattomanSidebar />\n            </div>\n            <div\n                className=\"squattoman-marketing__wrapper\"\n                dangerouslySetInnerHTML={{\n                    __html: squattomanMarketingBlock,\n                }}\n            />\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\n\nexport const title = t`Piece`;\nexport const code = 'piece';\n\nexport const SET_PIECE = 'setPiece';\nexport const SET_PIECEQTY = 'setPieceQty';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useRef } from 'preact/hooks';\nimport { Player, PlayerLoader } from '../../View/Player';\nimport { Dropdown } from '../../View/Dropdown';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { SidebarHeader } from '../../View/SidebarHeader';\nimport { ShippingInfo } from '../../View/ShippingInfo';\nimport { useTogglePlayerHeaderEffect } from '../../View/Player/TogglePlayerHeader';\nimport { ThrowPillowCoverSidebar } from './ThrowPillowCoverSidebar';\n\nexport const View = () => {\n    const {\n        index: { throwpillowCoverMarketingBlock, throwpillowBenefitsBlock, throwpillowDescriptionBlock },\n    } = useConfiguratorContext();\n\n    const throwpillowCoverMarketingWrapper = useRef(null);\n\n    useTogglePlayerHeaderEffect(throwpillowCoverMarketingWrapper);\n\n    return (\n        <div className=\"squattoman-content__wrapper\">\n            <div className=\"step-wrapper step-squattoman squattoman-cover-step\">\n                <PlayerLoader />\n                <SidebarHeader />\n                <div className=\"player__wrapper\">\n                    <Player show=\"desktop\" />\n                    <div className=\"step-accordion__wrapper\">\n                        <Dropdown title={t`Description`} content={throwpillowDescriptionBlock} />\n                        <Dropdown title={t`Benefits`} content={throwpillowBenefitsBlock} />\n                        <ShippingInfo />\n                    </div>\n                </div>\n                <ThrowPillowCoverSidebar />\n            </div>\n            <div\n                ref={throwpillowCoverMarketingWrapper}\n                className=\"squattoman-marketing__wrapper\"\n                dangerouslySetInnerHTML={{\n                    __html: throwpillowCoverMarketingBlock,\n                }}\n            />\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo } from 'preact/hooks';\nimport { Fragment } from 'preact';\nimport { useStateContext } from '../../Context/State';\nimport { Price } from '../../View/Price';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { calculateTotalPrice } from '../../calculator';\nimport { useStateInputCallback } from '../../hooks/useStateInputCallback';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { Loader } from '../../View/Loader';\nimport { SET_FILL } from './constants';\n\nexport const StepComponent = () => {\n    return (\n        <Fragment>\n            <FillContent />\n        </Fragment>\n    );\n};\n\nconst FillContent = () => {\n    const {\n        index: { fill: fillTypes },\n    } = useConfiguratorContext();\n    const fillQty = Object.keys(fillTypes).length;\n\n    return (\n        <div className=\"content-fill-wrapper\">\n            <div className=\"title-fill-wrapper\">\n                <div className=\"title-fill\">{t`Fill`}</div>\n                <div className=\"title-fill-signature\">{t`Choose from ${fillQty} levels of support.`}</div>\n            </div>\n            <div className=\"content-fill\">\n                <Loader>\n                    {Object.entries(fillTypes).map(([key, fillType]) => {\n                        return <FillType fillType={fillType} code={key} key={key} />;\n                    })}\n                </Loader>\n            </div>\n        </div>\n    );\n};\n\nconst FillType = ({ fillType, code }) => {\n    const {\n        state: { fill: stateFill },\n    } = useStateContext();\n    return useMemo(\n        () => (\n            <label className={`fill-option ${stateFill === code ? 'checked' : ''}`}>\n                <FillTypeContent fillType={fillType} code={code} />\n            </label>\n        ),\n        [stateFill, fillType, code]\n    );\n};\n\nconst FillTypeContent = ({ fillType, code }) => {\n    const { title = '', additionalInfo } = fillType;\n\n    return (\n        <div className=\"container\">\n            <div className=\"top\">\n                <div>\n                    <div className={`img ${code}`} />\n                    <div className=\"total-title\">\n                        <div className=\"total-name\">{title}</div>\n                        <FillPrice fillCode={code} />\n                    </div>\n                </div>\n                <div className=\"checkbox-container\">\n                    <FillTypeInput code={code} />\n                    <span className=\"fill-checkbox-new\" />\n                </div>\n            </div>\n            <div className=\"bottom\">\n                {Object.entries(additionalInfo).map(([key, value]) => (\n                    <div key={key}>{value}</div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nconst FillPrice = ({ fillCode }) => {\n    const { index } = useConfiguratorContext();\n    const {\n        modules: {\n            fill: { options, total },\n        },\n    } = useTotalsContext();\n\n    return useMemo(() => {\n        const newOptions = { ...options, fill: fillCode };\n        const fillPrice = calculateTotalPrice(index, newOptions).total - total;\n\n        return (\n            <div className=\"total-price\">\n                {fillPrice >= 0 ? `+ ` : `- `}\n                <Price value={Math.abs(fillPrice)} />\n            </div>\n        );\n    }, [index, fillCode, options, total]);\n};\n\nconst FillTypeInput = ({ code }) => {\n    const {\n        state: { fill: stateFill },\n    } = useStateContext();\n    const callback = useStateInputCallback();\n\n    return useMemo(\n        () => (\n            <input\n                type=\"radio\"\n                className=\"fill-checkbox\"\n                name={SET_FILL}\n                onClick={callback}\n                value={code}\n                checked={stateFill === code}\n            />\n        ),\n        [callback, stateFill, code]\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const buildMarketingSku = (code, index, pieces, state, useConfiguration = false) => {\n    const { configuration = null, fabricId = null, piece = null, fill = null } = state;\n    const seatCount = pieces.standard_seat + pieces.storage_seat + pieces.wedge_seat;\n    const sideCount = pieces.standard_side + pieces.deep_side + pieces.rollArm_side;\n    let sku = '';\n\n    if (useConfiguration && configuration) {\n        return `${configuration.split('_')[0]}_${fabricId}`;\n    }\n\n    switch (code) {\n        case 'sactional':\n        case 'sactionalPiece':\n        case 'sactionalCover': {\n            if (seatCount && sideCount) {\n                sku += `${seatCount}Seat${seatCount > 1 ? 's' : ''}`;\n                sku += `${sideCount}Side${sideCount > 1 ? 's' : ''}`;\n            } else {\n                sku += getPieceName(pieces);\n                if (fill) {\n                    sku += 'InsertCover';\n                    sku += ucfirst(fill);\n                } else {\n                    sku += 'Cover';\n                }\n            }\n            sku += `_${fabricId}`;\n            return sku;\n        }\n\n        case 'outdoorSactional': {\n            if (pieces.standard_outdoor_seat) {\n                sku += `${pieces.standard_outdoor_seat}Seat${pieces.standard_outdoor_seat > 1 ? 's' : ''}`;\n            }\n            if (pieces.standard_outdoor_side) {\n                sku += `${pieces.standard_outdoor_side}Side${pieces.standard_outdoor_side > 1 ? 's' : ''}`;\n            }\n\n            sku += `Outdoor_${fabricId}`;\n            return sku;\n        }\n\n        default: {\n            if (configuration) {\n                return `${configuration.split('_')[0]}_${fabricId}`;\n            }\n\n            if (piece) {\n                const { key } = index.pieces[piece];\n                return `${ucfirst(key)}${code.includes('Cover') ? 'Cover' : ''}_${fabricId}`;\n            }\n\n            return null;\n        }\n    }\n};\n\nconst ucfirst = (str) => str.charAt(0).toUpperCase() + str.slice(1);\n\nconst getPieceName = (pieces) => {\n    for (const pieceKey in pieces) {\n        if (pieces[pieceKey] > 0) {\n            const [key, type] = pieceKey.replace('_outdoor', '').split('_');\n            if (key === 'standard') {\n                return ucfirst(type);\n            }\n            return ucfirst(key) + ucfirst(type);\n        }\n    }\n    return null;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { PriceContainer } from '../../View/PriceContainer';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateContext } from '../../Context/State';\n\nexport const ThrowPillowHeader = () => {\n    const { PillowSizeTitle, total, totalWithoutDiscount } = useTotalsContext();\n    const {\n        index: { pieces, fabricOptions },\n        options: {\n            config: { financingMessage, financingMessageMonths },\n        },\n    } = useConfiguratorContext();\n    const {\n        state: { piece: statePiece, fabricId, fabricLeadTime },\n    } = useStateContext();\n    const selectedFabricName = fabricOptions?.[fabricLeadTime]?.[fabricId].fabricName;\n    const piece = pieces[statePiece];\n\n    const message =\n        financingMessage && financingMessageMonths\n            ? financingMessage\n                  .replace('%1', `$${Math.ceil(total / financingMessageMonths)}`)\n                  .replace('%2', financingMessageMonths)\n            : null;\n    return (\n        <div className=\"squattoman-header header\">\n            <div className=\"squattoman-header__title\">{PillowSizeTitle ?? t`Throw Pillow`}</div>\n            <div className=\"squattoman-product-name\">\n                {piece.key}:{selectedFabricName}\n            </div>\n            <PriceContainer total={total} totalWithoutDiscount={totalWithoutDiscount} />\n            <div className=\"squattoman-header__financing\">\n                <span className=\"content\">\n                    <span className=\"financing-message-text\" dangerouslySetInnerHTML={{ __html: message }} />\n                    <a href=\"/financing\" title={t`Learn More`}>{t`Learn More`}</a>\n                </span>\n            </div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { MeasurementButton } from '../../../View/Player/Toolbar/MeasurementButton';\nimport { FloorButton } from '../../../View/Player/Toolbar/FloorButton';\nimport { ZoomButton } from '../../../View/Player/Toolbar/ZoomButton';\nimport ToolbarModals from '../../../View/Player/Toolbar/Modal';\nimport { ModalContextProvider } from '../../../View/Modal';\n\nexport const PlayerToolbar = () => {\n    return (\n        <ModalContextProvider types={ToolbarModals}>\n            <div className=\"player-toolbar\">\n                <FloorButton title={t`Floor Texture`} />\n                <MeasurementButton title={t`Dimensions`} />\n                <ZoomButton title={t`Augmented Reality`} />\n            </div>\n        </ModalContextProvider>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n/* eslint camelcase: off */\n\nimport { t } from 'ttag';\nimport { useCallback, useLayoutEffect } from 'preact/hooks';\nimport { useAddSampleAjaxRequest } from '../hooks/useAddSampleAjaxRequest';\nimport { useConfiguratorContext } from '../../../Context/Configurator';\nimport { useStateContext } from '../../../Context/State';\nimport { Modal, useModalContext } from '../../../View/Modal';\n\nexport const Sample = () => {\n    return (\n        <Modal title={t`Fabric Swatches`} closeTitle={t`Back to Cover`} modalClass={'sample'}>\n            <SampleContent />\n        </Modal>\n    );\n};\n\nexport const SampleContent = () => {\n    const {\n        modal: { fabricId, type, fetchItems = false },\n    } = useModalContext();\n\n    const [{ data, error, loading }, buttonCallback] = useAddSampleAjaxRequest(fabricId, fetchItems);\n\n    useLayoutEffect(() => {\n        buttonCallback();\n    }, [fabricId, buttonCallback]);\n\n    return data ? <SampleMoreInfo data={data} type={type} /> : <SampleDataLoading loading={loading} error={error} />;\n};\n\nexport const OrderSamplesButton = ({ items }) => {\n    const { setModal } = useModalContext();\n    const callback = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'orderSample',\n                items,\n            });\n\n            return true;\n        },\n        [items, setModal]\n    );\n\n    return <button className=\"primary-action action primary\" onClick={callback}>{t`Order Swatches`}</button>;\n};\n\nexport const SampleListItem = ({ item, type }) => {\n    const { image, name, fabricId } = item;\n    const { setModal } = useModalContext();\n    const {\n        state: { fabricLeadTimeTab },\n    } = useStateContext();\n\n    const showMoreInfo = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'info',\n                fabricId,\n                fabricLeadTimeTab,\n                previousModalType: type,\n            });\n        },\n        [setModal, fabricId, fabricLeadTimeTab, type]\n    );\n    return (\n        <div className=\"more-info-list-item more-info-list-item--sample\">\n            <div className={`more-info-list-label more-info-list-label--sample ${name}`}>\n                <img src={image} alt={name} />\n                <span>\n                    {name}\n                    <button className=\"sidebar-items__title-action\" type=\"button\" onClick={showMoreInfo}>\n                        <span>${`View more information about ${name}`}</span>\n                    </button>\n                </span>\n            </div>\n            <RemoveSampleItemButton item={item} type={type} />\n        </div>\n    );\n};\n\nconst RemoveSampleItemButton = ({ item, type }) => {\n    const { setModal } = useModalContext();\n    const removeSample = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'removeSample',\n                item,\n                previousModalType: type,\n            });\n\n            return true;\n        },\n        [item, setModal, type]\n    );\n\n    return (\n        <button className=\"secondary-action\" onClick={removeSample}>\n            {t`Remove`}\n        </button>\n    );\n};\n\nexport const SampleDataLoading = ({ loading, error }) => {\n    return (\n        <div className=\"more-info__details-wrapper\">\n            <div className={loading ? 'cmp-loader' : 'cmp-loader hide'} />\n            <div className={error ? 'message-wrapper active' : 'message-wrapper'}>\n                <div className=\"page messages\">\n                    <div className=\"message-error error message\">{error}</div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst SampleMessages = ({ message, success }) => {\n    return (\n        <div className={success ? 'message-success success message' : 'message-error error message'}>\n            {/* Todo: Look for a better alternative */}\n            <div dangerouslySetInnerHTML={{ __html: message }} />\n        </div>\n    );\n};\n\nconst SampleMoreInfo = ({ data, type }) => {\n    const { message, success, items } = data;\n    const {\n        config: { baseUrl },\n    } = useConfiguratorContext();\n\n    const itemsData = () => {\n        const data = Object.values(items);\n        const itemLength = Object.values(items).length;\n        for (let i = 0; i < 5 - itemLength; i++) {\n            data.push({\n                image: `${baseUrl}media/wysiwyg/configurator/addsamples/sample-placeholder.png`,\n                name: 'placeholder',\n                item_id: i,\n            });\n        }\n        return !success && itemLength === 0 ? [] : data;\n    };\n\n    return (\n        <div className=\"more-info__details-wrapper\">\n            <div className=\"more-info__item-details more-info__item-details--sample\">\n                <div className=\"more-info__item-details-title\">\n                    <span className=\"title-sample\">{t`Free Fabric Swatches`}</span>\n                    <span className=\"desc-sample\">{t`Request up to 5 swatches at a time - all for free! Swatches are sent U.S. mail and will arrive in 2 - 3 weeks.`}</span>\n                </div>\n                <div className=\"page messages\">\n                    {message ? <SampleMessages success={success} message={message} /> : ''}\n                </div>\n                <div className=\"description-wrapper more-info-list more-info-list--sample\">\n                    {itemsData().map((item) => {\n                        return <SampleListItem key={item.item_id} item={item} type={type} />;\n                    })}\n                </div>\n            </div>\n            <div className=\"more-info__actions-wrapper more-info__actions-wrapper--sample\">\n                {Object.values(items).length ? <OrderSamplesButton items={items} /> : null}\n            </div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo, useCallback } from 'preact/hooks';\nimport { Gallery } from '../../../View/Gallery';\nimport { useOptionPrice } from '../hooks/useOptionPrice';\nimport { Price } from '../../../View/Price';\nimport { useModalContext, Modal } from '../../../View/Modal';\nimport { useStateContext } from '../../../Context/State';\nimport { INCREMENT_OPTION_QTY } from '../constants';\n\nexport const Info = () => {\n    const {\n        modal: { data, title },\n    } = useModalContext();\n\n    return useMemo(() => {\n        return (\n            <Modal title={title} closeTitle={t`Back to Options`}>\n                <InfoContent option={data} />\n            </Modal>\n        );\n    }, [data, title]);\n};\n\nconst InfoContent = ({ option }) => {\n    const { price } = useOptionPrice(option);\n    const {\n        gallery,\n        image,\n        defaultImage,\n        additionalInfo: { configuratorPieceDescription, configuratorIncludes },\n    } = option;\n\n    return (\n        <div className=\"options-modal__details\">\n            <div className=\"options-modal__content\">\n                <div className=\"more-info__item-details more-info__item-details--options\">\n                    <Price value={price} />\n                    <p className=\"item-description\">{configuratorPieceDescription}</p>\n                </div>\n                <ProductIncludes includes={configuratorIncludes} />\n                <div className=\"image\">\n                    <Gallery gallery={gallery} image={image} defaultImage={defaultImage} />\n                </div>\n            </div>\n            <AddOptionButton option={option} />\n        </div>\n    );\n};\n\nconst AddOptionButton = ({ option: { name, type } }) => {\n    const { dispatch } = useStateContext();\n    const { setModal } = useModalContext();\n\n    const callback = useCallback(\n        (event) => {\n            const { name } = event.target;\n            dispatch({\n                type: name,\n                code: type,\n            });\n            setModal(null);\n        },\n        [dispatch, type, setModal]\n    );\n\n    return (\n        <div className=\"options-modal__action more-info__actions-wrapper more-info__actions-wrapper--sample\">\n            <button className=\"action primary\" name={INCREMENT_OPTION_QTY} onClick={callback}>{t`Add ${name}`}</button>\n        </div>\n    );\n};\n\nconst ProductIncludes = ({ includes }) => {\n    return (\n        includes.length > 1 && (\n            <div className=\"options-modal__includes\">\n                <h4 className=\"includes__title\">{t`Includes`}</h4>\n                <div className=\"includes__items\">\n                    <ProductIncludesItem includes={includes} count={1} />\n                </div>\n            </div>\n        )\n    );\n};\n\nconst ProductIncludesItem = ({ includes, count }) => {\n    {\n        return includes.map((item, index) => {\n            return (\n                <div className=\"includes__item\" key={index}>\n                    <div className=\"includes__image-row\">\n                        <p className=\"includes__count\">\n                            {t`x`}\n                            <span>{count}</span>\n                        </p>\n                    </div>\n                    <p className=\"includes__name\">{item}</p>\n                </div>\n            );\n        });\n    }\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Sac Size`;\nexport const code = 'sacSize';\n\nexport const SET_PIECE = 'setPiece';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\n\nexport const getLeadTimeText = (index, state) => {\n    const leadTime = Object.values(state.pieces).length > 1 ? getMaxLeadTime(index, state) : getLeadTime(index, state);\n\n    return leadTime ? `${t`Shipping in`} ${leadTime}` : null;\n};\n\nconst getMaxLeadTime = (index, state) => {\n    const { fabricPieces, pieces } = index;\n    const { fabricId, fabricLeadTime } = state;\n    const leadTimes = [];\n\n    Object.keys(state.pieces).map((pieceKey) => {\n        const piece = pieces[pieceKey];\n        if (piece) {\n            const shippingLeadTime =\n                fabricPieces?.[fabricId]?.['covers']?.[fabricLeadTime]?.[piece.type]?.[piece.key]?.leadTime;\n\n            const lead = shippingLeadTime ? shippingLeadTime.split('-')[1]?.match(/\\d+/)[0] : null;\n\n            if (lead) {\n                leadTimes.push({ lead, shippingLeadTime });\n            }\n        }\n    });\n\n    if (!Object.values(leadTimes).length) {\n        return null;\n    }\n\n    return Object.values(leadTimes) > 1\n        ? Object.values(leadTimes).reduce((item1, item2) =>\n              item1['lead'] > item2['lead'] ? item1['shippingLeadTime'] : item2['shippingLeadTime']\n          )\n        : leadTimes[0].shippingLeadTime;\n};\n\nconst getLeadTime = (index, state) => {\n    const { fabricPieces, pieces } = index;\n    const { fabricId, fabricLeadTime, piece } = state;\n    const statePiece = pieces[piece];\n    const leadTime =\n        fabricPieces?.[fabricId]?.['covers']?.[fabricLeadTime]?.[statePiece.type]?.[statePiece.key]?.leadTime;\n\n    return leadTime ?? null;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { useModalContext } from './ModalContext';\n\nexport const Modal = ({ title, closeTitle, children, modalClass = null }) => {\n    return (\n        <div className={`more-info__wrapper active ${modalClass}`}>\n            <div className=\"more-info__header\">\n                <ModelCloseButton title={closeTitle} />\n                <h2 className=\"more-info__title\">{title}</h2>\n            </div>\n            {children}\n        </div>\n    );\n};\n\nconst ModelCloseButton = ({ title }) => {\n    const { setModal } = useModalContext();\n\n    const closeCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal(null);\n        },\n        [setModal]\n    );\n\n    return (\n        <button className=\"more-info__back-link\" title={title} onClick={closeCallback}>\n            <span>{title}</span>\n        </button>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Accessories`;\nexport const code = 'accessories';\n\nexport const SELECT_ACCESSORY_VARIANT = 'selectAccessoryVariant';\nexport const SET_ACCESSORY_QTY = 'setAccessoryQty';\nexport const INCREMENT_ACCESSORY_QTY = 'incrementAccessoryQty';\nexport const DECREMENT_ACCESSORY_QTY = 'decrementAccessoryQty';\n\nexport const TYPE_SQUATTOMAN = 'squattoman';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { createContext } from 'preact';\nimport { useContext, useEffect, useState, useMemo } from 'preact/hooks';\n\nconst BrowserContext = createContext({});\n\nexport const useBrowserContext = () => useContext(BrowserContext);\n\nexport const BrowserContextProvider = ({ children }) => {\n    const value = useBrowser();\n\n    return <BrowserContext.Provider value={value}>{children}</BrowserContext.Provider>;\n};\n\nconst useBrowser = () => {\n    const isMobile = useMediaQuery('(max-width: 1023px)');\n    const userAgent = useUserAgent();\n    return useMemo(() => ({ isMobile, userAgent }), [isMobile, userAgent]);\n};\n\nconst useMediaQuery = (query) => {\n    const media = useMemo(() => {\n        if (typeof window !== \"undefined\") {\n            if (window.matchMedia) {\n                return window.matchMedia(query);\n            }\n        }\n        return { matches: true };\n    }, [query]);\n    const [matches, setMatches] = useState(media.matches);\n\n    useEffect(() => {\n        if (typeof window !== \"undefined\") {\n            const listener = () => setMatches(media.matches);\n            window.addEventListener('resize', listener);\n            return () => window.removeEventListener('resize', listener);\n        }\n    }, [media]);\n\n    return matches;\n};\n\nconst useUserAgent = () => {\n    return useMemo(() => {\n        if (typeof window !== \"undefined\") {\n            const userAgent = navigator.userAgent || navigator.vendor || window.opera;\n\n            if (/windows phone/i.test(userAgent)) {\n                return 'Windows';\n            }\n    \n            if (/android/i.test(userAgent)) {\n                return 'Android';\n            }\n    \n            if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\n                return 'iOS';\n            }\n    \n            return 'unknown';\n        }\n    }, []);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`StealthTech`;\nexport const code = 'stealthtech';\n\nexport const SET_STEALTHTECH = 'setStealthtech';\nexport const NO_STEALTHTECH_CODE = 'none';\nexport const SET_STEALTHTECH_ELIGIBLE = 'setStealthTechEligible';\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', './react-swipe'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('./react-swipe'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.reactSwipe);\n    global.index = mod.exports;\n  }\n})(this, function (exports, _reactSwipe) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _reactSwipe2 = _interopRequireDefault(_reactSwipe);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  exports.default = _reactSwipe2.default;\n});","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { getPiecesWithPositiveQty } from '../../calculator';\n\nexport const isCoverStealthtechEligible = (index, options, fabricLeadTime, fabricId) => {\n    const { fabricPieces } = index;\n\n    const pieces = getPiecesWithPositiveQty(index, options);\n    for (const [piece] of pieces) {\n        const stealthtechEligible =\n            fabricPieces?.[fabricId]?.covers?.[fabricLeadTime]?.[piece.type]?.[piece.key]?.stealthtechEligible;\n\n        if (!stealthtechEligible) {\n            return false;\n        }\n    }\n    return true;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { useCallback, useLayoutEffect } from 'preact/hooks';\nimport { usePlayerContext } from '../Context/Player';\nimport { PLAYER_WEBGL_MODE, SET_ORTHOGRAPHIC } from '../View/Player/constants';\nimport { useNavigatorContext } from '../Context/Navigator';\n\nexport const useCameraView = () => {\n    const {\n        state: { api, mode },\n        dispatch,\n    } = usePlayerContext();\n    const { step } = useNavigatorContext();\n\n    const setCameraView = useCallback(\n        async (orthographic) => {\n            if (mode === PLAYER_WEBGL_MODE && api?.setCameraView) {\n                const cameraView = orthographic ? 'orthographic' : 'perspective';\n                await api.setCameraView(cameraView);\n                dispatch({\n                    type: SET_ORTHOGRAPHIC,\n                    value: orthographic,\n                });\n            }\n        },\n        [api, mode, dispatch]\n    );\n\n    useLayoutEffect(() => {\n        setCameraView(step.code === 'configure');\n    }, [step, setCameraView]);\n\n    return setCameraView;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const getThreekitApi = (key) => {\n    const tk = window.threekit;\n    if (key) {\n        return tk ? tk[key] : null;\n    }\n    return tk;\n};\n\nexport const playerId = 'threekit-player';\nexport const getOrCreateDomNode = () => getDomNode() || createDomNode();\nexport const getDomNode = () => document.getElementById(playerId);\nexport const createDomNode = () => {\n    const node = document.createElement('div');\n    node.id = playerId;\n    document.body.appendChild(node);\n    return node;\n};\n","/* global __webpack_public_path__ */\n\nimport * as Preact from 'preact';\nconst { h, render, hydrate } = Preact;\n\nconst interopDefault = m => (m && m.default ? m.default : m);\n\nconst normalizeURL = url => (url[url.length - 1] === '/' ? url : url + '/');\n\nif (process.env.NODE_ENV === 'development') {\n\t// enable preact devtools\n\trequire('preact/debug');\n\n\t// only add a debug sw if webpack service worker is not requested.\n\tif (process.env.ADD_SW === undefined && 'serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.register(\n\t\t\tnormalizeURL(__webpack_public_path__) + 'sw-debug.js'\n\t\t);\n\t} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.register(\n\t\t\tnormalizeURL(__webpack_public_path__) +\n\t\t\t\t(process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t\t);\n\t}\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\tnavigator.serviceWorker.register(\n\t\tnormalizeURL(__webpack_public_path__) +\n\t\t\t(process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t);\n}\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root =\n\t\tdocument.getElementById('preact_root') || document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\tlet preRenderData = {};\n\t\tconst inlineDataElement = document.querySelector(\n\t\t\t'[type=\"__PREACT_CLI_DATA__\"]'\n\t\t);\n\t\tif (inlineDataElement) {\n\t\t\tpreRenderData =\n\t\t\t\tJSON.parse(decodeURI(inlineDataElement.innerHTML)).preRenderData ||\n\t\t\t\tpreRenderData;\n\t\t}\n\t\t/* An object named CLI_DATA is passed as a prop,\n\t\t * this keeps us future proof if in case we decide,\n\t\t * to send other data like at some point in time.\n\t\t */\n\t\tconst CLI_DATA = { preRenderData };\n\t\tconst currentURL = preRenderData.url ? normalizeURL(preRenderData.url) : '';\n\t\tconst canHydrate =\n\t\t\tprocess.env.PRERENDER &&\n\t\t\tprocess.env.NODE_ENV === 'production' &&\n\t\t\thydrate &&\n\t\t\tcurrentURL === normalizeURL(location.pathname);\n\t\tconst doRender = canHydrate ? hydrate : render;\n\t\tdoRender(h(app, { CLI_DATA }), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { SummaryLineEditButton } from '../../View/Summary';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { Price } from '../../View/Price';\n\nexport const SummaryComponent = ({ stepIndex }) => {\n    const {\n        modules: {\n            sacSize: { title, price },\n        },\n    } = useTotalsContext();\n\n    return (\n        <div className=\"summary-line item-4\">\n            <div className=\"title\">{t`Size`}</div>\n            <SummaryLineEditButton stepIndex={stepIndex} />\n            <div className=\"price-container\">\n                <Price value={price} />\n            </div>\n            <div className=\"option-name\">{title}</div>\n        </div>\n    );\n};\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tlet prevScu = currentComponent.shouldComponentUpdate;\n\t\t\tconst prevCWU = currentComponent.componentWillUpdate;\n\n\t\t\t// If we're dealing with a forced update `shouldComponentUpdate` will\n\t\t\t// not be called. But we use that to update the hook values, so we\n\t\t\t// need to call it.\n\t\t\tcurrentComponent.componentWillUpdate = function(p, s, c) {\n\t\t\t\tif (this._force) {\n\t\t\t\t\tlet tmp = prevScu;\n\t\t\t\t\t// Clear to avoid other sCU hooks from being called\n\t\t\t\t\tprevScu = undefined;\n\t\t\t\t\tupdateHookState(p, s, c);\n\t\t\t\t\tprevScu = tmp;\n\t\t\t\t}\n\n\t\t\t\tif (prevCWU) prevCWU.call(this, p, s, c);\n\t\t\t};\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\t/**\n\t\t\t *\n\t\t\t * @type {import('./internal').Component[\"shouldComponentUpdate\"]}\n\t\t\t */\n\t\t\t// @ts-ignore - We don't use TS to downtranspile\n\t\t\t// eslint-disable-next-line no-inner-declarations\n\t\t\tfunction updateHookState(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\tconst stateHooks = hookState._component.__hooks._list.filter(\n\t\t\t\t\tx => x._component\n\t\t\t\t);\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t}\n\n\t\t\tcurrentComponent.shouldComponentUpdate = updateHookState;\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any, errorInfo: import('preact').ErrorInfo) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\nexport function useId() {\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","import { h } from 'preact';\nimport options from '../data.json';\nimport { Configurator } from './Configurator';\n\nconsole.log(options);\n\nconst App = () => (\n\t<div id=\"configurator\" class=\"configurator\">\n\t\t<Configurator options={options} />\n\t</div>\n);\n\nexport default App;\n","import { h, render } from 'preact';\nimport App from './components/app';\nimport './style';\n\nconst rootElement = document.getElementById('app');\nrender(<App />, rootElement);","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo, useCallback } from 'preact/hooks';\nimport { useNavigatorContext } from '../Context/Navigator';\nimport { useConfiguratorContext } from '../Context/Configurator';\nimport { useStateContext } from '../Context/State';\nimport { NO_STEALTHTECH_CODE } from '../Step/Stealthtech/constants';\n\nexport const TitleBar = () => {\n    const { stepIndex, stepQty } = useNavigatorContext();\n\n    return (\n        <div className={`title-bar__wrapper ${stepIndex >= stepQty - 1 ? 'center' : ''}`}>\n            {stepIndex >= 1 ? <PrevStepButton /> : <ExitButton />}\n            <TitlePageNumber />\n            <NextStepButton />\n        </div>\n    );\n};\n\nconst PrevStepButton = () => {\n    const { setStepIndex } = useNavigatorContext();\n    const onClick = useCallback(\n        (event) => {\n            event.preventDefault();\n            setStepIndex((stepIndex) => stepIndex - 1);\n        },\n        [setStepIndex]\n    );\n\n    return <button className=\"step-prev\" onClick={onClick} />;\n};\n\nconst NextStepButton = () => {\n    const { stepIndex, setStepIndex, stepQty } = useNavigatorContext();\n    const onClick = useCallback(\n        (event) => {\n            event.preventDefault();\n            setStepIndex((stepIndex) => stepIndex + 1);\n        },\n        [setStepIndex]\n    );\n\n    return stepIndex <= stepQty - 2 ? <button className=\"step-next\" onClick={onClick} /> : null;\n};\n\nconst ExitButton = () => {\n    const url = usePLPUrl();\n    const onClick = useCallback(\n        (event) => {\n            event.preventDefault();\n            location.href = url;\n        },\n        [url]\n    );\n\n    return <button className=\"exit-btn\" onClick={onClick}>{t`Exit`}</button>;\n};\n\nconst TitlePageNumber = () => {\n    const {\n        step: { title },\n        stepIndex,\n        stepQty,\n    } = useNavigatorContext();\n\n    return (\n        <div className=\"title-bar__title\">\n            <span className=\"title\">{title}</span>\n            <span className=\"page-number\">{stepIndex >= stepQty - 1 ? '' : `${stepIndex + 1} / ${stepQty - 1}`}</span>\n        </div>\n    );\n};\n\nconst usePLPUrl = () => {\n    const {\n        config: { isConfigureMode = false },\n        type,\n    } = useConfiguratorContext();\n    const {\n        state: { stealthtech = null },\n    } = useStateContext();\n\n    return useMemo(() => {\n        if (isConfigureMode) {\n            return '/checkout/cart';\n        }\n        switch (type.code) {\n            case 'sactional':\n                if (stealthtech && stealthtech !== NO_STEALTHTECH_CODE) {\n                    return '/sactionals-with-stealthtech-sound-charge.html';\n                }\n                return '/sactionals.html';\n            case 'outdoorSactional':\n                return '/sactionals/outdoor.html';\n            case 'sac':\n                return '/sacs.html';\n            case 'throwPillow':\n                return '/accessories/throw-pillows.html';\n            case 'squattoman':\n                return '/sacs/accessories.html';\n        }\n        return '/';\n    }, [isConfigureMode, type, stealthtech]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useMemo } from 'preact/hooks';\nimport { useTotalsContext } from '../../../Context/Totals';\nimport { TYPE_STORAGE_SEAT } from '../constants';\nimport { calculateTotalPrice } from '../../../calculator';\nimport { useConfiguratorContext } from '../../../Context/Configurator';\n\nexport const useOptionPrice = (option) => {\n    const {\n        modules: {\n            options: {\n                prevTotal: { options: prevOptions, total: prevTotal },\n            },\n        },\n    } = useTotalsContext();\n    const { index } = useConfiguratorContext();\n\n    return useMemo(() => {\n        const prevTotalWithoutDiscount = calculateTotalPrice(index, {\n            ...prevOptions,\n            applyDiscounts: false,\n        }).total;\n\n        const options = { ...prevOptions };\n\n        if (option.type === TYPE_STORAGE_SEAT) {\n            /* eslint camelcase: off */\n            options.pieces = { ...options.pieces };\n            if (options.pieces.standard_seat >= 1) {\n                options.pieces.standard_seat -= 1;\n                options.pieces.storage_seat += 1;\n            } else if (options.pieces.deep_seat >= 1) {\n                options.pieces.deep_seat -= 1;\n                options.pieces.deepStorage_seat += 1;\n            }\n        } else {\n            options.objects = options.objects ? [...options.objects] : [];\n            options.objects.push([option, 1]);\n        }\n\n        const total = calculateTotalPrice(index, options).total;\n        const totalWithoutDiscount = calculateTotalPrice(index, {\n            ...options,\n            applyDiscounts: false,\n        }).total;\n\n        const price = total - prevTotal;\n        const priceWithoutDiscount = totalWithoutDiscount - prevTotalWithoutDiscount;\n\n        return {\n            price,\n            priceWithoutDiscount,\n        };\n    }, [prevOptions, prevTotal, index, option]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useEffect } from 'preact/hooks';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useSaveConfigurationRequest } from '../../hooks/useSaveConfigurationRequest';\nimport { useDataLayerContext } from '../../Context/DataLayer';\nimport { useLoginAjaxRequest } from './hooks/useLoginAjaxRequest';\nimport { useModalContext } from './Modal/ModalContext';\n\n/* eslint no-console: off */\nexport const ActionSave = ({ username, password }) => {\n    const { setModal } = useModalContext();\n    const [{ data: loginData, error: loginError, loading: loginLoading }, buttonCallback] = useLoginAjaxRequest({\n        username,\n        password,\n    });\n\n    const {\n        config: { saveUrl },\n    } = useConfiguratorContext();\n    const [{ data, error, loading }, saveButtonCallback] = useSaveConfigurationRequest(saveUrl);\n    const push = useDataLayerContext();\n\n    useEffect(() => {\n        if (loginData) {\n            if (loginData.message === 'Login successful.') {\n                console.log(`Login Response Status: ${loginData.message}`);\n                // Save current configuration\n                setModal({\n                    type: 'saveLoginAfter',\n                });\n                saveButtonCallback();\n                push('save');\n            }\n        }\n\n        if (loginError) {\n            console.log(`Login Error Status: ${loginError}`);\n        }\n\n        if (loginLoading) {\n            console.log(`Login Loading Status: ${loginLoading}`);\n        }\n    }, [loginData, loginError, loginLoading, setModal, saveButtonCallback, push]);\n\n    // TODO: This use effect do not want to be triggered by some reason, so when we find out how to\n    // TODO: make it work - we need to move setModal(...) from Line 38 inside it\n    useEffect(() => {\n        console.log(data);\n        console.log(error);\n        console.log(loading);\n    }, [data, error, loading]);\n\n    return <button className=\"sign-in\" onClick={buttonCallback}>{t`Sign In`}</button>;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useRef } from 'preact/hooks';\nimport { FinancingContent } from '../../View/Financing';\nimport { ReviewContentStars } from '../../View/Review';\nimport { useNavigatorContext } from '../../Context/Navigator';\nimport { QtyIncrementor } from '../../View/QtyIncrementor';\nimport { ActionAddToCart } from '../../View/ActionAddToCart';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { PriceContainer } from '../../View/PriceContainer';\nimport { useScrollToReviewsCallback } from '../../View/ScrollToReviewsCallback';\nimport { ThrowPillowCoverHeader } from './ThrowPillowCoverHeader';\n\nexport const ThrowPillowCoverSidebar = () => {\n    const { total, totalWithoutDiscount } = useTotalsContext();\n    const throwPillowCoverHeaderRef = useRef(null);\n\n    return (\n        <div className=\"step step-squattoman step-throwPillow-cover\">\n            <ThrowPillowCoverHeader ref={throwPillowCoverHeaderRef} />\n            <StepView />\n            <QtyIncrementor show=\"mobile\" />\n            <div className=\"summary-actions summary-actions--throwpillow throwPillow-cover\">\n                <QtyIncrementor show=\"desktop\" />\n                <PriceContainer total={total} totalWithoutDiscount={totalWithoutDiscount} />\n                <ActionAddToCart />\n            </div>\n            <FinancingContent />\n            <div className=\"review\">\n                <ReviewContentStars />\n                <div className=\"total-reviews\">\n                    <a\n                        onClick={useScrollToReviewsCallback(throwPillowCoverHeaderRef)}\n                        href=\"javascript: void(0)\"\n                    >{t`See All Reviews`}</a>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst StepView = () => {\n    const { step } = useNavigatorContext();\n    return <step.StepComponent />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { PlayerThumbnails } from '../../View/Player/PlayerThumbnails';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateContext } from '../../Context/State';\nimport { usePlayerProductId } from '../../Step/SacSize/hooks/usePlayerProductId';\n\nconst angles = [0, 4];\n\nexport const Thumbnails = () => {\n    const {\n        config: { baseUrl },\n        type: { code },\n    } = useConfiguratorContext();\n    const {\n        state: { fabricId },\n    } = useStateContext();\n    const threekitProductId = usePlayerProductId();\n\n    const getImageSrc = useCallback(\n        (code) => {\n            switch (code) {\n                case '360': {\n                    return `${baseUrl}media/wysiwyg/rotation-thumbnail.svg`;\n                }\n                case 'zoom': {\n                    return null;\n                }\n                default: {\n                    return `${baseUrl}media/threekit/carousel/${threekitProductId}/${fabricId}-${code}.jpg`;\n                }\n            }\n        },\n        [baseUrl, fabricId, threekitProductId]\n    );\n    return <PlayerThumbnails angles={angles} getImageSrc={getImageSrc} code={code} />;\n};\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useRef } from 'preact/hooks';\nimport { FinancingContent } from '../../View/Financing';\nimport { ReviewContentStars } from '../../View/Review';\nimport { useNavigatorContext } from '../../Context/Navigator';\nimport { QtyIncrementor } from '../../View/QtyIncrementor';\nimport { ActionAddToCart } from '../../View/ActionAddToCart';\nimport { PriceContainer } from '../../View/PriceContainer';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { useScrollToReviewsCallback } from '../../View/ScrollToReviewsCallback';\nimport { SacCoverHeader } from './SacCoverHeader';\n\nexport const SacCoverSidebar = () => {\n    const { total, totalWithoutDiscount } = useTotalsContext();\n    const sacCoverHeaderRef = useRef(null);\n\n    return (\n        <div className=\"step step-squattoman sac-cover-player-height\">\n            <SacCoverHeader ref={sacCoverHeaderRef} />\n            <StepView />\n            <QtyIncrementor show=\"mobile\" />\n            <div className=\"summary-actions summary-actions--throwpillow\">\n                <QtyIncrementor show=\"desktop\" />\n                <PriceContainer total={total} totalWithoutDiscount={totalWithoutDiscount} />\n                <ActionAddToCart />\n            </div>\n            <FinancingContent />\n            <div className=\"review\">\n                <ReviewContentStars />\n                <div className=\"total-reviews\">\n                    <a\n                        onClick={useScrollToReviewsCallback(sacCoverHeaderRef)}\n                        href=\"javascript: void(0)\"\n                    >{t`See All Reviews`}</a>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst StepView = () => {\n    const { step } = useNavigatorContext();\n    return <step.StepComponent />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { SummaryLineEditButton } from '../../View/Summary';\nimport { Price } from '../../View/Price';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { title } from './constants';\n\nexport const SummaryComponent = ({ stepIndex }) => {\n    const {\n        modules: {\n            cover: { title: optionTile, price },\n        },\n    } = useTotalsContext();\n\n    return (\n        <div className=\"summary-line item-4\">\n            <div className=\"title\">{title}</div>\n            <SummaryLineEditButton stepIndex={stepIndex} />\n            <div className=\"price-container\">\n                <Price value={price} />\n            </div>\n            <div className=\"option-name\">{optionTile}</div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n/* eslint camelcase: off */\n\nimport { t } from 'ttag';\nimport { useMemo, useState, useCallback } from 'preact/hooks';\nimport { useStateContext } from '../../Context/State';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { ReviewContentStars, ReviewsInitializer } from '../../View/Review';\nimport { ModalContextProvider, useModalContext } from '../../View/Modal';\nimport { Loader } from '../../View/Loader';\nimport { SET_ARM_STYLE } from './constants';\nimport ModalTypes from './Modal';\n\nexport const StepComponent = () => {\n    const {\n        index: { sactionalStyleSubtitle },\n    } = useConfiguratorContext();\n\n    return (\n        <ModalContextProvider types={ModalTypes}>\n            <div className=\"sactional-style__content-wrapper\">\n                <div className=\"sactional-style-review__wrapper\">\n                    <Loader>\n                        <ReviewContent />\n                    </Loader>\n                </div>\n                <div className=\"content-fill-wrapper\">\n                    <div className=\"title-fill-wrapper\">\n                        <div className=\"title-fill\">{t`Select Your Style`}</div>\n                        <div\n                            className=\"title-fill-signature\"\n                            dangerouslySetInnerHTML={{\n                                __html: sactionalStyleSubtitle,\n                            }}\n                        />\n                    </div>\n                </div>\n                <div className=\"sactional-style-items-label\">{t`Select your Arm Style`}</div>\n                <Loader>\n                    <StyleItems />\n                </Loader>\n            </div>\n        </ModalContextProvider>\n    );\n};\n\nconst StyleItems = () => {\n    const {\n        index: { armStyle },\n    } = useConfiguratorContext();\n\n    return useMemo(\n        () => (\n            <div className=\"sidebar-items_wrapper configure sactional-style-items\">\n                {Object.entries(armStyle).map(([code, item]) => (\n                    <StyleItem code={code} item={item} key={code} />\n                ))}\n            </div>\n        ),\n        [armStyle]\n    );\n};\n\nconst StyleItem = ({ code, item }) => {\n    return (\n        <label className=\"sidebar-item sactional-style-item\">\n            <div className=\"sactional-style-item-selection\">\n                <StyleItemInput code={code} />\n                <StyleItemContent item={item} />\n            </div>\n        </label>\n    );\n};\n\nconst StyleItemContent = ({ item: { name, style_image } }) => {\n    return (\n        <div className=\"sactional-style-item__content\">\n            <span className=\"sidebar-item-img\">\n                <img className=\"sactional-style-item-item__image sidebar-item-src\" src={style_image} alt={name} />\n            </span>\n            <div className=\" sidebar-item-src sactional-style-item__desc\">\n                <span className=\"sactional-style-item-item__name\">{name}</span>\n                <span className=\"sactional-style-selection-icon\" />\n            </div>\n        </div>\n    );\n};\n\nconst StyleItemInput = ({ code }) => {\n    const {\n        dispatch,\n        state: { armStyle, hasChanges },\n    } = useStateContext();\n    const { setModal } = useModalContext();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const callback = (event) => {\n        event.preventDefault();\n        if (hasChanges) {\n            setModal({\n                type: 'errorModal',\n                data: code,\n            });\n        } else {\n            dispatch({\n                type: event.target.name,\n                value: event.target.value,\n            });\n        }\n    };\n\n    const selected = armStyle === code;\n\n    return useMemo(\n        () => (\n            <input\n                type=\"radio\"\n                className=\"sactional-style-input\"\n                name={SET_ARM_STYLE}\n                checked={selected}\n                onChange={callback}\n                value={code}\n            />\n        ),\n        [callback, code, selected]\n    );\n};\n\nconst ReviewContent = () => {\n    const [showModal, setShowModal] = useState(false);\n    const {\n        config: { reviewCount },\n    } = useConfiguratorContext();\n    const onClick = useCallback(() => setShowModal(true), []);\n\n    return (\n        <div className=\"review\">\n            <div className=\"total-reviews\">\n                <a onClick={onClick}>\n                    <div className=\"sactional-style-review-title\">\n                        <span>{t`Sactionals`}</span>\n                        <span>{t`The World’s Most Adaptable Couch™`}</span>\n                    </div>\n                    <ReviewContentStars />\n                    <span className=\"link\">\n                        {reviewCount} {t`Reviews`}\n                    </span>\n                </a>\n            </div>\n            <ReviewsInitializer opened={showModal} handleClose={setShowModal} />\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n/* eslint camelcase: off */\nimport { useMemo, useCallback } from 'preact/hooks';\nimport { t } from 'ttag';\nimport { useModalContext } from '../../../Modal';\n\nexport const ARModal = () => {\n    const {\n        modal: {\n            data: { dataURL },\n        },\n    } = useModalContext();\n\n    return useMemo(() => {\n        return <InfoContent dataURL={dataURL} />;\n    }, [dataURL]);\n};\n\nconst InfoContent = ({ dataURL }) => {\n    const { setModal } = useModalContext();\n    const closeModal = useCallback(\n        (event) => {\n            event.preventDefault();\n\n            setModal(null);\n        },\n        [setModal]\n    );\n    return (\n        <div\n            data-role=\"dialog\"\n            className=\"modal-popup vray-modal stealthtech-error-modal _inner-scroll _show vray\"\n            style=\"z-index: 902;\"\n        >\n            <div className=\"modal-inner-wrap\" data-role=\"focusable-scope\">\n                <header className=\"modal-header\">\n                    <button className=\"action-close dark\" onClick={closeModal} data-role=\"closeBtn\" type=\"button\">\n                        <span>{t`Close`}</span>\n                    </button>\n                </header>\n                <div className=\"modal-content\" data-role=\"content\">\n                    <div className=\"vray-modal__wrapper\">\n                        <div className=\"vray-modal-heading\">\n                            <h2>{t`Please scan the QR code`}</h2>\n                            <span>{t`This experience is currently only available on iPhone or iPad.`}</span>\n                        </div>\n                        <img alt={t`QR Code`} className=\"vray-modal-image\" src={dataURL} />\n                        <p>{t`Coming soon to Android.`}</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { forwardRef } from 'preact/compat';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { PriceContainer } from '../../View/PriceContainer';\nimport { FinancingText } from '../../View/FinancingText';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateContext } from '../../Context/State';\n\nexport const SacCoverHeader = forwardRef((props, ref) => {\n    const {\n        index: { pieces, fabricOptions },\n    } = useConfiguratorContext();\n    const {\n        state: { piece: statePiece, fabricId, fabricLeadTime },\n    } = useStateContext();\n    const { total, totalWithoutDiscount } = useTotalsContext();\n\n    const piece = pieces[statePiece];\n    const selectedFabricName = fabricOptions?.[fabricLeadTime]?.[fabricId].fabricName;\n\n    return (\n        <div ref={ref} className=\"squattoman-header header\">\n            <div className=\"squattoman-header__title\">{t`Sac Covers`}</div>\n            <div className=\"squattoman-product-name\">\n                {piece.name}: {selectedFabricName}\n            </div>\n            <PriceContainer total={total} totalWithoutDiscount={totalWithoutDiscount} />\n            <FinancingText />\n        </div>\n    );\n});\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useEffect } from 'preact/hooks';\n\nexport const SidebarHeader = ({ summaryButton }) => {\n    useEffect(() => {\n        return (\n            <div className=\"sidebar-header\">\n                <a href={window.location.origin} title={t`Lovesac logo`}>\n                    <span className=\"mobile-logo\" />\n                    <span className=\"mobile-logo__subtitle\">{t`Always Fits. Forever New.™`}</span>\n                </a>\n                {summaryButton ? summaryButton : ''}\n            </div>\n        );\n    });\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useMemo } from 'preact/hooks';\nimport { t } from 'ttag';\nimport { useTotalsContext } from '../Context/Totals';\nimport { useConfiguratorContext } from '../Context/Configurator';\n\nexport const FinancingText = () => {\n    const { total } = useTotalsContext();\n    const {\n        options: {\n            config: { financingMessage, financingMessageMonths },\n        },\n    } = useConfiguratorContext();\n    const message =\n        financingMessage && financingMessageMonths\n            ? financingMessage\n                  .replace('%1', `$${Math.ceil(total / financingMessageMonths)}`)\n                  .replace('%2', financingMessageMonths)\n            : null;\n    return useMemo(() => {\n        return (\n            <div className=\"squattoman-header__financing\">\n                <span className=\"content\">\n                    <span className=\"financing-message-text\" dangerouslySetInnerHTML={{ __html: message }} />\n                    <a href=\"/financing\" title={t`Learn More`}>{t`Learn More`}</a>\n                </span>\n            </div>\n        );\n    }, [message]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { FinancingContent } from '../../View/Financing';\nimport { ReviewContentStars } from '../../View/Review';\nimport { useNavigatorContext } from '../../Context/Navigator';\nimport { QtyIncrementor } from '../../View/QtyIncrementor';\nimport { ActionAddToCart } from '../../View/ActionAddToCart';\nimport { PriceContainer } from '../../View/PriceContainer';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { SquattomanHeader } from './SquattomanHeader';\n\nexport const SquattomanSidebar = () => {\n    const { total, totalWithoutDiscount } = useTotalsContext();\n\n    return (\n        <div className=\"step step-squattoman\">\n            <SquattomanHeader />\n            <StepView />\n            <QtyIncrementor show=\"mobile\" />\n            <div className=\"summary-actions summary-actions--throwpillow\">\n                <QtyIncrementor show=\"desktop\" />\n                <PriceContainer total={total} totalWithoutDiscount={totalWithoutDiscount} />\n                <ActionAddToCart />\n            </div>\n            <FinancingContent />\n            <div className=\"review\">\n                <ReviewContentStars />\n                <div className=\"total-reviews\">\n                    <a href=\"#yotpo-review-squattoman\">{t`See All Reviews`}</a>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst StepView = () => {\n    const { step } = useNavigatorContext();\n    return <step.StepComponent />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\nimport { FinancingContent } from '../../View/Financing';\nimport { ReviewContentStars } from '../../View/Review';\nimport { useNavigatorContext } from '../../Context/Navigator';\nimport { QtyIncrementor } from '../../View/QtyIncrementor';\nimport { ActionAddToCart } from '../../View/ActionAddToCart';\nimport { PriceContainer } from '../../View/PriceContainer';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { ThrowPillowSize } from './ThrowPillowSize';\nimport { ThrowPillowHeader } from './ThrowPillowHeader';\n\nexport const ThrowKitSidebar = () => {\n    const { total, totalWithoutDiscount } = useTotalsContext();\n\n    return (\n        <div className=\"step step-squattoman\">\n            <ThrowPillowHeader />\n            <StepView />\n            <ThrowPillowSize />\n            <QtyIncrementor show=\"mobile\" />\n            <div className=\"summary-actions summary-actions--throwpillow\">\n                <QtyIncrementor show=\"desktop\" />\n                <PriceContainer total={total} totalWithoutDiscount={totalWithoutDiscount} />\n                <ActionAddToCart />\n            </div>\n            <FinancingContent />\n            <div className=\"review\">\n                <ReviewContentStars />\n                <div className=\"total-reviews\">\n                    <a href=\"#yotpo-review-throwPillow\">{t`See All Reviews`}</a>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst StepView = () => {\n    const { step } = useNavigatorContext();\n    return <step.StepComponent />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { Info } from './Info';\n\nexport default {\n    info: <Info />,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Configure`;\nexport const code = 'configure';\n\nexport const SET_CONFIGURATION = 'setConfiguration';\nexport const SET_CONFIGURATION_TYPE = 'setConfigurationType';\nexport const SET_SELECTED_PIECE = 'setSelectedPiece';\nexport const SET_PIECES = 'setPieces';\nexport const TYPE_PREBUILT = 'pre-built';\nexport const TYPE_CUSTOM = 'custom';\nexport const HIDE_INSTRUCTIONAL_MODAL = 'hideInstructionalModal';\nexport const SET_CONFIGURATION_CHANGED = 'setConfigurationChanged';\nexport const RESET_CONFIGURATION = 'resetConfiguration';\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { useStateContext } from '../../Context/State';\nimport { isCoverStealthtechEligible } from './isCoverStealthtechEligible';\n\nexport const StealthTechNotAvaliableComponent = () => {\n    const isRollArm = useIsRollArm();\n    const isLeather = useIsLeather();\n    const isStandardSeatIneligible = useIsStandardSeatIneligible();\n    const { index } = useConfiguratorContext();\n\n    if (!isRollArm && !isLeather && !isStandardSeatIneligible) {\n        return null;\n    }\n\n    return (\n        <div className=\"stealthtech-not-avaliable\">\n            <div className=\"stealthtech-not-avaliable-title\">\n                {t`StealthTech not avaliable with current configuration`}\n            </div>\n            <div className=\"stealthtech-boxes\">\n                {isRollArm ? (\n                    <div className=\"stealthtech-box standard-sides-validation\">\n                        <div className=\"stealthtech-box-title\">{t`Standard Sides`}</div>\n                        <div className=\"stealthtech-box-text\">{index.stealthtechEligibilityStandardSidesMsg}</div>\n                    </div>\n                ) : null}\n                {isStandardSeatIneligible ? (\n                    <div className=\"stealthtech-box storage-seat-validation\">\n                        <div className=\"stealthtech-box-title\">{t`Standard Seat`}</div>\n                        <div className=\"stealthtech-box-text\">{index.stealthtechEligibilityStandardSeatsMsg}</div>\n                    </div>\n                ) : null}\n                {isLeather ? (\n                    <div className=\"stealthtech-box storage-leather-validation\">\n                        <div className=\"stealthtech-box-title\">{t`Leather`}</div>\n                        <div className=\"stealthtech-box-text\">{index.stealthtechEligibilityLeatherMsg}</div>\n                    </div>\n                ) : null}\n            </div>\n        </div>\n    );\n};\n\nconst useIsRollArm = () => {\n    const {\n        last: {\n            options: { pieces },\n        },\n    } = useTotalsContext();\n    return pieces.rollArm_side > 0;\n};\n\nconst useIsLeather = () => {\n    const {\n        last: {\n            options: { pieces, fabricLeadTime, fabricId },\n        },\n    } = useTotalsContext();\n    const { index } = useConfiguratorContext();\n    return !isCoverStealthtechEligible(index, { pieces }, fabricLeadTime, fabricId);\n};\n\nconst useIsStandardSeatIneligible = () => {\n    const {\n        last: {\n            options: { pieces },\n        },\n    } = useTotalsContext();\n\n    const {\n        state: { stealthTechEligible },\n    } = useStateContext();\n\n    return !pieces.standard_seat && !stealthTechEligible.length;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useMemo } from 'preact/hooks';\nimport { usePlayerContext } from '../../Context/Player';\nimport { useBrowserContext } from '../../Context/Browser';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { Loader } from '../Loader';\nimport { ThreekitPlayer } from './ThreekitPlayer';\nimport { PLAYER_VRAY_MODE } from './constants';\nimport { PlayerMessage } from './PlayerMessage';\n\nexport const Player = ({ show }) => {\n    const { isMobile } = useBrowserContext();\n\n    const isVisible = useMemo(() => {\n        if (show === 'mobile') {\n            return isMobile;\n        }\n        if (show === 'desktop') {\n            return !isMobile;\n        }\n        return show === 'both';\n    }, [show, isMobile]);\n\n    return useMemo(() => {\n        if (!isVisible) {\n            return null;\n        }\n\n        return (\n            <div className={`player ${show}`}>\n                <TkPlayer />\n                <Loader>\n                    <Toolbar />\n                    <Thumbnails />\n                    <PlayerMessage />\n                </Loader>\n            </div>\n        );\n    }, [isVisible, show]);\n};\n\nconst Toolbar = () => {\n    const {\n        state: { isLoaded },\n    } = usePlayerContext();\n    const { type } = useConfiguratorContext();\n\n    return useMemo(() => {\n        if (!isLoaded || !type.PlayerToolbar) {\n            return null;\n        }\n\n        return <type.PlayerToolbar />;\n    }, [isLoaded, type]);\n};\n\nconst Thumbnails = () => {\n    const {\n        state: { isInitialized, mode, api },\n    } = usePlayerContext();\n    const { type } = useConfiguratorContext();\n\n    return useMemo(() => {\n        if (api && isInitialized && mode === PLAYER_VRAY_MODE && type.Thumbnails) {\n            return <type.Thumbnails />;\n        }\n    }, [api, isInitialized, mode, type]);\n};\n\nconst TkPlayer = () => {\n    const {\n        state: { domNode },\n    } = usePlayerContext();\n\n    return useMemo(() => {\n        if (!domNode) {\n            return null;\n        }\n\n        return <ThreekitPlayer domNode={domNode} />;\n    }, [domNode]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { useStateContext } from '../../../Context/State';\n\nimport { Modal, useModalContext } from '../../../View/Modal';\n\nexport const ErrorModal = () => {\n    const { dispatch } = useStateContext();\n\n    const {\n        modal: { name, value },\n    } = useModalContext();\n\n    const { setModal } = useModalContext();\n\n    const proceedCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n            dispatch({\n                type: name,\n                value,\n            });\n            setModal(null);\n        },\n        [dispatch, name, value, setModal]\n    );\n\n    const cancelCallback = useCallback(() => {\n        setModal(null);\n    }, [setModal]);\n\n    return useMemo(() => {\n        return (\n            <Modal modalClass={'warning-modal'}>\n                <div role=\"dialog\" className=\"modal-popup confirm stealthtech-error-modal _show\" style=\"z-index: 902;\">\n                    <div className=\"modal-inner-wrap\" data-role=\"focusable-scope\">\n                        <div className=\"modal-header\">\n                            <button\n                                className=\"action-close\"\n                                data-role=\"closeBtn\"\n                                onClick={cancelCallback}\n                                type=\"button\"\n                            >\n                                <span>{t`Close`}</span>\n                            </button>\n                        </div>\n                        <div className=\"modal-content\" data-role=\"content\">\n                            <div>\n                                <div className=\"configurator-error\">\n                                    <p className=\"error-body\">\n                                        {t`If you leave your configuration now, your customizations will be removed.`}\n                                    </p>\n                                    <p className=\"error-summary\">{t`Are you sure you want to proceed?`}</p>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"modal-footer\">\n                            <button\n                                className=\"action-secondary action-dismiss\"\n                                type=\"button\"\n                                onClick={cancelCallback}\n                                data-role=\"action\"\n                            >\n                                <span>{t`Undo`}</span>\n                            </button>\n                            <button\n                                className=\"action-primary action-accept\"\n                                type=\"button\"\n                                onClick={proceedCallback}\n                                data-role=\"action\"\n                            >\n                                <span>{t`Accept Change`}</span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </Modal>\n        );\n    }, [cancelCallback, proceedCallback]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { useStateContext } from '../../../Context/State';\nimport { TYPE_CUSTOM } from '../../../Step/Configure/constants';\nimport { WebglPlayerToolbar } from './WebglPlayerToolbar';\nimport { VrayPlayerToolbar } from './VrayPlayerToolbar';\n\nexport const PlayerToolbar = () => {\n    const {\n        state: { configurationType },\n    } = useStateContext();\n\n    return configurationType === TYPE_CUSTOM ? <WebglPlayerToolbar /> : <VrayPlayerToolbar />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { MeasurementButton } from '../../../View/Player/Toolbar/MeasurementButton';\n\nexport const PlayerToolbar = () => {\n    return (\n        <div className=\"player-toolbar\">\n            <MeasurementButton title={t`Dimensions`} />\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { toChildArray } from 'preact';\nimport { useMemo, useState, useCallback } from 'preact/hooks';\nimport { Loader } from './Loader';\n\nexport const SimpleTabs = ({ children }) => {\n    const [tabIndex, setTabIndex] = useState('0');\n\n    const tabClickCallback = useCallback((event) => {\n        event.preventDefault();\n        const { value } = event.target;\n        setTabIndex(value);\n    }, []);\n\n    return (\n        <Tabs activeTab={tabIndex} tabClickCallback={tabClickCallback}>\n            {children}\n        </Tabs>\n    );\n};\n\nexport const Tabs = ({ children, activeTab, tabClickCallback, buttonName }) => {\n    const tabs = useMemo(() => {\n        const childArray = toChildArray(children);\n        const tabs = {};\n        for (let index = 0; index < childArray.length; index++) {\n            const tab = childArray[index];\n            const key = tab.props.code || index;\n            tabs[key] = tab;\n        }\n        return tabs;\n    }, [children]);\n\n    return useMemo(() => {\n        return (\n            <div className=\"content-bar\">\n                <div className=\"sidebar-tabs\">\n                    {Object.entries(tabs).map(([key, tab]) => (\n                        <button\n                            className={`tab ${activeTab === key ? 'active' : ''}`}\n                            onClick={tabClickCallback}\n                            key={key}\n                            value={key}\n                            name={buttonName}\n                        >\n                            {tab.props.title}\n                        </button>\n                    ))}\n                </div>\n                <div className={`tab-content tab-${activeTab}`}>\n                    <Loader key={activeTab}>{tabs[activeTab]}</Loader>\n                </div>\n            </div>\n        );\n    }, [activeTab, tabClickCallback, tabs, buttonName]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { createContext } from 'preact';\nimport { useContext, useCallback, useReducer, useMemo } from 'preact/hooks';\nimport { useHookCallback } from '../hooks/useHookCallback';\nimport { useConfiguratorContext } from './Configurator';\n\nconst StateContext = createContext({});\n\nexport const useStateContext = () => useContext(StateContext);\nexport const INIT = 'init';\nexport const LOAD = 'load';\nexport const RESET = 'reset';\n\nexport const StateContextProvider = ({ children }) => {\n    const value = useStateReducer();\n    return <StateContext.Provider value={value}>{children}</StateContext.Provider>;\n};\n\nconst useStateReducer = () => {\n    const { type, index } = useConfiguratorContext();\n    const updateStateCallback = useHookCallback(type, 'updateState');\n\n    const initializer = useCallback(() => {\n        const state = {};\n        updateStateCallback(state, index, { type: INIT });\n        if (index.saved) {\n            updateStateCallback(state, index, { type: LOAD });\n        }\n        return state;\n    }, [updateStateCallback, index]);\n\n    const reducer = useCallback(\n        (oldState, action) => {\n            if (action.type === RESET) {\n                return oldState.previous;\n            }\n            const state = { ...oldState, previous: oldState };\n            updateStateCallback(state, index, action);\n            oldState.previous = null;\n            return state;\n        },\n        [updateStateCallback, index]\n    );\n\n    const [state, dispatch] = useReducer(reducer, {}, initializer);\n\n    return useMemo(() => {\n        return { state, dispatch };\n    }, [state, dispatch]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useEffect, useState } from 'preact/hooks';\n\nexport const Loader = ({ children }) => {\n    const [loaded, setLoaded] = useState(false);\n\n    useEffect(() => {\n        setLoaded(true);\n    }, []);\n\n    return loaded ? children : null;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\nimport { useState, useCallback } from 'preact/hooks';\nimport { Modal } from '../Modal';\nimport { ActionSave } from '../../ActionSave';\n\nexport const SaveLogin = () => {\n    return (\n        <Modal title={t`Save`} code=\"save\">\n            <SaveLoginForm />\n        </Modal>\n    );\n};\n\nconst SaveLoginForm = () => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n\n    const changeUsername = useCallback((event) => {\n        setUsername(event.target.value);\n    }, []);\n\n    const changePassword = useCallback((event) => {\n        setPassword(event.target.value);\n    }, []);\n\n    return (\n        <div className=\"modal-body\">\n            <div className=\"modal-create-account\">\n                <span>{t`Create an account or log in to save your configuration.`}</span>\n                <a href=\"/customer/account/create/\">{t`Create an Account`}</a>\n            </div>\n            <div className=\"modal-login\">\n                <form>\n                    <div className=\"fieldset\">\n                        <legend>{t`Log In`}</legend>\n                        <label htmlFor=\"email-address-input required\">{t`Email Address`}</label>\n                        <input\n                            type=\"input\"\n                            className=\"email-address-input required\"\n                            name=\"email-address-input\"\n                            placeholder={t`Email Address`}\n                            value={username}\n                            onChange={changeUsername}\n                        />\n                        <i className=\"icon email-address-input\" />\n                        <label htmlFor=\"password-input required\">{t`Password`}</label>\n                        <input\n                            type=\"password\"\n                            className=\"password-input required\"\n                            name=\"password-input\"\n                            placeholder={t`Password`}\n                            value={password}\n                            onChange={changePassword}\n                        />\n                        <i className=\"icon password-input\" />\n                    </div>\n                </form>\n                <ActionSave username={username} password={password} />\n                <a href=\"/customer/account/forgotpassword/\" className=\"forgot-password\">\n                    {t`Forgot Your Password?`}\n                </a>\n            </div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { createContext } from 'preact';\nimport { useContext } from 'preact/hooks';\nimport { useTotals } from '../hooks/useTotals';\nimport { useStateContext } from './State';\n\nconst TotalsContext = createContext({});\n\nexport const useTotalsContext = () => useContext(TotalsContext);\n\nexport const TotalsContextProvider = ({ children }) => {\n    const { state } = useStateContext();\n\n    const totals = useTotals(state, true);\n    return <TotalsContext.Provider value={totals}>{children}</TotalsContext.Provider>;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo, useCallback } from 'preact/hooks';\nimport { INCREMENT_ACCESSORY_QTY } from '../constants';\nimport { Price } from '../../../View/Price';\nimport { Gallery } from '../../../View/Gallery';\nimport { useStateContext } from '../../../Context/State';\nimport { useModalContext, Modal } from '../../../View/Modal';\n\nexport const Info = () => {\n    const {\n        modal: { data, title },\n    } = useModalContext();\n\n    return useMemo(() => {\n        return (\n            <Modal title={t`${title}`} closeTitle={t`Back to Accessories`}>\n                <InfoContent data={data} />\n            </Modal>\n        );\n    }, [data, title]);\n};\n\nconst InfoContent = ({ data }) => {\n    return (\n        <div className=\"more-info__item-details\">\n            <div className=\"image\">\n                <Gallery gallery={data.gallery} image={data.image} defaultImage={data.defaultImage} />\n            </div>\n            <div className=\"accessories-modal-row lead-time\">\n                <p className=\"title\">{t`Lead Time`}</p>\n                <p\n                    className=\"content\"\n                    dangerouslySetInnerHTML={{\n                        __html: data.leadTime,\n                    }}\n                />\n            </div>\n            <div className=\"accessories-modal-row price\">\n                <p className=\"title\">{t`Pricing`}</p>\n                <div className=\"content\">\n                    <span className=\"price-symbol\">+</span>\n                    <Price value={data.price} />\n                </div>\n            </div>\n            <div className=\"accessories-modal-row desc\">\n                <p className=\"title\">{t`Description`}</p>\n                <p\n                    className=\"content\"\n                    dangerouslySetInnerHTML={{\n                        __html: data.description,\n                    }}\n                />\n            </div>\n            <div className=\"more-info__actions-wrapper\">\n                <AddThisAccessoryButton type={data.type} />\n            </div>\n        </div>\n    );\n};\n\nconst AddThisAccessoryButton = ({ type }) => {\n    const { setModal } = useModalContext();\n    const { dispatch } = useStateContext();\n    const setAccessoryCallback = useCallback(\n        (event) => {\n            const { name, value } = event.target;\n            dispatch({\n                type: name,\n                value,\n                itemType: type,\n            });\n            setModal(null);\n        },\n        [dispatch, type, setModal]\n    );\n\n    return (\n        <button\n            className=\"primary-action action primary\"\n            name={INCREMENT_ACCESSORY_QTY}\n            onClick={setAccessoryCallback}\n        >{`${t`Add this Accessory`}`}</button>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useMemo } from 'preact/hooks';\nimport { useStateContext } from '../../../Context/State';\nimport { useConfiguratorContext } from '../../../Context/Configurator';\nimport { usePlayerContext } from '../../../Context/Player';\nimport { PLAYER_WEBGL_MODE } from '../../../View/Player/constants';\n\nexport const usePlayerProductId = (playerMode = null) => {\n    const {\n        index: { preBuilt },\n    } = useConfiguratorContext();\n    const {\n        state: { configuration, armStyle = null, savedConfigurationId = null },\n    } = useStateContext();\n    const {\n        state: { mode },\n    } = usePlayerContext();\n    if (!playerMode) {\n        playerMode = mode;\n    }\n\n    const configurationKey = useMemo(() => {\n        if (playerMode === PLAYER_WEBGL_MODE) {\n            if (armStyle === 'rollArm') {\n                return 'threekitWebglRollarmProductId';\n            }\n            return 'threekitWebglProductId';\n        }\n        return 'threekitProductId';\n    }, [playerMode, armStyle]);\n\n    if (playerMode === PLAYER_WEBGL_MODE && savedConfigurationId) {\n        return savedConfigurationId;\n    }\n\n    return preBuilt[configuration][configurationKey];\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { useCallback } from 'preact/hooks';\nimport { usePlayerContext } from '../../../Context/Player';\nimport { useBrowserContext } from '../../../Context/Browser';\nimport { useModalContext } from '../../Modal';\n\nexport const ZoomButton = ({ title }) => {\n    const {\n        state: { api },\n    } = usePlayerContext();\n    const { setModal } = useModalContext();\n    const { isMobile, userAgent } = useBrowserContext();\n\n    const callback = useCallback(async () => {\n        const response = await api.getAR();\n        if (response) {\n            if (isMobile) {\n                const bodyClassList = document.body.classList;\n                bodyClassList.add('ar-active');\n                if (userAgent === 'iOS') {\n                    const { url } = await response.usdz;\n                    if (url) {\n                        bodyClassList.remove('ar-active');\n                        window.location.href = url;\n                    }\n                } else {\n                    const { url } = await response.glb;\n                    if (url) {\n                        bodyClassList.remove('ar-active');\n                        window.location.href = url;\n                    }\n                }\n            } else {\n                setModal({\n                    type: 'arModal',\n                    data: response,\n                });\n            }\n        }\n    }, [setModal, api, isMobile, userAgent]);\n\n    if ((isMobile && userAgent === 'iOS') || !isMobile) {\n        return (\n            <button className=\"player-button zoom\" onClick={callback} title={title}>\n                <span>{title}</span>\n            </button>\n        );\n    }\n};\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', 'react', 'prop-types'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('react'), require('prop-types'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.react, global.propTypes);\n    global.reactSwipe = mod.exports;\n  }\n})(this, function (exports, _react, _propTypes) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.setHasSupportToCaptureOption = setHasSupportToCaptureOption;\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function _objectWithoutProperties(obj, keys) {\n    var target = {};\n\n    for (var i in obj) {\n      if (keys.indexOf(i) >= 0) continue;\n      if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n      target[i] = obj[i];\n    }\n\n    return target;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var supportsCaptureOption = false;\n  function setHasSupportToCaptureOption(hasSupport) {\n    supportsCaptureOption = hasSupport;\n  }\n\n  try {\n    addEventListener('test', null, Object.defineProperty({}, 'capture', { get: function get() {\n        setHasSupportToCaptureOption(true);\n      } }));\n  } catch (e) {} // eslint-disable-line no-empty\n\n  function getSafeEventHandlerOpts() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { capture: true };\n\n    return supportsCaptureOption ? options : options.capture;\n  }\n\n  /**\n   * [getPosition returns a position element that works for mouse or touch events]\n   * @param  {[Event]} event [the received event]\n   * @return {[Object]}      [x and y coords]\n   */\n  function getPosition(event) {\n    if ('touches' in event) {\n      var _event$touches$ = event.touches[0],\n          pageX = _event$touches$.pageX,\n          pageY = _event$touches$.pageY;\n\n      return { x: pageX, y: pageY };\n    }\n\n    var screenX = event.screenX,\n        screenY = event.screenY;\n\n    return { x: screenX, y: screenY };\n  }\n\n  var ReactSwipe = function (_Component) {\n    _inherits(ReactSwipe, _Component);\n\n    function ReactSwipe() {\n      var _ref;\n\n      _classCallCheck(this, ReactSwipe);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var _this = _possibleConstructorReturn(this, (_ref = ReactSwipe.__proto__ || Object.getPrototypeOf(ReactSwipe)).call.apply(_ref, [this].concat(args)));\n\n      _this._handleSwipeStart = _this._handleSwipeStart.bind(_this);\n      _this._handleSwipeMove = _this._handleSwipeMove.bind(_this);\n      _this._handleSwipeEnd = _this._handleSwipeEnd.bind(_this);\n\n      _this._onMouseDown = _this._onMouseDown.bind(_this);\n      _this._onMouseMove = _this._onMouseMove.bind(_this);\n      _this._onMouseUp = _this._onMouseUp.bind(_this);\n\n      _this._setSwiperRef = _this._setSwiperRef.bind(_this);\n      return _this;\n    }\n\n    _createClass(ReactSwipe, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        if (this.swiper) {\n          this.swiper.addEventListener('touchmove', this._handleSwipeMove, getSafeEventHandlerOpts({\n            capture: true,\n            passive: false\n          }));\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        if (this.swiper) {\n          this.swiper.removeEventListener('touchmove', this._handleSwipeMove, getSafeEventHandlerOpts({\n            capture: true,\n            passive: false\n          }));\n        }\n      }\n    }, {\n      key: '_onMouseDown',\n      value: function _onMouseDown(event) {\n        if (!this.props.allowMouseEvents) {\n          return;\n        }\n\n        this.mouseDown = true;\n\n        document.addEventListener('mouseup', this._onMouseUp);\n        document.addEventListener('mousemove', this._onMouseMove);\n\n        this._handleSwipeStart(event);\n      }\n    }, {\n      key: '_onMouseMove',\n      value: function _onMouseMove(event) {\n        if (!this.mouseDown) {\n          return;\n        }\n\n        this._handleSwipeMove(event);\n      }\n    }, {\n      key: '_onMouseUp',\n      value: function _onMouseUp(event) {\n        this.mouseDown = false;\n\n        document.removeEventListener('mouseup', this._onMouseUp);\n        document.removeEventListener('mousemove', this._onMouseMove);\n\n        this._handleSwipeEnd(event);\n      }\n    }, {\n      key: '_handleSwipeStart',\n      value: function _handleSwipeStart(event) {\n        var _getPosition = getPosition(event),\n            x = _getPosition.x,\n            y = _getPosition.y;\n\n        this.moveStart = { x: x, y: y };\n        this.props.onSwipeStart(event);\n      }\n    }, {\n      key: '_handleSwipeMove',\n      value: function _handleSwipeMove(event) {\n        if (!this.moveStart) {\n          return;\n        }\n\n        var _getPosition2 = getPosition(event),\n            x = _getPosition2.x,\n            y = _getPosition2.y;\n\n        var deltaX = x - this.moveStart.x;\n        var deltaY = y - this.moveStart.y;\n        this.moving = true;\n\n        // handling the responsability of cancelling the scroll to\n        // the component handling the event\n        var shouldPreventDefault = this.props.onSwipeMove({\n          x: deltaX,\n          y: deltaY\n        }, event);\n\n        if (shouldPreventDefault && event.cancelable) {\n          event.preventDefault();\n        }\n\n        this.movePosition = { deltaX: deltaX, deltaY: deltaY };\n      }\n    }, {\n      key: '_handleSwipeEnd',\n      value: function _handleSwipeEnd(event) {\n        this.props.onSwipeEnd(event);\n\n        var tolerance = this.props.tolerance;\n\n\n        if (this.moving && this.movePosition) {\n          if (this.movePosition.deltaX < -tolerance) {\n            this.props.onSwipeLeft(1, event);\n          } else if (this.movePosition.deltaX > tolerance) {\n            this.props.onSwipeRight(1, event);\n          }\n          if (this.movePosition.deltaY < -tolerance) {\n            this.props.onSwipeUp(1, event);\n          } else if (this.movePosition.deltaY > tolerance) {\n            this.props.onSwipeDown(1, event);\n          }\n        }\n\n        this.moveStart = null;\n        this.moving = false;\n        this.movePosition = null;\n      }\n    }, {\n      key: '_setSwiperRef',\n      value: function _setSwiperRef(node) {\n        this.swiper = node;\n        this.props.innerRef(node);\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _props = this.props,\n            tagName = _props.tagName,\n            className = _props.className,\n            style = _props.style,\n            children = _props.children,\n            allowMouseEvents = _props.allowMouseEvents,\n            onSwipeUp = _props.onSwipeUp,\n            onSwipeDown = _props.onSwipeDown,\n            onSwipeLeft = _props.onSwipeLeft,\n            onSwipeRight = _props.onSwipeRight,\n            onSwipeStart = _props.onSwipeStart,\n            onSwipeMove = _props.onSwipeMove,\n            onSwipeEnd = _props.onSwipeEnd,\n            innerRef = _props.innerRef,\n            tolerance = _props.tolerance,\n            props = _objectWithoutProperties(_props, ['tagName', 'className', 'style', 'children', 'allowMouseEvents', 'onSwipeUp', 'onSwipeDown', 'onSwipeLeft', 'onSwipeRight', 'onSwipeStart', 'onSwipeMove', 'onSwipeEnd', 'innerRef', 'tolerance']);\n\n        return _react2.default.createElement(\n          this.props.tagName,\n          _extends({\n            ref: this._setSwiperRef,\n            onMouseDown: this._onMouseDown,\n            onTouchStart: this._handleSwipeStart,\n            onTouchEnd: this._handleSwipeEnd,\n            className: className,\n            style: style\n          }, props),\n          children\n        );\n      }\n    }]);\n\n    return ReactSwipe;\n  }(_react.Component);\n\n  ReactSwipe.displayName = 'ReactSwipe';\n  ReactSwipe.propTypes = {\n    tagName: _propTypes2.default.string,\n    className: _propTypes2.default.string,\n    style: _propTypes2.default.object,\n    children: _propTypes2.default.node,\n    allowMouseEvents: _propTypes2.default.bool,\n    onSwipeUp: _propTypes2.default.func,\n    onSwipeDown: _propTypes2.default.func,\n    onSwipeLeft: _propTypes2.default.func,\n    onSwipeRight: _propTypes2.default.func,\n    onSwipeStart: _propTypes2.default.func,\n    onSwipeMove: _propTypes2.default.func,\n    onSwipeEnd: _propTypes2.default.func,\n    innerRef: _propTypes2.default.func,\n    tolerance: _propTypes2.default.number.isRequired\n  };\n  ReactSwipe.defaultProps = {\n    tagName: 'div',\n    allowMouseEvents: false,\n    onSwipeUp: function onSwipeUp() {},\n    onSwipeDown: function onSwipeDown() {},\n    onSwipeLeft: function onSwipeLeft() {},\n    onSwipeRight: function onSwipeRight() {},\n    onSwipeStart: function onSwipeStart() {},\n    onSwipeMove: function onSwipeMove() {},\n    onSwipeEnd: function onSwipeEnd() {},\n    innerRef: function innerRef() {},\n\n    tolerance: 0\n  };\n  exports.default = ReactSwipe;\n});","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n/* eslint camelcase: off */\nimport { useCallback } from 'preact/hooks';\nimport { useAjaxRequest } from '../../../hooks/useAjaxRequest';\n\nexport const useRemoveItemAjaxRequest = (item) => {\n    const [result, ajaxRequest] = useAjaxRequest();\n\n    const callback = useCallback(() => {\n        const { item_id, product_id } = item;\n        ajaxRequest({\n            method: 'POST',\n            url: '/fabricguide/swatch/removeItem',\n            data: { item_id, product_id },\n            dataType: 'urlencoded',\n            addFormKey: true,\n        });\n    }, [item, ajaxRequest]);\n\n    return [result, callback];\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useEffect, useMemo, useState } from 'preact/hooks';\nimport { Modal } from '../Modal';\nimport {\n    ActionShare,\n    ActionShareFacebook,\n    ActionShareMail,\n    ActionSharePinterest,\n    ActionShareTwitter,\n} from '../../ActionShare';\nimport { usePlayerContext } from '../../../../Context/Player';\nimport { useTotalsContext } from '../../../../Context/Totals';\nimport { useConfiguratorContext } from '../../../../Context/Configurator';\nimport { getPiecesTitle } from '../../../../calculator';\n\nexport const Share = () => {\n    return (\n        <Modal title={t`Share`} code=\"share\">\n            <SampleContent />\n        </Modal>\n    );\n};\n\nexport const SampleContent = () => {\n    return (\n        <div className=\"modal-body\">\n            <ConfiguratorImage />\n            <ConfiguratorText />\n            <div className=\"configurator-social\">\n                <span>\n                    <ActionShareMail />\n                </span>\n                <span>\n                    <ActionShareFacebook />\n                </span>\n                <span>\n                    <ActionShareTwitter />\n                </span>\n                <span>\n                    <ActionSharePinterest />\n                </span>\n            </div>\n            <ActionShare />\n        </div>\n    );\n};\n\nconst ConfiguratorImage = () => {\n    const {\n        state: { api },\n    } = usePlayerContext();\n    const [imageUrl, setImageUrl] = useState(null);\n\n    useEffect(() => {\n        (async () => {\n            setImageUrl(await api.getThumbnail());\n        })();\n    }, [api]);\n\n    return useMemo(\n        () => (\n            <div className=\"configurator-image\">\n                {imageUrl ? <img src={imageUrl} alt=\"\" className={`image`} /> : null}\n            </div>\n        ),\n        [imageUrl]\n    );\n};\n\nconst ConfiguratorText = () => {\n    const {\n        last: { options },\n    } = useTotalsContext();\n    const { index, type } = useConfiguratorContext();\n\n    return useMemo(\n        () => (\n            <div className=\"configurator-text\">\n                <span className=\"title\">{t`Share your ${type.title}`}</span>\n                <span className=\"option\">{getPiecesTitle(index, options)}</span>\n            </div>\n        ),\n        [index, options, type]\n    );\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Carousel\", {\n  enumerable: true,\n  get: function get() {\n    return _Carousel.default;\n  }\n});\nObject.defineProperty(exports, \"CarouselProps\", {\n  enumerable: true,\n  get: function get() {\n    return _types.CarouselProps;\n  }\n});\nObject.defineProperty(exports, \"Thumbs\", {\n  enumerable: true,\n  get: function get() {\n    return _Thumbs.default;\n  }\n});\n\nvar _Carousel = _interopRequireDefault(require(\"./components/Carousel\"));\n\nvar _types = require(\"./components/Carousel/types\");\n\nvar _Thumbs = _interopRequireDefault(require(\"./components/Thumbs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { PlayerThumbnails } from '../../View/Player/PlayerThumbnails';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateContext } from '../../Context/State';\nimport { usePlayerArmType } from '../../Step/SactionalStyle/hooks/usePlayerArmType';\n\nconst angles = [0, 1, 2, 3];\n\nexport const Thumbnails = () => {\n    const {\n        config: { baseUrl },\n        index: { preBuilt },\n        type: { code },\n    } = useConfiguratorContext();\n    const {\n        state: { configuration, fabricId },\n    } = useStateContext();\n\n    const armType = usePlayerArmType();\n\n    const getImageSrc = useCallback(\n        (code) => {\n            switch (code) {\n                case '360': {\n                    return `${baseUrl}media/wysiwyg/rotation-thumbnail.svg`;\n                }\n                case 'zoom': {\n                    return `${baseUrl}media/threekit/carousel/zoom/indoor/${fabricId}-Standard-zoom.jpg`;\n                }\n                default: {\n                    const threekitProductId = preBuilt[configuration].threekitProductId;\n                    return `${baseUrl}media/threekit/carousel/${threekitProductId}/${fabricId}-${armType}-${code}.jpg`;\n                }\n            }\n        },\n        [baseUrl, fabricId, armType, preBuilt, configuration]\n    );\n\n    if (configuration && configuration.includes('InsertCover')) {\n        return null;\n    }\n\n    return <PlayerThumbnails angles={angles} getImageSrc={getImageSrc} code={code} />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo, useCallback } from 'preact/hooks';\nimport { useStateContext } from '../../../Context/State';\nimport { useModalContext } from '../../../View/Modal';\n\nexport const TabButtons = () => {\n    return (\n        <div className=\"sidebar-item-action__wrapper\">\n            <FiltersButton />\n            <AddSampleButton />\n        </div>\n    );\n};\n\nconst FiltersButton = () => {\n    const { setModal } = useModalContext();\n    const {\n        state: { fabricFilter },\n    } = useStateContext();\n\n    const onClick = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'filter',\n            });\n        },\n        [setModal]\n    );\n\n    const buttonActiveClass = fabricFilter.length > 0 ? 'active' : '';\n\n    return (\n        <button\n            className={`covers-action__button covers-action__button--filter ${buttonActiveClass}`}\n            onClick={onClick}\n        >\n            {t`Filters`}\n        </button>\n    );\n};\n\nconst AddSampleButton = () => {\n    const {\n        state: { fabricId },\n    } = useStateContext();\n    const { setModal } = useModalContext();\n\n    const buttonCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'sample',\n                fabricId,\n            });\n\n            return true;\n        },\n        [fabricId, setModal]\n    );\n\n    return useMemo(\n        () => (\n            <button className=\"covers-action__button covers-action__button--sample\" onClick={buttonCallback}>\n                {t`Add Swatches`}\n            </button>\n        ),\n        [buttonCallback]\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { PlayerThumbnails } from '../../View/Player/PlayerThumbnails';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateContext } from '../../Context/State';\n\nconst angles = [0, 1, 2, 3];\n\nexport const Thumbnails = () => {\n    const {\n        config: { baseUrl },\n        index: { preBuilt },\n        type: { code },\n    } = useConfiguratorContext();\n    const {\n        state: { configuration, fabricId },\n    } = useStateContext();\n\n    const getImageSrc = useCallback(\n        (code) => {\n            switch (code) {\n                case '360': {\n                    return `${baseUrl}media/wysiwyg/rotation-thumbnail.svg`;\n                }\n                case 'zoom': {\n                    return `${baseUrl}media/threekit/carousel/zoom/outdoor/${fabricId}-zoom.jpg`;\n                }\n                default: {\n                    const threekitProductId = preBuilt[configuration].threekitProductId;\n                    return `${baseUrl}media/threekit/carousel/${threekitProductId}/${fabricId}-${code}.jpg`;\n                }\n            }\n        },\n        [baseUrl, fabricId, preBuilt, configuration]\n    );\n    return <PlayerThumbnails angles={angles} getImageSrc={getImageSrc} code={code} />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useStateContext } from '../../../Context/State';\nimport { useConfiguratorContext } from '../../../Context/Configurator';\n\nexport const usePlayerProductId = () => {\n    const {\n        index: { pieces: indexPieces },\n    } = useConfiguratorContext();\n    const {\n        state: { piece: statePiece },\n    } = useStateContext();\n    return indexPieces[statePiece].threekitProductId;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useEffect, useState, useCallback } from 'preact/hooks';\nimport { t } from 'ttag';\nimport { NO_STEALTHTECH_CODE } from '../constants';\nimport { RESET, useStateContext } from '../../../Context/State';\n\nexport const Popup = () => {\n    const [visible, setVisible] = useState(false);\n    const {\n        dispatch,\n        state: { stealthtechError, stealthtech },\n    } = useStateContext();\n\n    useEffect(() => {\n        if (stealthtech === NO_STEALTHTECH_CODE && stealthtechError) {\n            setVisible(true);\n        }\n    }, [stealthtech, stealthtechError]);\n\n    const closeModal = useCallback(() => {\n        setVisible(false);\n        return true;\n    }, []);\n\n    const undoChange = useCallback(() => {\n        dispatch({\n            type: RESET,\n        });\n        setVisible(false);\n    }, [dispatch]);\n\n    return (\n        visible && (\n            <div role=\"dialog\" className=\"modal-popup confirm stealthtech-error-modal _show\" style=\"z-index: 902;\">\n                <div className=\"modal-inner-wrap\" data-role=\"focusable-scope\">\n                    <div className=\"modal-header\">\n                        <button className=\"action-close\" data-role=\"closeBtn\" onClick={closeModal} type=\"button\">\n                            <span>{t`Close`}</span>\n                        </button>\n                    </div>\n                    <div className=\"modal-content\" data-role=\"content\">\n                        <div>\n                            <div className=\"configurator-error\">\n                                <p className=\"error-body\">{stealthtechError}</p>\n                                <p className=\"error-summary\">{t`Are you sure you want to proceed?`}</p>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"modal-footer\">\n                        <button\n                            className=\"action-secondary action-dismiss\"\n                            type=\"button\"\n                            onClick={undoChange}\n                            data-role=\"action\"\n                        >\n                            <span>{t`Undo`}</span>\n                        </button>\n                        <button\n                            className=\"action-primary action-accept\"\n                            type=\"button\"\n                            onClick={closeModal}\n                            data-role=\"action\"\n                        >\n                            <span>{t`Accept Change`}</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        )\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n/* eslint camelcase: off */\nimport { useMemo, useCallback } from 'preact/hooks';\nimport { t } from 'ttag';\nimport { useStateContext } from '../../../../Context/State';\nimport { useConfiguratorContext } from '../../../../Context/Configurator';\nimport { useModalContext } from '../../../Modal';\n\nexport const VrayImageModal = () => {\n    const {\n        state: { fabricId, fabricLeadTime },\n    } = useStateContext();\n\n    const {\n        index: { fabricOptions },\n    } = useConfiguratorContext();\n\n    return useMemo(() => {\n        const fabric = fabricOptions?.[fabricLeadTime]?.[fabricId];\n        return <InfoContent fabric={fabric} />;\n    }, [fabricOptions, fabricLeadTime, fabricId]);\n};\n\nconst InfoContent = ({ fabric: { base_image, fabricName } }) => {\n    const { setModal, modal } = useModalContext();\n    const bodyClassList = document.body.classList;\n    const closeModal = useCallback(\n        (event) => {\n            event.preventDefault();\n            bodyClassList.remove(modal.type);\n            setModal(null);\n        },\n        [setModal, bodyClassList, modal.type]\n    );\n\n    bodyClassList.add(modal.type);\n\n    return (\n        <div\n            data-role=\"dialog\"\n            className=\"modal-popup vray-modal stealthtech-error-modal _inner-scroll _show vray\"\n            style=\"z-index: 902;\"\n        >\n            <div className=\"modal-inner-wrap\" data-role=\"focusable-scope\">\n                <header className=\"modal-header\">\n                    <button className=\"action-close dark\" onClick={closeModal} data-role=\"closeBtn\" type=\"button\">\n                        <span>{t`Close`}</span>\n                    </button>\n                </header>\n                <div className=\"modal-content\" data-role=\"content\">\n                    <div className=\"vray-modal__wrapper\">\n                        <div className=\"vray-modal-heading\">\n                            <h2>{t`Detailed View`}</h2>\n                        </div>\n                        <div className=\"vray-modal-subheading\">\n                            <h3>{fabricName}</h3>\n                            <span>{t`Sample configuration shown to provide a detailed view of your Covers`}</span>\n                        </div>\n                        <img alt={fabricName} className=\"vray-modal-image\" src={base_image} />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useState, useCallback, useMemo } from 'preact/hooks';\nimport { usePlayerContext } from '../../../Context/Player';\nimport { useConfiguratorContext } from '../../../Context/Configurator';\nimport { SET_FLOOR } from '../constants';\nimport { useBrowserContext } from '../../../Context/Browser';\n\nexport const FloorButton = ({ title }) => {\n    const [visible, setVisible] = useState();\n\n    const dropdownToggle = useCallback(\n        (event) => {\n            event.preventDefault();\n            setVisible(!visible);\n            document.body.classList.toggle('icon-modal__active');\n            if (document.body.classList.contains('icon-modal__active')) {\n                document.getElementById('player-floor-button').classList.add('floor-active');\n            } else {\n                document.getElementById('player-floor-button').classList.remove('floor-active');\n            }\n        },\n        [visible]\n    );\n\n    return (\n        <div className=\"player-button-floor__wrapper\">\n            <button id=\"player-floor-button\" className=\"player-button floor\" title={title} onClick={dropdownToggle}>\n                <span>{title}</span>\n            </button>\n            {visible ? <FloorItems setVisible={setVisible} dropdownToggle={dropdownToggle} /> : null}\n        </div>\n    );\n};\n\nconst defaultFloor = { name: t`None`, image: null };\n\nconst FloorItems = ({ dropdownToggle, setVisible }) => {\n    const {\n        config: { flooringOptions },\n    } = useConfiguratorContext();\n\n    const [selectedFabric, setSelectedFabric] = useState('none');\n\n    return (\n        <div className=\"floor-options__wrapper\">\n            <div className=\"floor-options-header\">\n                <span>{t`Floor Texture`}</span>\n                <button onClick={dropdownToggle}>{t`close`}</button>\n            </div>\n            <div className=\"floor-options__list\">\n                <FloorItem floor={defaultFloor} code=\"none\" setSelectedFabric={setSelectedFabric} key=\"none\" />\n                {Object.entries(flooringOptions).map(([code, floorOption]) => {\n                    return (\n                        <FloorItem floor={floorOption} code={code} key={code} setSelectedFabric={setSelectedFabric} />\n                    );\n                })}\n            </div>\n            <ApplyFloorButton setVisible={setVisible} selectedFabric={selectedFabric} />\n        </div>\n    );\n};\n\nconst FloorItem = ({ floor: { name, image }, code, setSelectedFabric }) => {\n    const {\n        config: { baseUrl },\n    } = useConfiguratorContext();\n\n    const floorImage = image ? baseUrl + image : `${baseUrl}media/wysiwyg/configurator/flooring/floor-none.png`;\n\n    return (\n        <label className=\"floor-labels\">\n            {floorImage ? <img src={`${floorImage}`} alt={name} /> : null}\n            <span className=\"floor-name\">{name}</span>\n            <FloorItemInput code={code} setSelectedFabric={setSelectedFabric} />\n            <span className=\"floor-selection-icon\" />\n        </label>\n    );\n};\n\nconst FloorItemInput = ({ code, setSelectedFabric }) => {\n    const {\n        state: { floor: stateFloor },\n        dispatch,\n    } = usePlayerContext();\n\n    const { isMobile } = useBrowserContext();\n\n    const setFloorCallback = useCallback(\n        (event) => {\n            const { name, value } = event.target;\n\n            if (isMobile) {\n                return setSelectedFabric(value);\n            }\n\n            dispatch({\n                type: name,\n                value,\n            });\n        },\n        [dispatch, isMobile, setSelectedFabric]\n    );\n\n    return useMemo(\n        () => (\n            <input\n                type=\"radio\"\n                name={SET_FLOOR}\n                className=\"floor-selection-input\"\n                onClick={setFloorCallback}\n                value={code}\n                checked={stateFloor === code}\n            />\n        ),\n        [setFloorCallback, stateFloor, code]\n    );\n};\n\nexport const usePlayerFloorId = () => {\n    const {\n        state: { floor },\n    } = usePlayerContext();\n    const {\n        config: { flooringOptions },\n    } = useConfiguratorContext();\n\n    return useMemo(() => {\n        return flooringOptions[floor]?.threekit_id || null;\n    }, [floor, flooringOptions]);\n};\n\nconst ApplyFloorButton = ({ selectedFabric, setVisible }) => {\n    const { isMobile } = useBrowserContext();\n    const { dispatch } = usePlayerContext();\n\n    const setFloorCallback = useCallback(\n        (event) => {\n            const { name, value } = event.target;\n            setVisible(false);\n            document.body.classList.remove('icon-modal__active');\n            dispatch({\n                type: name,\n                value,\n            });\n        },\n        [dispatch, setVisible]\n    );\n\n    return useMemo(\n        () =>\n            isMobile && (\n                <div className=\"floor-apply-mobile__button\">\n                    <button\n                        title={t`Apply Floor`}\n                        className={'primary action'}\n                        onClick={setFloorCallback}\n                        name={SET_FLOOR}\n                        value={selectedFabric}\n                    >\n                        {t`Apply Floor`}\n                    </button>\n                </div>\n            ),\n        [isMobile, setFloorCallback, selectedFabric]\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo, useCallback } from 'preact/hooks';\nimport { Fragment } from 'preact';\nimport { useConfiguratorContext } from '../../../Context/Configurator';\nimport { useStateButtonCallback } from '../../../hooks/useStateButtonCallback';\nimport { SET_FABRIC } from '../constants';\nimport { Price } from '../../../View/Price';\nimport { calculateTotalPrice } from '../../../calculator';\nimport { useTotalsContext } from '../../../Context/Totals';\nimport { Modal, useModalContext } from '../../../View/Modal';\nimport { useStateContext } from '../../../Context/State';\nimport { isCoverAvailable } from '../hooks/isCoverAvailable';\n\nexport const Info = () => {\n    const {\n        modal: { fabricId = null, fabricLeadTimeTab = null, previousModalType = null },\n    } = useModalContext();\n\n    const {\n        index: { fabricOptions },\n    } = useConfiguratorContext();\n\n    return useMemo(() => {\n        const fabric = fabricOptions?.[fabricLeadTimeTab]?.[fabricId];\n\n        if (!fabric) {\n            return;\n        }\n\n        return (\n            <Modal title={fabric.fabricName} closeTitle={t`Back to Cover`}>\n                <InfoBackButton previousModalType={previousModalType} fabricId={fabricId} />\n                <InfoContent fabric={fabric} fabricLeadTime={fabricLeadTimeTab} />\n            </Modal>\n        );\n    }, [fabricOptions, fabricLeadTimeTab, fabricId, previousModalType]);\n};\n\nconst InfoContent = ({ fabric: { fabricId, fabricName, fabricImage, additionalInfo = {} }, fabricLeadTime }) => {\n    return (\n        <Fragment>\n            <div className=\"more-info__item-details\">\n                <div className=\"description-wrapper description-wrapper--info\">\n                    <img className=\"item-image\" src={fabricImage} alt={fabricName} />\n                    <div className=\"item-info-list\">\n                        {Object.entries(additionalInfo).map(([title, value]) => (\n                            <div key={title}>\n                                <h4>{title}</h4>\n                                <p>{value}</p>\n                            </div>\n                        ))}\n                        <InfoPrice fabricLeadTime={fabricLeadTime} fabricId={fabricId} />\n                    </div>\n                </div>\n            </div>\n            <div className=\"more-info__actions-wrapper\">\n                <AddToSamplesButton fabricId={fabricId} />\n                <AddThisFabricButton fabricId={fabricId} />\n            </div>\n        </Fragment>\n    );\n};\n\nconst InfoPrice = ({ fabricLeadTime, fabricId }) => {\n    const { index } = useConfiguratorContext();\n    const {\n        modules: {\n            cover: { options, total },\n        },\n    } = useTotalsContext();\n\n    return useMemo(() => {\n        const newOptions = { ...options, fabricLeadTime, fabricId };\n        const coverPrice = calculateTotalPrice(index, newOptions).total - total;\n\n        return (\n            <div>\n                <h4>{`${t`Pricing`}`}</h4>\n                <p>\n                    {coverPrice >= 0 ? `+ ` : `- `}\n                    <Price value={Math.abs(coverPrice)} />\n                </p>\n            </div>\n        );\n    }, [index, fabricLeadTime, fabricId, options, total]);\n};\n\nconst AddToSamplesButton = ({ fabricId }) => {\n    const { setModal } = useModalContext();\n    const buttonCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'sample',\n                fabricId,\n            });\n\n            return true;\n        },\n        [fabricId, setModal]\n    );\n    const { state } = useStateContext();\n    const { index } = useConfiguratorContext();\n    const newState = {\n        ...state,\n        fabricId,\n        fabricLeadTime: state.fabricLeadTimeTab,\n    };\n    const disabledFabric = !isCoverAvailable(index, newState);\n\n    return (\n        <button\n            className=\"secondary-action\"\n            onClick={buttonCallback}\n            disabled={disabledFabric}\n        >{t`Add to My Fabric Swatches`}</button>\n    );\n};\n\nconst AddThisFabricButton = ({ fabricId }) => {\n    const { setModal } = useModalContext();\n    const setFabricCallback = useStateButtonCallback();\n    const setFabricCallbackAndClose = useCallback(\n        (event) => {\n            setFabricCallback(event);\n            setModal(null);\n        },\n        [setFabricCallback, setModal]\n    );\n    const { state } = useStateContext();\n    const { index } = useConfiguratorContext();\n    const newState = {\n        ...state,\n        fabricId,\n        fabricLeadTime: state.fabricLeadTimeTab,\n    };\n    const disabledFabric = !isCoverAvailable(index, newState);\n\n    return (\n        <button\n            className=\"primary-action action primary\"\n            name={SET_FABRIC}\n            value={fabricId}\n            onClick={setFabricCallbackAndClose}\n            disabled={disabledFabric}\n        >{`${t`Apply this Fabric`}`}</button>\n    );\n};\n\nconst InfoBackButton = ({ previousModalType, fabricId }) => {\n    const { setModal } = useModalContext();\n    const closeCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n            if (previousModalType) {\n                setModal({\n                    type: previousModalType,\n                    fabricId,\n                    fetchItems: true,\n                });\n                return true;\n            }\n\n            setModal(null);\n        },\n        [setModal, previousModalType, fabricId]\n    );\n\n    return (\n        <button\n            className=\"more-info__back-link more-info__back-link--filter show-mobile\"\n            title={`${t`Back to ${previousModalType}`}`}\n            onClick={closeCallback}\n        >\n            <span>{`${t`Back to ${previousModalType}`}`}</span>\n        </button>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { forwardRef } from 'preact/compat';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { PriceContainer } from '../../View/PriceContainer';\nimport { FinancingText } from '../../View/FinancingText';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateContext } from '../../Context/State';\n\nexport const SquattomanCoverHeader = forwardRef((props, ref) => {\n    const {\n        index: { fabricOptions },\n    } = useConfiguratorContext();\n    const {\n        state: { fabricId, fabricLeadTime },\n    } = useStateContext();\n    const selectedFabricName = fabricOptions?.[fabricLeadTime]?.[fabricId].fabricName;\n    const { total, totalWithoutDiscount } = useTotalsContext();\n\n    return (\n        <div ref={ref} className=\"squattoman-header header\">\n            <div className=\"squattoman-header__title\">{t`Squattoman Covers`}</div>\n            <div className=\"squattoman-header__subtitle\">{selectedFabricName}</div>\n            <PriceContainer total={total} totalWithoutDiscount={totalWithoutDiscount} />\n            <FinancingText />\n        </div>\n    );\n});\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\n\nexport const useHookCallback = (type, method) => {\n    return useCallback(\n        (...args) => {\n            if (type[method]) {\n                type[method](...args);\n            }\n            if (type.extra) {\n                for (const step of type.extra) {\n                    if (step[method]) {\n                        step[method](...args);\n                    }\n                }\n            }\n            for (const step of type.steps) {\n                if (step[method]) {\n                    step[method](...args);\n                }\n            }\n        },\n        [type, method]\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useMemo } from 'preact/hooks';\n\nexport const useModulesByMethod = (type, method) => {\n    return useMemo(() => {\n        const modules = [];\n        if (type[method]) {\n            modules.push(type);\n        }\n        if (type.extra) {\n            for (const step of type.extra) {\n                if (step[method]) {\n                    modules.push(step);\n                }\n            }\n        }\n        for (const step of type.steps) {\n            if (step[method]) {\n                modules.push(step);\n            }\n        }\n        return modules;\n    }, [type, method]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useRef } from 'preact/hooks';\nimport { FinancingContent } from '../../View/Financing';\nimport { ReviewContentStars } from '../../View/Review';\nimport { useNavigatorContext } from '../../Context/Navigator';\nimport { QtyIncrementor } from '../../View/QtyIncrementor';\nimport { ActionAddToCart } from '../../View/ActionAddToCart';\nimport { PriceContainer } from '../../View/PriceContainer';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { useScrollToReviewsCallback } from '../../View/ScrollToReviewsCallback';\nimport { SquattomanCoverHeader } from './SquattomanCoverHeader';\n\nexport const SquattomanCoverSidebar = () => {\n    const { total, totalWithoutDiscount } = useTotalsContext();\n    const squattomanCoverHeaderRef = useRef(null);\n\n    return (\n        <div className=\"step step-squattoman\">\n            <SquattomanCoverHeader ref={squattomanCoverHeaderRef} />\n            <StepView />\n            <QtyIncrementor show=\"mobile\" />\n            <div className=\"summary-actions summary-actions--throwpillow\">\n                <QtyIncrementor show=\"desktop\" />\n                <PriceContainer total={total} totalWithoutDiscount={totalWithoutDiscount} />\n                <ActionAddToCart />\n            </div>\n            <FinancingContent />\n            <div className=\"review\">\n                <ReviewContentStars />\n                <div className=\"total-reviews\">\n                    <a\n                        onClick={useScrollToReviewsCallback(squattomanCoverHeaderRef)}\n                        href=\"javascript: void(0)\"\n                    >{t`See All Reviews`}</a>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst StepView = () => {\n    const { step } = useNavigatorContext();\n    return <step.StepComponent />;\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactEasySwipe = _interopRequireDefault(require(\"react-easy-swipe\"));\n\nvar _cssClasses = _interopRequireDefault(require(\"../../cssClasses\"));\n\nvar _Thumbs = _interopRequireDefault(require(\"../Thumbs\"));\n\nvar _document = _interopRequireDefault(require(\"../../shims/document\"));\n\nvar _window = _interopRequireDefault(require(\"../../shims/window\"));\n\nvar _utils = require(\"./utils\");\n\nvar _animations = require(\"./animations\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Carousel = /*#__PURE__*/function (_React$Component) {\n  _inherits(Carousel, _React$Component);\n\n  var _super = _createSuper(Carousel);\n\n  // @ts-ignore\n  function Carousel(props) {\n    var _this;\n\n    _classCallCheck(this, Carousel);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"thumbsRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"carouselWrapperRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"listRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"itemsRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"timer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"animationHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setThumbsRef\", function (node) {\n      _this.thumbsRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCarouselWrapperRef\", function (node) {\n      _this.carouselWrapperRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setListRef\", function (node) {\n      _this.listRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsRef\", function (node, index) {\n      if (!_this.itemsRef) {\n        _this.itemsRef = [];\n      }\n\n      _this.itemsRef[index] = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"autoPlay\", function () {\n      if (_react.Children.count(_this.props.children) <= 1) {\n        return;\n      }\n\n      _this.clearAutoPlay();\n\n      if (!_this.props.autoPlay) {\n        return;\n      }\n\n      _this.timer = setTimeout(function () {\n        _this.increment();\n      }, _this.props.interval);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearAutoPlay\", function () {\n      if (_this.timer) clearTimeout(_this.timer);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAutoPlay\", function () {\n      _this.clearAutoPlay();\n\n      _this.autoPlay();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopOnHover\", function () {\n      _this.setState({\n        isMouseEntered: true\n      }, _this.clearAutoPlay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"startOnLeave\", function () {\n      _this.setState({\n        isMouseEntered: false\n      }, _this.autoPlay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isFocusWithinTheCarousel\", function () {\n      if (!_this.carouselWrapperRef) {\n        return false;\n      }\n\n      if ((0, _document.default)().activeElement === _this.carouselWrapperRef || _this.carouselWrapperRef.contains((0, _document.default)().activeElement)) {\n        return true;\n      }\n\n      return false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"navigateWithKeyboard\", function (e) {\n      if (!_this.isFocusWithinTheCarousel()) {\n        return;\n      }\n\n      var axis = _this.props.axis;\n      var isHorizontal = axis === 'horizontal';\n      var keyNames = {\n        ArrowUp: 38,\n        ArrowRight: 39,\n        ArrowDown: 40,\n        ArrowLeft: 37\n      };\n      var nextKey = isHorizontal ? keyNames.ArrowRight : keyNames.ArrowDown;\n      var prevKey = isHorizontal ? keyNames.ArrowLeft : keyNames.ArrowUp;\n\n      if (nextKey === e.keyCode) {\n        _this.increment();\n      } else if (prevKey === e.keyCode) {\n        _this.decrement();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateSizes\", function () {\n      if (!_this.state.initialized || !_this.itemsRef || _this.itemsRef.length === 0) {\n        return;\n      }\n\n      var isHorizontal = _this.props.axis === 'horizontal';\n      var firstItem = _this.itemsRef[0];\n\n      if (!firstItem) {\n        return;\n      }\n\n      var itemSize = isHorizontal ? firstItem.clientWidth : firstItem.clientHeight;\n\n      _this.setState({\n        itemSize: itemSize\n      });\n\n      if (_this.thumbsRef) {\n        _this.thumbsRef.updateSizes();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMountState\", function () {\n      _this.setState({\n        hasMount: true\n      });\n\n      _this.updateSizes();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickItem\", function (index, item) {\n      if (_react.Children.count(_this.props.children) === 0) {\n        return;\n      }\n\n      if (_this.state.cancelClick) {\n        _this.setState({\n          cancelClick: false\n        });\n\n        return;\n      }\n\n      _this.props.onClickItem(index, item);\n\n      if (index !== _this.state.selectedItem) {\n        _this.setState({\n          selectedItem: index\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnChange\", function (index, item) {\n      if (_react.Children.count(_this.props.children) <= 1) {\n        return;\n      }\n\n      _this.props.onChange(index, item);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickThumb\", function (index, item) {\n      _this.props.onClickThumb(index, item);\n\n      _this.moveTo(index);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeStart\", function (event) {\n      _this.setState({\n        swiping: true\n      });\n\n      _this.props.onSwipeStart(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeEnd\", function (event) {\n      _this.setState({\n        swiping: false,\n        cancelClick: false,\n        swipeMovementStarted: false\n      });\n\n      _this.props.onSwipeEnd(event);\n\n      _this.clearAutoPlay();\n\n      if (_this.state.autoPlay) {\n        _this.autoPlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeMove\", function (delta, event) {\n      _this.props.onSwipeMove(event);\n\n      var animationHandlerResponse = _this.props.swipeAnimationHandler(delta, _this.props, _this.state, _this.setState.bind(_assertThisInitialized(_this)));\n\n      _this.setState(_objectSpread({}, animationHandlerResponse)); // If we have not moved, we should have an empty object returned\n      // Return false to allow scrolling when not swiping\n\n\n      return !!Object.keys(animationHandlerResponse).length;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"decrement\", function () {\n      var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n      _this.moveTo(_this.state.selectedItem - (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"increment\", function () {\n      var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n      _this.moveTo(_this.state.selectedItem + (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"moveTo\", function (position) {\n      if (typeof position !== 'number') {\n        return;\n      }\n\n      var lastPosition = _react.Children.count(_this.props.children) - 1;\n\n      if (position < 0) {\n        position = _this.props.infiniteLoop ? lastPosition : 0;\n      }\n\n      if (position > lastPosition) {\n        position = _this.props.infiniteLoop ? 0 : lastPosition;\n      }\n\n      _this.selectItem({\n        // if it's not a slider, we don't need to set position here\n        selectedItem: position\n      }); // don't reset auto play when stop on hover is enabled, doing so will trigger a call to auto play more than once\n      // and will result in the interval function not being cleared correctly.\n\n\n      if (_this.state.autoPlay && _this.state.isMouseEntered === false) {\n        _this.resetAutoPlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickNext\", function () {\n      _this.increment(1);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickPrev\", function () {\n      _this.decrement(1);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeForward\", function () {\n      _this.increment(1);\n\n      if (_this.props.emulateTouch) {\n        _this.setState({\n          cancelClick: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeBackwards\", function () {\n      _this.decrement(1);\n\n      if (_this.props.emulateTouch) {\n        _this.setState({\n          cancelClick: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeItem\", function (newIndex) {\n      return function (e) {\n        if (!(0, _utils.isKeyboardEvent)(e) || e.key === 'Enter') {\n          _this.moveTo(newIndex);\n        }\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"selectItem\", function (state) {\n      // Merge in the new state while updating updating previous item\n      _this.setState(_objectSpread({\n        previousItem: _this.state.selectedItem\n      }, state), function () {\n        // Run animation handler and update styles based on it\n        _this.setState(_this.animationHandler(_this.props, _this.state));\n      });\n\n      _this.handleOnChange(state.selectedItem, _react.Children.toArray(_this.props.children)[state.selectedItem]);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getInitialImage\", function () {\n      var selectedItem = _this.props.selectedItem;\n      var item = _this.itemsRef && _this.itemsRef[selectedItem];\n      var images = item && item.getElementsByTagName('img') || [];\n      return images[0];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getVariableItemHeight\", function (position) {\n      var item = _this.itemsRef && _this.itemsRef[position];\n\n      if (_this.state.hasMount && item && item.children.length) {\n        var slideImages = item.children[0].getElementsByTagName('img') || [];\n\n        if (slideImages.length > 0) {\n          var image = slideImages[0];\n\n          if (!image.complete) {\n            // if the image is still loading, the size won't be available so we trigger a new render after it's done\n            var onImageLoad = function onImageLoad() {\n              _this.forceUpdate();\n\n              image.removeEventListener('load', onImageLoad);\n            };\n\n            image.addEventListener('load', onImageLoad);\n          }\n        } // try to get img first, if img not there find first display tag\n\n\n        var displayItem = slideImages[0] || item.children[0];\n        var height = displayItem.clientHeight;\n        return height > 0 ? height : null;\n      }\n\n      return null;\n    });\n\n    var initState = {\n      initialized: false,\n      previousItem: props.selectedItem,\n      selectedItem: props.selectedItem,\n      hasMount: false,\n      isMouseEntered: false,\n      autoPlay: props.autoPlay,\n      swiping: false,\n      swipeMovementStarted: false,\n      cancelClick: false,\n      itemSize: 1,\n      itemListStyle: {},\n      slideStyle: {},\n      selectedStyle: {},\n      prevStyle: {}\n    };\n    _this.animationHandler = typeof props.animationHandler === 'function' && props.animationHandler || props.animationHandler === 'fade' && _animations.fadeAnimationHandler || _animations.slideAnimationHandler;\n    _this.state = _objectSpread(_objectSpread({}, initState), _this.animationHandler(props, initState));\n    return _this;\n  }\n\n  _createClass(Carousel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.props.children) {\n        return;\n      }\n\n      this.setupCarousel();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!prevProps.children && this.props.children && !this.state.initialized) {\n        this.setupCarousel();\n      }\n\n      if (!prevProps.autoFocus && this.props.autoFocus) {\n        this.forceFocus();\n      }\n\n      if (prevState.swiping && !this.state.swiping) {\n        // We stopped swiping, ensure we are heading to the new/current slide and not stuck\n        this.setState(_objectSpread({}, this.props.stopSwipingHandler(this.props, this.state)));\n      }\n\n      if (prevProps.selectedItem !== this.props.selectedItem || prevProps.centerMode !== this.props.centerMode) {\n        this.updateSizes();\n        this.moveTo(this.props.selectedItem);\n      }\n\n      if (prevProps.autoPlay !== this.props.autoPlay) {\n        if (this.props.autoPlay) {\n          this.setupAutoPlay();\n        } else {\n          this.destroyAutoPlay();\n        }\n\n        this.setState({\n          autoPlay: this.props.autoPlay\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyCarousel();\n    }\n  }, {\n    key: \"setupCarousel\",\n    value: function setupCarousel() {\n      var _this2 = this;\n\n      this.bindEvents();\n\n      if (this.state.autoPlay && _react.Children.count(this.props.children) > 1) {\n        this.setupAutoPlay();\n      }\n\n      if (this.props.autoFocus) {\n        this.forceFocus();\n      }\n\n      this.setState({\n        initialized: true\n      }, function () {\n        var initialImage = _this2.getInitialImage();\n\n        if (initialImage && !initialImage.complete) {\n          // if it's a carousel of images, we set the mount state after the first image is loaded\n          initialImage.addEventListener('load', _this2.setMountState);\n        } else {\n          _this2.setMountState();\n        }\n      });\n    }\n  }, {\n    key: \"destroyCarousel\",\n    value: function destroyCarousel() {\n      if (this.state.initialized) {\n        this.unbindEvents();\n        this.destroyAutoPlay();\n      }\n    }\n  }, {\n    key: \"setupAutoPlay\",\n    value: function setupAutoPlay() {\n      this.autoPlay();\n      var carouselWrapper = this.carouselWrapperRef;\n\n      if (this.props.stopOnHover && carouselWrapper) {\n        carouselWrapper.addEventListener('mouseenter', this.stopOnHover);\n        carouselWrapper.addEventListener('mouseleave', this.startOnLeave);\n      }\n    }\n  }, {\n    key: \"destroyAutoPlay\",\n    value: function destroyAutoPlay() {\n      this.clearAutoPlay();\n      var carouselWrapper = this.carouselWrapperRef;\n\n      if (this.props.stopOnHover && carouselWrapper) {\n        carouselWrapper.removeEventListener('mouseenter', this.stopOnHover);\n        carouselWrapper.removeEventListener('mouseleave', this.startOnLeave);\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      // as the widths are calculated, we need to resize\n      // the carousel when the window is resized\n      (0, _window.default)().addEventListener('resize', this.updateSizes); // issue #2 - image loading smaller\n\n      (0, _window.default)().addEventListener('DOMContentLoaded', this.updateSizes);\n\n      if (this.props.useKeyboardArrows) {\n        (0, _document.default)().addEventListener('keydown', this.navigateWithKeyboard);\n      }\n    }\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      // removing listeners\n      (0, _window.default)().removeEventListener('resize', this.updateSizes);\n      (0, _window.default)().removeEventListener('DOMContentLoaded', this.updateSizes);\n      var initialImage = this.getInitialImage();\n\n      if (initialImage) {\n        initialImage.removeEventListener('load', this.setMountState);\n      }\n\n      if (this.props.useKeyboardArrows) {\n        (0, _document.default)().removeEventListener('keydown', this.navigateWithKeyboard);\n      }\n    }\n  }, {\n    key: \"forceFocus\",\n    value: function forceFocus() {\n      var _this$carouselWrapper;\n\n      (_this$carouselWrapper = this.carouselWrapperRef) === null || _this$carouselWrapper === void 0 ? void 0 : _this$carouselWrapper.focus();\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems(isClone) {\n      var _this3 = this;\n\n      if (!this.props.children) {\n        return [];\n      }\n\n      return _react.Children.map(this.props.children, function (item, index) {\n        var isSelected = index === _this3.state.selectedItem;\n        var isPrevious = index === _this3.state.previousItem;\n        var style = isSelected && _this3.state.selectedStyle || isPrevious && _this3.state.prevStyle || _this3.state.slideStyle || {};\n\n        if (_this3.props.centerMode && _this3.props.axis === 'horizontal') {\n          style = _objectSpread(_objectSpread({}, style), {}, {\n            minWidth: _this3.props.centerSlidePercentage + '%'\n          });\n        }\n\n        if (_this3.state.swiping && _this3.state.swipeMovementStarted) {\n          style = _objectSpread(_objectSpread({}, style), {}, {\n            pointerEvents: 'none'\n          });\n        }\n\n        var slideProps = {\n          ref: function ref(e) {\n            return _this3.setItemsRef(e, index);\n          },\n          key: 'itemKey' + index + (isClone ? 'clone' : ''),\n          className: _cssClasses.default.ITEM(true, index === _this3.state.selectedItem, index === _this3.state.previousItem),\n          onClick: _this3.handleClickItem.bind(_this3, index, item),\n          style: style\n        };\n        return /*#__PURE__*/_react.default.createElement(\"li\", slideProps, _this3.props.renderItem(item, {\n          isSelected: index === _this3.state.selectedItem,\n          isPrevious: index === _this3.state.previousItem\n        }));\n      });\n    }\n  }, {\n    key: \"renderControls\",\n    value: function renderControls() {\n      var _this4 = this;\n\n      var _this$props = this.props,\n          showIndicators = _this$props.showIndicators,\n          labels = _this$props.labels,\n          renderIndicator = _this$props.renderIndicator,\n          children = _this$props.children;\n\n      if (!showIndicators) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"ul\", {\n        className: \"control-dots\"\n      }, _react.Children.map(children, function (_, index) {\n        return renderIndicator && renderIndicator(_this4.changeItem(index), index === _this4.state.selectedItem, index, labels.item);\n      }));\n    }\n  }, {\n    key: \"renderStatus\",\n    value: function renderStatus() {\n      if (!this.props.showStatus) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"p\", {\n        className: \"carousel-status\"\n      }, this.props.statusFormatter(this.state.selectedItem + 1, _react.Children.count(this.props.children)));\n    }\n  }, {\n    key: \"renderThumbs\",\n    value: function renderThumbs() {\n      if (!this.props.showThumbs || !this.props.children || _react.Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(_Thumbs.default, {\n        ref: this.setThumbsRef,\n        onSelectItem: this.handleClickThumb,\n        selectedItem: this.state.selectedItem,\n        transitionTime: this.props.transitionTime,\n        thumbWidth: this.props.thumbWidth,\n        labels: this.props.labels,\n        emulateTouch: this.props.emulateTouch\n      }, this.props.renderThumbs(this.props.children));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      if (!this.props.children || _react.Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      var isSwipeable = this.props.swipeable && _react.Children.count(this.props.children) > 1;\n      var isHorizontal = this.props.axis === 'horizontal';\n      var canShowArrows = this.props.showArrows && _react.Children.count(this.props.children) > 1; // show left arrow?\n\n      var hasPrev = canShowArrows && (this.state.selectedItem > 0 || this.props.infiniteLoop) || false; // show right arrow\n\n      var hasNext = canShowArrows && (this.state.selectedItem < _react.Children.count(this.props.children) - 1 || this.props.infiniteLoop) || false;\n      var itemsClone = this.renderItems(true);\n      var firstClone = itemsClone.shift();\n      var lastClone = itemsClone.pop();\n      var swiperProps = {\n        className: _cssClasses.default.SLIDER(true, this.state.swiping),\n        onSwipeMove: this.onSwipeMove,\n        onSwipeStart: this.onSwipeStart,\n        onSwipeEnd: this.onSwipeEnd,\n        style: this.state.itemListStyle,\n        tolerance: this.props.swipeScrollTolerance\n      };\n      var containerStyles = {};\n\n      if (isHorizontal) {\n        swiperProps.onSwipeLeft = this.onSwipeForward;\n        swiperProps.onSwipeRight = this.onSwipeBackwards;\n\n        if (this.props.dynamicHeight) {\n          var itemHeight = this.getVariableItemHeight(this.state.selectedItem); // swiperProps.style.height = itemHeight || 'auto';\n\n          containerStyles.height = itemHeight || 'auto';\n        }\n      } else {\n        swiperProps.onSwipeUp = this.props.verticalSwipe === 'natural' ? this.onSwipeBackwards : this.onSwipeForward;\n        swiperProps.onSwipeDown = this.props.verticalSwipe === 'natural' ? this.onSwipeForward : this.onSwipeBackwards;\n        swiperProps.style = _objectSpread(_objectSpread({}, swiperProps.style), {}, {\n          height: this.state.itemSize\n        });\n        containerStyles.height = this.state.itemSize;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        \"aria-label\": this.props.ariaLabel,\n        className: _cssClasses.default.ROOT(this.props.className),\n        ref: this.setCarouselWrapperRef,\n        tabIndex: this.props.useKeyboardArrows ? 0 : undefined\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.CAROUSEL(true),\n        style: {\n          width: this.props.width\n        }\n      }, this.renderControls(), this.props.renderArrowPrev(this.onClickPrev, hasPrev, this.props.labels.leftArrow), /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.WRAPPER(true, this.props.axis),\n        style: containerStyles\n      }, isSwipeable ? /*#__PURE__*/_react.default.createElement(_reactEasySwipe.default, _extends({\n        tagName: \"ul\",\n        innerRef: this.setListRef\n      }, swiperProps, {\n        allowMouseEvents: this.props.emulateTouch\n      }), this.props.infiniteLoop && lastClone, this.renderItems(), this.props.infiniteLoop && firstClone) : /*#__PURE__*/_react.default.createElement(\"ul\", {\n        className: _cssClasses.default.SLIDER(true, this.state.swiping),\n        ref: function ref(node) {\n          return _this5.setListRef(node);\n        },\n        style: this.state.itemListStyle || {}\n      }, this.props.infiniteLoop && lastClone, this.renderItems(), this.props.infiniteLoop && firstClone)), this.props.renderArrowNext(this.onClickNext, hasNext, this.props.labels.rightArrow), this.renderStatus()), this.renderThumbs());\n    }\n  }]);\n\n  return Carousel;\n}(_react.default.Component);\n\nexports.default = Carousel;\n\n_defineProperty(Carousel, \"displayName\", 'Carousel');\n\n_defineProperty(Carousel, \"defaultProps\", {\n  ariaLabel: undefined,\n  axis: 'horizontal',\n  centerSlidePercentage: 80,\n  interval: 3000,\n  labels: {\n    leftArrow: 'previous slide / item',\n    rightArrow: 'next slide / item',\n    item: 'slide item'\n  },\n  onClickItem: _utils.noop,\n  onClickThumb: _utils.noop,\n  onChange: _utils.noop,\n  onSwipeStart: function onSwipeStart() {},\n  onSwipeEnd: function onSwipeEnd() {},\n  onSwipeMove: function onSwipeMove() {\n    return false;\n  },\n  preventMovementUntilSwipeScrollTolerance: false,\n  renderArrowPrev: function renderArrowPrev(onClickHandler, hasPrev, label) {\n    return /*#__PURE__*/_react.default.createElement(\"button\", {\n      type: \"button\",\n      \"aria-label\": label,\n      className: _cssClasses.default.ARROW_PREV(!hasPrev),\n      onClick: onClickHandler\n    });\n  },\n  renderArrowNext: function renderArrowNext(onClickHandler, hasNext, label) {\n    return /*#__PURE__*/_react.default.createElement(\"button\", {\n      type: \"button\",\n      \"aria-label\": label,\n      className: _cssClasses.default.ARROW_NEXT(!hasNext),\n      onClick: onClickHandler\n    });\n  },\n  renderIndicator: function renderIndicator(onClickHandler, isSelected, index, label) {\n    return /*#__PURE__*/_react.default.createElement(\"li\", {\n      className: _cssClasses.default.DOT(isSelected),\n      onClick: onClickHandler,\n      onKeyDown: onClickHandler,\n      value: index,\n      key: index,\n      role: \"button\",\n      tabIndex: 0,\n      \"aria-label\": \"\".concat(label, \" \").concat(index + 1)\n    });\n  },\n  renderItem: function renderItem(item) {\n    return item;\n  },\n  renderThumbs: function renderThumbs(children) {\n    var images = _react.Children.map(children, function (item) {\n      var img = item; // if the item is not an image, try to find the first image in the item's children.\n\n      if (item.type !== 'img') {\n        img = _react.Children.toArray(item.props.children).find(function (children) {\n          return children.type === 'img';\n        });\n      }\n\n      if (!img) {\n        return undefined;\n      }\n\n      return img;\n    });\n\n    if (images.filter(function (image) {\n      return image;\n    }).length === 0) {\n      console.warn(\"No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md\");\n      return [];\n    }\n\n    return images;\n  },\n  statusFormatter: _utils.defaultStatusFormatter,\n  selectedItem: 0,\n  showArrows: true,\n  showIndicators: true,\n  showStatus: true,\n  showThumbs: true,\n  stopOnHover: true,\n  swipeScrollTolerance: 5,\n  swipeable: true,\n  transitionTime: 350,\n  verticalSwipe: 'standard',\n  width: '100%',\n  animationHandler: 'slide',\n  swipeAnimationHandler: _animations.slideSwipeAnimationHandler,\n  stopSwipingHandler: _animations.slideStopSwipingHandler\n});","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { useBrowserContext } from '../Context/Browser';\n\nexport const useScrollToReviewsCallback = (headerRef) => {\n    const yotpoContainer = document.querySelector('.yotpo-container');\n    const { isMobile } = useBrowserContext();\n\n    return useCallback(() => {\n        if (yotpoContainer && headerRef.current) {\n            const yotpoOffsetTop = yotpoContainer.offsetTop;\n            const yotpoMarginTop = parseInt(window.getComputedStyle(yotpoContainer).getPropertyValue('margin-top'), 10);\n            const headerBottom = isMobile ? headerRef.current.getBoundingClientRect().bottom : 0;\n            const yotpoContainerScrollY = yotpoOffsetTop - yotpoMarginTop - headerBottom;\n            window.scroll(0, yotpoContainerScrollY);\n        }\n    }, [headerRef, yotpoContainer, isMobile]);\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default() {\n  return window;\n};\n\nexports.default = _default;","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { Info } from './Info';\n\nexport default {\n    info: <Info />,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { useStateInputCallback } from '../../hooks/useStateInputCallback';\nimport { useStateContext } from '../../Context/State';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { Price } from '../../View/Price';\nimport { useTotals } from '../../hooks/useTotals';\nimport { useHookCallback } from '../../hooks/useHookCallback';\nimport { SET_CONFIGURATION, SET_CONFIGURATION_TYPE, TYPE_CUSTOM } from './constants';\n\nexport const TabPreBuilt = () => {\n    const {\n        index: { preBuiltGroups, configuratorType },\n    } = useConfiguratorContext();\n\n    return useMemo(\n        () => (\n            <div className=\"sidebar-items\">\n                {Object.entries(preBuiltGroups).map(([groupCode, groupData]) => (\n                    <PreBuiltGroup key={groupCode} {...groupData} configuratorType={configuratorType} />\n                ))}\n            </div>\n        ),\n        [preBuiltGroups, configuratorType]\n    );\n};\n\nconst PreBuiltGroup = ({ groupName, items, configuratorType }) => {\n    return (\n        <div>\n            <span className=\"sidebar-items__title\">{`${groupName} (${Object.keys(items).length})`}</span>\n            <div className=\"sidebar-items_wrapper configure\">\n                {Object.entries(items).map(([code, item]) => (\n                    <PreBuiltItem code={code} item={item} configuratorType={configuratorType} key={code} />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nconst PreBuiltItem = ({ code, item: { image, title }, configuratorType }) => {\n    return (\n        <label className={`sidebar-item ${configuratorType}`}>\n            <PreBuiltItemInput code={code} />\n            <PreBuiltItemEdit />\n            <img src={image} alt={title} />\n            <span className=\"sidebar-item-title\">{title}</span>\n            <PreBuiltItemPrice code={code} />\n        </label>\n    );\n};\n\nconst PreBuiltItemEdit = () => {\n    const { dispatch } = useStateContext();\n    const editConfiguration = useCallback(\n        (event) => {\n            event.preventDefault();\n            dispatch({\n                type: SET_CONFIGURATION_TYPE,\n                value: TYPE_CUSTOM,\n            });\n        },\n        [dispatch]\n    );\n\n    return useMemo(\n        () => (\n            <div className=\"edit-piece-container\">\n                <a className=\"edit-piece-configuration\" title={t`Edit`} onClick={editConfiguration}>\n                    {t`Edit`}\n                </a>\n            </div>\n        ),\n        [editConfiguration]\n    );\n};\n\nconst PreBuiltItemPrice = ({ code }) => {\n    const { state } = useStateContext();\n    const { type, index } = useConfiguratorContext();\n    const updateStateCallback = useHookCallback(type, 'updateState');\n\n    const newState = useMemo(() => {\n        const newState = { ...state };\n        updateStateCallback(newState, index, {\n            type: SET_CONFIGURATION,\n            value: code,\n        });\n        return newState;\n    }, [code, index, state, updateStateCallback]);\n    const { total, totalWithoutDiscount } = useTotals(newState, false);\n\n    return useMemo(() => {\n        return (\n            <span>\n                {totalWithoutDiscount > total && (\n                    <s>\n                        <Price value={totalWithoutDiscount} />\n                    </s>\n                )}{' '}\n                <Price value={total} />\n            </span>\n        );\n    }, [total, totalWithoutDiscount]);\n};\n\nconst PreBuiltItemInput = ({ code }) => {\n    const {\n        state: { configuration },\n    } = useStateContext();\n\n    const handleChange = useStateInputCallback();\n\n    return useMemo(\n        () => (\n            <input\n                type=\"radio\"\n                className=\"sidebar-item-input\"\n                name={SET_CONFIGURATION}\n                checked={code === configuration}\n                onChange={handleChange}\n                value={code}\n            />\n        ),\n        [handleChange, code, configuration]\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { createContext } from 'preact';\nimport { useContext, useState, useMemo } from 'preact/hooks';\nimport { CurrentModal } from './CurrentModal';\n\nconst ModalContext = createContext({});\n\nexport const useModalContext = () => useContext(ModalContext);\n\nexport const ModalContextProvider = ({ children, types }) => {\n    const [modal, setModal] = useState();\n    const value = useMemo(() => ({ modal, setModal }), [modal, setModal]);\n\n    return (\n        <ModalContext.Provider value={value}>\n            <CurrentModal types={types} />\n            {children}\n        </ModalContext.Provider>\n    );\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setPosition = exports.getPosition = exports.isKeyboardEvent = exports.defaultStatusFormatter = exports.noop = void 0;\n\nvar _react = require(\"react\");\n\nvar _CSSTranslate = _interopRequireDefault(require(\"../../CSSTranslate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar noop = function noop() {};\n\nexports.noop = noop;\n\nvar defaultStatusFormatter = function defaultStatusFormatter(current, total) {\n  return \"\".concat(current, \" of \").concat(total);\n};\n\nexports.defaultStatusFormatter = defaultStatusFormatter;\n\nvar isKeyboardEvent = function isKeyboardEvent(e) {\n  return e ? e.hasOwnProperty('key') : false;\n};\n/**\n * Gets the list 'position' relative to a current index\n * @param index\n */\n\n\nexports.isKeyboardEvent = isKeyboardEvent;\n\nvar getPosition = function getPosition(index, props) {\n  if (props.infiniteLoop) {\n    // index has to be added by 1 because of the first cloned slide\n    ++index;\n  }\n\n  if (index === 0) {\n    return 0;\n  }\n\n  var childrenLength = _react.Children.count(props.children);\n\n  if (props.centerMode && props.axis === 'horizontal') {\n    var currentPosition = -index * props.centerSlidePercentage;\n    var lastPosition = childrenLength - 1;\n\n    if (index && (index !== lastPosition || props.infiniteLoop)) {\n      currentPosition += (100 - props.centerSlidePercentage) / 2;\n    } else if (index === lastPosition) {\n      currentPosition += 100 - props.centerSlidePercentage;\n    }\n\n    return currentPosition;\n  }\n\n  return -index * 100;\n};\n/**\n * Sets the 'position' transform for sliding animations\n * @param position\n * @param forceReflow\n */\n\n\nexports.getPosition = getPosition;\n\nvar setPosition = function setPosition(position, axis) {\n  var style = {};\n  ['WebkitTransform', 'MozTransform', 'MsTransform', 'OTransform', 'transform', 'msTransform'].forEach(function (prop) {\n    // @ts-ignore\n    style[prop] = (0, _CSSTranslate.default)(position, '%', axis);\n  });\n  return style;\n};\n\nexports.setPosition = setPosition;","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { MeasurementButton } from '../../../View/Player/Toolbar/MeasurementButton';\nimport { FloorButton } from '../../../View/Player/Toolbar/FloorButton';\nimport { ZoomButton } from '../../../View/Player/Toolbar/ZoomButton';\nimport ToolbarModals from '../../../View/Player/Toolbar/Modal';\nimport { ModalContextProvider } from '../../../View/Modal';\n\nexport const VrayPlayerToolbar = () => {\n    return (\n        <ModalContextProvider types={ToolbarModals}>\n            <div className=\"player-toolbar\">\n                <MeasurementButton title={t`Toggle Measurement`} />\n                <FloorButton title={t`Change Floor`} />\n                <ZoomButton title={t`Augmented Reality`} />\n            </div>\n        </ModalContextProvider>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useEffect, useMemo, useCallback } from 'preact/hooks';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useSaveConfigurationRequest } from '../../hooks/useSaveConfigurationRequest';\nimport { useDataLayerContext } from '../../Context/DataLayer';\n\nexport const ActionShare = () => {\n    const {\n        config: { shareUrl },\n    } = useConfiguratorContext();\n    const [{ data, loading }, saveConfiguration] = useSaveConfigurationRequest();\n    const push = useDataLayerContext();\n\n    const saveConfigurationAndGetUrl = useCallback(async () => {\n        const { data } = await saveConfiguration();\n        if (data && data.sharing_code) {\n            return shareUrl.replace('CODE', data.sharing_code);\n        }\n        return '';\n    }, [saveConfiguration, shareUrl]);\n\n    const saveButtonCallback = useCallback(\n        async (event) => {\n            event.preventDefault();\n            if (window.ClipboardItem) {\n                // Safari and other browsers\n                const getUrlBlob = async () => {\n                    const url = await saveConfigurationAndGetUrl();\n                    return new Blob([url], { type: 'text/plain' });\n                };\n                const text = new window.ClipboardItem({ 'text/plain': getUrlBlob() });\n                navigator.clipboard.write([text]);\n            } else {\n                // Firefox\n                const url = await saveConfigurationAndGetUrl();\n                await navigator.clipboard.writeText(url);\n            }\n        },\n        [saveConfigurationAndGetUrl]\n    );\n\n    useEffect(() => {\n        if (data) {\n            push({\n                event: 'share',\n                shareCode: data.sharing_code,\n            });\n        }\n    }, [data, push]);\n\n    return useMemo(() => {\n        return (\n            <div className=\"configurator-share-action\">\n                <a className={loading ? 'disable' : ''} onClick={saveButtonCallback}>\n                    {loading ? t`Copying` : data ? t`Copied` : t`Copy link`}\n                </a>\n            </div>\n        );\n    }, [loading, data, saveButtonCallback]);\n};\n\nexport const ActionShareMail = () => {\n    const {\n        config: { baseUrl },\n    } = useConfiguratorContext();\n    const [{ data }, saveButtonCallback] = useSaveConfigurationRequest();\n    const push = useDataLayerContext();\n\n    useEffect(() => {\n        if (data) {\n            push({\n                event: 'share',\n                shareCode: data.sharing_code,\n            });\n            window.open(`${baseUrl}configurator/share/index?id=${data.sharing_code}`, `_blank`);\n        }\n    }, [baseUrl, data, push]);\n\n    return <a onClick={saveButtonCallback} className=\"mail\" />;\n};\n\nexport const ActionShareFacebook = () => {\n    const {\n        config: { shareUrl },\n    } = useConfiguratorContext();\n    const [{ data }, saveButtonCallback] = useSaveConfigurationRequest();\n    const push = useDataLayerContext();\n\n    useEffect(() => {\n        if (data) {\n            push({\n                event: 'share',\n                shareCode: data.sharing_code,\n            });\n            const encodedConfiguratorUrl = encodeURIComponent(shareUrl.replace('CODE', data.sharing_code));\n            window.open(`https://www.facebook.com/sharer.php?u=${encodedConfiguratorUrl}`, `_blank`);\n        }\n    }, [shareUrl, data, push]);\n\n    return <a onClick={saveButtonCallback} className=\"facebook\" />;\n};\n\nexport const ActionShareTwitter = () => {\n    const {\n        config: { shareUrl },\n        type,\n    } = useConfiguratorContext();\n    const [{ data }, saveButtonCallback] = useSaveConfigurationRequest();\n    const push = useDataLayerContext();\n\n    useEffect(() => {\n        if (data) {\n            push({\n                event: 'share',\n                shareCode: data.sharing_code,\n            });\n            const encodedConfiguratorUrl = encodeURIComponent(shareUrl.replace('CODE', data.sharing_code));\n            const encodedText = encodeURIComponent(type.title);\n            window.open(\n                `https://twitter.com/intent/tweet?url=${encodedConfiguratorUrl}&text=${encodedText}&hashtags=${encodedText}`,\n                `_blank`\n            );\n        }\n    }, [shareUrl, data, type, push]);\n\n    return <a onClick={saveButtonCallback} className=\"twitter\" />;\n};\n\nexport const ActionSharePinterest = () => {\n    const {\n        config: { shareUrl },\n        type,\n    } = useConfiguratorContext();\n    const [{ data }, saveButtonCallback] = useSaveConfigurationRequest();\n    const push = useDataLayerContext();\n\n    useEffect(() => {\n        if (data) {\n            push({\n                event: 'share',\n                shareCode: data.sharing_code,\n            });\n            const encodedConfiguratorUrl = encodeURIComponent(shareUrl.replace('CODE', data.sharing_code));\n            const encodedText = encodeURIComponent(type.title);\n            const encodedImage = encodeURIComponent(data.screenShotUrl);\n            window.open(\n                `https://www.pinterest.com/pin/create/link/?url=${encodedConfiguratorUrl}&media=${encodedImage}&description=${encodedText}`,\n                `_blank`\n            );\n        }\n    }, [shareUrl, data, type, push]);\n\n    return <a onClick={saveButtonCallback} className=\"pinterest\" />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport * from './ActionAddToCart';\n","/* eslint-disable global-require */\n\nif (process.env.NODE_ENV === 'production') {\n    module.exports = require('./dist/ttag.min.js');\n} else {\n    module.exports = require('./dist/ttag.js');\n}\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useEffect, useErrorBoundary } from 'preact/hooks';\nimport { Fragment } from 'preact';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateContext } from '../../Context/State';\nimport { usePlayerContext } from '../../Context/Player';\nimport { useModulesByMethod } from '../../hooks/useModulesByMethod';\nimport { usePlayerFloorId } from './Toolbar/FloorButton';\n\nexport const PlayerStateSync = () => {\n    const { type } = useConfiguratorContext();\n    const modules = useModulesByMethod(type, 'usePlayerSync');\n\n    return (\n        <Fragment>\n            <Fragment>\n                {modules.map((module, index) => (\n                    <ModuleStateSync module={module} key={index} />\n                ))}\n            </Fragment>\n            <MeasurementStateSync />\n            <FloorStateSync />\n        </Fragment>\n    );\n};\n\nconst ModuleStateSync = ({ module }) => {\n    // eslint-disable-next-line no-console\n    useErrorBoundary((error) => console.error(error));\n    const { state: playerState } = usePlayerContext();\n    const { state } = useStateContext();\n    const { index } = useConfiguratorContext();\n    module.usePlayerSync(playerState, state, index);\n};\n\nconst MeasurementStateSync = () => {\n    const {\n        state: { isMeasurementEnabled, api },\n    } = usePlayerContext();\n\n    useEffect(() => {\n        if (api.toggleMeasurement) {\n            if (isMeasurementEnabled) {\n                api.toggleMeasurement('on');\n            } else {\n                api.toggleMeasurement('off');\n            }\n        }\n    }, [api, isMeasurementEnabled]);\n};\n\nconst FloorStateSync = () => {\n    const tkFloor = usePlayerFloorId();\n    const {\n        state: { api },\n    } = usePlayerContext();\n\n    useEffect(() => {\n        if (api.setFloor) {\n            api.setFloor(tkFloor);\n        }\n    }, [api, tkFloor]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { usePlayerContext } from '../../../Context/Player';\nimport { TOGGLE_MEASUREMENT } from '../constants';\n\nexport const MeasurementButton = ({ title }) => {\n    const {\n        dispatch,\n        state: { isMeasurementEnabled },\n    } = usePlayerContext();\n\n    const callback = useCallback(\n        (event) => {\n            event.preventDefault();\n            dispatch({ type: TOGGLE_MEASUREMENT });\n        },\n        [dispatch]\n    );\n\n    return (\n        <button\n            className={!isMeasurementEnabled ? 'player-button measurement' : 'player-button measurement active'}\n            onClick={callback}\n            title={title}\n        >\n            <span>{title}</span>\n        </button>\n    );\n};\n","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {import('./internal').Component} a\n * @param {import('./internal').Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c;\n\trerenderQueue.sort(depthSort);\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile ((c = rerenderQueue.shift())) {\n\t\tif (c._dirty) {\n\t\t\tlet renderQueueLength = rerenderQueue.length;\n\t\t\trenderComponent(c);\n\t\t\tif (rerenderQueue.length > renderQueueLength) {\n\t\t\t\t// When i.e. rerendering a provider additional new items can be injected, we want to\n\t\t\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t\t\t// single pass\n\t\t\t\trerenderQueue.sort(depthSort);\n\t\t\t}\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == null ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getLastDom(oldParentVNode).nextSibling;\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(parentDom, vnode, vnode, c, vnode._dom, oldDom);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 1\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * @param {import('../internal').VNode} vnode\n */\nfunction getLastDom(vnode) {\n\tif (vnode.type == null || typeof vnode.type === 'string') {\n\t\treturn vnode._dom;\n\t}\n\n\tif (vnode._children) {\n\t\tfor (let i = vnode._children.length - 1; i >= 0; i--) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child) {\n\t\t\t\tlet lastDom = getLastDom(child);\n\t\t\t\tif (lastDom) {\n\t\t\t\t\treturn lastDom;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value == null ? '' : value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'width' &&\n\t\t\tname !== 'height' &&\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name.indexOf('-') != -1)) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\treturn this._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// In cases of bailing due to strict-equality we have to reset force as well\n\t\t\t\t\tc._force = false;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t\tvnode._component = undefined;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type !== 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\t/** @type {import('./internal').Component[]} */\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback, useEffect, useState } from 'preact/hooks';\nimport { t } from 'ttag';\nimport { usePlayerContext } from '../../../../../Context/Player';\nimport { PLAYER_WEBGL_MODE } from '../../../../../View/Player/constants';\nimport { useModalContext } from '../../../../../View/Modal';\nimport { useStateContext } from '../../../../../Context/State';\nimport { NO_STEALTHTECH_CODE } from '../../../../../Step/Stealthtech/constants';\n\nexport const PlayerBottomButtons = () => {\n    const {\n        state: { api, mode },\n    } = usePlayerContext();\n\n    const [selectItem, setSelectItem] = useState(null);\n\n    const handleSelectChange = useCallback(\n        (event) => {\n            if (mode === PLAYER_WEBGL_MODE) {\n                const id = event.detail.id;\n                const selectItem = id && api.getItemById(id);\n                setSelectItem(selectItem);\n            }\n        },\n        [mode, api]\n    );\n\n    useEffect(() => {\n        window.addEventListener('itemSelect', handleSelectChange);\n        return () => {\n            window.removeEventListener('itemSelect', handleSelectChange);\n        };\n    }, [handleSelectChange]);\n\n    return selectItem ? <PlayerBottomButtonsVisible /> : null;\n};\n\nconst PlayerBottomButtonsVisible = () => {\n    return (\n        <div className=\"player-toolbar__bottom-wrapper\">\n            <RotateButton />\n            <RemoveButton />\n        </div>\n    );\n};\n\nconst RotateButton = () => {\n    const {\n        state: { api },\n    } = usePlayerContext();\n\n    const rotateCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n            if (api.incrementSelectItemRotation) {\n                api.incrementSelectItemRotation();\n            }\n        },\n        [api]\n    );\n\n    return (\n        <button className=\"player-bottom-button rotate\" onClick={rotateCallback}>\n            <span>{t`Rotate`}</span>\n        </button>\n    );\n};\n\nconst RemoveButton = () => {\n    const { setModal } = useModalContext();\n    const {\n        state: { api },\n    } = usePlayerContext();\n    const {\n        state: { stealthtech },\n    } = useStateContext();\n\n    const removeCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n\n            if (api) {\n                let showModal = false;\n\n                if (stealthtech && stealthtech !== NO_STEALTHTECH_CODE) {\n                    const itemId = api.getSelectItem()._id;\n                    const stealthTechEligible = api.checkEligibility(itemId);\n                    const eligibleStealthtechOptions = stealthTechEligible\n                        ? stealthTechEligible.map((item) => item.key)\n                        : [];\n                    if (!eligibleStealthtechOptions.includes(stealthtech)) {\n                        showModal = true;\n                    }\n                }\n\n                if (showModal) {\n                    setModal({\n                        type: 'deleteItemModal',\n                    });\n                } else if (api.deleteItem) {\n                    api.deleteItem();\n                }\n            }\n        },\n        [api, setModal, stealthtech]\n    );\n\n    return (\n        <button className=\"player-bottom-button remove\" onClick={removeCallback}>\n            <span>{t`Remove`}</span>\n        </button>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const PLAYER_VRAY_MODE = '2D';\nexport const PLAYER_WEBGL_MODE = '3D';\nexport const SET_LOADED = 'setLoaded';\nexport const SET_INITIALIZED = 'setInitialized';\nexport const SET_UNINITIALIZED = 'setUninitialized';\nexport const TOGGLE_MEASUREMENT = 'toggleMeasurement';\nexport const SET_FLOOR = 'setFloor';\nexport const SET_ROOM_SIZE = 'setRoomSize';\nexport const SET_ORTHOGRAPHIC = 'setOrthographic';\nexport const TOGGLE_PLAYER_MESSAGE = 'showPlayerMessage';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport { StepTabs } from './StepTabs';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport const getPiecesTitle = (index, { pieces: statePieces }) => {\n    const pieceQtys = {};\n    for (const pieceKey in statePieces) {\n        const qty = statePieces[pieceKey];\n        const [key, type] = pieceKey.replace('_outdoor', '').split('_');\n        if (!pieceQtys[type]) {\n            pieceQtys[type] = {};\n        }\n        pieceQtys[type][key] = qty;\n    }\n\n    const titleParts = [];\n    for (const type in pieceQtys) {\n        if (type === 'backPillow') {\n            continue;\n        }\n\n        const titleExtra = [];\n        const typeQtys = pieceQtys[type];\n        let qty = 0;\n        for (const key in typeQtys) {\n            const pieceQty = typeQtys[key];\n            if (pieceQty > 0) {\n                qty += pieceQty;\n                if (key !== 'standard') {\n                    titleExtra.push(`${pieceQty} ${capitalize(key)}`);\n                }\n            }\n        }\n\n        if (qty > 0) {\n            let titlePart = `${qty} ${capitalize(type)}${qty >= 2 ? 's' : ''}`;\n            if (titleExtra.length) {\n                titlePart += ` (${titleExtra.join(' + ')})`;\n            }\n            titleParts.push(titlePart);\n        }\n    }\n\n    return titleParts.join(' + ');\n};\n\nconst capitalize = (str, lower = false) => {\n    const matchedString = (lower ? str.toLowerCase() : str).replace(/(?:^|\\s|[\"'([{])+\\S/g, (match) =>\n        match.toUpperCase()\n    );\n\n    return matchedString.replace(/([a-z])([A-Z])/g, '$1 $2');\n};\n\nexport const calculateTotalPrice = (index, options) => {\n    const objects = calculateObjectPrices(index, options);\n    const { applyDiscounts = true } = options;\n\n    let totalPrice = 0;\n\n    for (const object of objects) {\n        totalPrice += object.rowTotal;\n    }\n\n    if (applyDiscounts) {\n        const discount = getTotalRuleDiscount(index, objects);\n        totalPrice -= discount;\n    }\n\n    totalPrice = Math.max(0, totalPrice);\n    totalPrice = Math.round((totalPrice + Number.EPSILON) * 100) / 100;\n\n    return {\n        total: totalPrice,\n        objects,\n    };\n};\n\nconst calculateObjectPrices = (index, options) => {\n    const objects = getObjects(index, options);\n    const priceRules = getObjectPriceRules(index, objects);\n    const { applyDiscounts = true } = options;\n\n    for (const object of objects) {\n        let { price } = object;\n        if (object?.price?.price) {\n            price = object?.price?.price;\n        }\n        const regularPrice = price;\n\n        if (applyDiscounts && price > 0) {\n            const specialPrice = object?.price?.specialPrice;\n            if (specialPrice) {\n                price = Math.min(price, specialPrice);\n            }\n            const tierPrice = getTierPrice(object, regularPrice);\n            if (tierPrice) {\n                price = Math.min(price, tierPrice);\n            }\n            const rulePrice = getObjectRulePrice(object, priceRules, regularPrice);\n            if (rulePrice) {\n                price = Math.min(price, rulePrice);\n            }\n        }\n\n        object.calculatedPrice = price;\n        object.rowTotal = price * object.qty;\n    }\n    return objects;\n};\n\nconst getObjects = (index, options) => {\n    const pieces = getPiecesWithPositiveQty(index, options);\n    const { defaultFill } = index;\n    const { fill = defaultFill, fabricId = null, fabricLeadTime = null, coversOnly = false } = options;\n    const { fabricPieces } = index;\n\n    const result = [];\n\n    for (const [piece, qty] of pieces) {\n        const { key, type, virtualKey = null } = piece;\n        const fillObject = fill ? piece?.insert?.[fill] : piece?.insert;\n        let first = true;\n\n        if (fillObject && !coversOnly) {\n            result.push({\n                ...fillObject,\n                qty,\n                key: virtualKey || key,\n                type,\n                first,\n            });\n            first = false;\n        }\n\n        if (fabricId) {\n            const coverObject = fabricPieces?.[fabricId]?.covers?.[fabricLeadTime]?.[type]?.[key];\n            if (coverObject) {\n                result.push({\n                    ...coverObject,\n                    qty,\n                    key: virtualKey || key,\n                    type,\n                    first,\n                });\n            }\n        }\n    }\n\n    if (options.objects) {\n        for (const data of options.objects) {\n            let newObject = null;\n\n            if (data.length) {\n                const [object, qty, first = true] = data;\n                newObject = { ...object, qty, first };\n            } else if (data.qty) {\n                newObject = { ...data };\n            }\n\n            if (newObject) {\n                if (newObject.bundleOptions) {\n                    for (const option of newObject.bundleOptions) {\n                        result.push({ ...newObject, ...option });\n                    }\n                } else {\n                    result.push(newObject);\n                }\n            }\n        }\n    }\n\n    return result;\n};\n\nconst getObjectSkuMap = (objects, prop) => {\n    const skuMap = {};\n    for (const object of objects) {\n        if (object.sku) {\n            if (!skuMap[object.sku]) {\n                skuMap[object.sku] = 0;\n            }\n            skuMap[object.sku] += object[prop];\n        }\n    }\n    return skuMap;\n};\n\nconst getTierPrice = (object, regularPrice) => {\n    const { qty } = object;\n    const tierPrices = object.price?.tierPrice || object.tierPrice;\n    let price = regularPrice;\n    if (tierPrices) {\n        for (const tierQty in tierPrices) {\n            if (qty >= tierQty) {\n                price = Math.min(price, tierPrices[tierQty]);\n            }\n        }\n    }\n    return price;\n};\n\nconst getObjectPriceRules = (index, objects) => {\n    const skuQtyMap = getObjectSkuMap(objects, 'qty');\n    return index.objectPriceRules.filter((rule) => {\n        if (rule.minQty >= 1) {\n            const qty = getRuleSkuMapSum(rule, skuQtyMap);\n            return qty >= rule.minQty;\n        }\n        return true;\n    });\n};\n\nconst getObjectRulePrice = (object, priceRules, regularPrice) => {\n    const priceRule = priceRules.find((rule) =>\n        rule.categoryIds.filter((categoryId) => object.categoryIds.includes(categoryId))\n    );\n    if (priceRule) {\n        const discountAmount = Math.min(Math.max(priceRule.discountAmount, 0), 100);\n        const cartRulePrice = regularPrice * (1 - discountAmount / 100);\n        return Math.round((cartRulePrice + Number.EPSILON) * 100) / 100;\n    }\n    return null;\n};\n\nconst getTotalRuleDiscount = (index, objects) => {\n    const skuPriceMap = getObjectSkuMap(objects, 'rowTotal');\n    const priceRule = index.totalPriceRules.find((rule) => {\n        const price = getRuleSkuMapSum(rule, skuPriceMap);\n        return price >= rule.minQty;\n    });\n    if (priceRule) {\n        const step = priceRule.minQty;\n        const price = getRuleSkuMapSum(priceRule, skuPriceMap);\n        const timesToApply = Math.floor(price / Math.max(1, step));\n        const discount = timesToApply * price.discountAmount;\n        return Math.round((discount + Number.EPSILON) * 100) / 100;\n    }\n    return 0;\n};\n\nconst getRuleSkuMapSum = ({ skus }, skuMap) => {\n    let value = 0;\n    for (const sku in skus) {\n        if (skuMap[skus[sku]]) {\n            value += skuMap[skus[sku]];\n        }\n    }\n    return value;\n};\n\nexport const getPiecesWithPositiveQty = ({ pieces: indexPieces }, { pieces: statePieces }) => {\n    const result = [];\n    for (const key in statePieces) {\n        const qty = statePieces[key];\n        const piece = indexPieces[key];\n        if (qty > 0 && piece) {\n            result.push([piece, qty]);\n        }\n    }\n    return result;\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.outerWidth = void 0;\n\nvar outerWidth = function outerWidth(el) {\n  var width = el.offsetWidth;\n  var style = getComputedStyle(el);\n  width += parseInt(style.marginLeft) + parseInt(style.marginRight);\n  return width;\n};\n\nexports.outerWidth = outerWidth;","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { ErrorModal } from './ErrorModal';\n\nexport default {\n    errorModal: <ErrorModal />,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo } from 'preact/hooks';\nimport { Gallery } from '../../../View/Gallery';\nimport { Price } from '../../../View/Price';\nimport { useModalContext, Modal } from '../../../View/Modal';\n\nexport const Info = () => {\n    const {\n        modal: { data, title },\n    } = useModalContext();\n\n    return useMemo(() => {\n        return (\n            <Modal title={title} closeTitle={t`Back to Sactional`} modalClass={'sactional-modal'}>\n                <InfoContent piece={data} />\n            </Modal>\n        );\n    }, [data, title]);\n};\n\nconst InfoContent = ({ piece }) => {\n    const { defaultPrice, gallery, image, defaultImage, description, includes } = piece;\n\n    return (\n        <div className=\"options-modal__details\">\n            <div className=\"options-modal__content\">\n                <div className=\"more-info__item-details more-info__item-details--options\">\n                    <Price value={defaultPrice} />\n                    <p className=\"item-description\">{description}</p>\n                </div>\n                <ProductIncludes includes={includes} />\n                <div className=\"image\">\n                    <Gallery gallery={gallery} image={image} defaultImage={defaultImage} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst ProductIncludes = ({ includes }) => {\n    return (\n        includes.length && (\n            <div className=\"options-modal__includes\">\n                <h4 className=\"includes__title\">{t`Includes`}</h4>\n                <div className=\"includes__items\">\n                    <ProductIncludesItem includes={includes} count={1} />\n                </div>\n            </div>\n        )\n    );\n};\n\nconst ProductIncludesItem = ({ includes, count }) => {\n    {\n        return includes.map((item, index) => {\n            return (\n                <div className=\"includes__item\" key={index}>\n                    <div className=\"includes__image-row\">\n                        <p className=\"includes__count\">\n                            {t`x`}\n                            <span>{count}</span>\n                        </p>\n                    </div>\n                    <p className=\"includes__name\">{item}</p>\n                </div>\n            );\n        });\n    }\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useEffect, useState } from 'preact/hooks';\nimport { usePlayerContext } from '../../Context/Player';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useHook } from '../../hooks/useHook';\nimport { getThreekitApi, getOrCreateDomNode } from './playerApi';\nimport { PlayerStateSync } from './PlayerStateSync';\nimport { PLAYER_VRAY_MODE, PLAYER_WEBGL_MODE, SET_FLOOR, SET_INITIALIZED, SET_LOADED } from './constants';\nimport { usePlayerFloorId } from './Toolbar/FloorButton';\n\nconst STATUS_DEFAULT = 0;\nconst STATUS_LOADING = 1;\nconst STATUS_LOADED = 2;\nconst STATUS_INITIALIZING = 3;\nconst STATUS_INITIALIZED = 4;\n\nexport const PlayerLoader = () => {\n    const [status, setStatus] = useState(STATUS_DEFAULT);\n\n    switch (status) {\n        case STATUS_DEFAULT:\n            return <PlayerJsLoader setStatus={setStatus} />;\n        case STATUS_LOADED:\n            return <PlayerInitializer setStatus={setStatus} />;\n        case STATUS_INITIALIZED:\n            return <PlayerSync />;\n    }\n};\n\nconst PlayerJsLoader = ({ setStatus }) => {\n    const { dispatch } = usePlayerContext();\n    const {\n        options: {\n            config: { playerJs = null, configuratorJs = null },\n        },\n        index: { saved },\n    } = useConfiguratorContext();\n\n    useEffect(() => {\n        if (saved) {\n            dispatch({ type: SET_FLOOR, value: saved.floor });\n        }\n    }, [dispatch, saved]);\n\n    useEffect(() => {\n        (async () => {\n            setStatus(STATUS_LOADING);\n            if (!playerJs || !configuratorJs) {\n                return;\n            }\n            if (!getThreekitApi()) {\n                await loadScript(playerJs);\n            }\n            if (!getThreekitApi('init')) {\n                await loadScript(configuratorJs);\n            }\n            const domNode = getOrCreateDomNode();\n            dispatch({ type: SET_LOADED, domNode });\n            setStatus(STATUS_LOADED);\n        })();\n    }, [setStatus, dispatch, playerJs, configuratorJs]);\n};\n\nconst PlayerInitializer = ({ setStatus }) => {\n    const { dispatch } = usePlayerContext();\n    const initParams = useInitParams();\n\n    useEffect(() => {\n        (async () => {\n            setStatus(STATUS_INITIALIZING);\n            const initPlayer = getThreekitApi('init');\n            await initPlayer(initParams);\n            const api = getThreekitApi('configurator');\n\n            if (api) {\n                dispatch({\n                    type: SET_INITIALIZED,\n                    api,\n                    mode: initParams.mode === 'vray' ? PLAYER_VRAY_MODE : PLAYER_WEBGL_MODE,\n                });\n                setStatus(STATUS_INITIALIZED);\n            }\n        })();\n    }, [initParams, dispatch, setStatus]);\n};\n\nconst PlayerSync = () => {\n    const {\n        state: { isInitialized },\n    } = usePlayerContext();\n    if (isInitialized) {\n        return <PlayerStateSync />;\n    }\n};\n\nconst useInitParams = () => {\n    const domNodeId = useDomNodeId();\n    const floor = usePlayerFloorId();\n    const { type } = useConfiguratorContext();\n    const params = {\n        initialConfiguration: {\n            floor,\n        },\n        el: domNodeId,\n    };\n    useHook(type, 'usePlayerInitParams', [params]);\n    return params;\n};\n\nconst useDomNodeId = () => {\n    const {\n        state: {\n            domNode: { id: domNodeId },\n        },\n    } = usePlayerContext();\n    return domNodeId;\n};\n\nconst loadScript = async (src) => {\n    return new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        script.src = src;\n        script.onload = resolve;\n        script.onerror = reject;\n        script.async = true;\n        document.head.appendChild(script);\n    });\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { Component, createRef } from 'preact';\nimport { useMemo, useState, useCallback } from 'preact/hooks';\nimport { useConfiguratorContext } from '../Context/Configurator';\n\nexport class ReviewsInitializer extends Component {\n    constructor(props) {\n        super(props);\n        this.ref = createRef();\n        this.state = { visibility: false };\n        this.node = document.querySelector('.configurator-review-widget');\n        this.style = { display: props.opened ? 'block' : 'none' };\n    }\n\n    componentDidMount() {\n        if (this.node) {\n            this.ref.current.appendChild(this.node);\n            this.node.style.display = '';\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.node && this.node.parentNode === this.ref.current) {\n            this.node.style.display = 'none';\n            document.body.appendChild(this.node);\n        }\n    }\n\n    onClick() {\n        this.setState({ visibility: true });\n    }\n\n    onClose() {\n        this.props.handleClose(false);\n    }\n\n    render() {\n        if (this.props.opened) {\n            const reviewsModalWrapper = this.ref.current;\n            const reviewButtons = reviewsModalWrapper.querySelectorAll('.write-review-button');\n\n            for (const el of reviewButtons) {\n                el.addEventListener('click', () => {\n                    reviewsModalWrapper.classList.add('active');\n                });\n            }\n        }\n\n        return (\n            <div className=\"modal-dialog reviews\" style={this.style}>\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <span className=\"modal-title\">{t`Customer Reviews`}</span>\n                        <a className=\"btn-close\" onClick={this.onClose} />\n                    </div>\n                    <div className=\"modal-body\" ref={this.ref} />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport const ReviewContent = () => {\n    const [showModal, setShowModal] = useState(false);\n    const onClose = useCallback((state) => setShowModal(state), []);\n    const onClick = useCallback(() => setShowModal(true), []);\n    const {\n        config: { reviewCount },\n    } = useConfiguratorContext();\n\n    return (\n        <div className=\"review\">\n            <ReviewContentStars />\n            <div className=\"total-reviews\">\n                <a onClick={onClick}>\n                    {reviewCount} {t`Reviews`}\n                </a>\n            </div>\n            <ReviewsInitializer opened={showModal} handleClose={onClose} />\n        </div>\n    );\n};\n\nexport const ReviewContentStars = () => {\n    const {\n        config: { reviewAverageScore },\n    } = useConfiguratorContext();\n\n    return useMemo(() => {\n        const score = parseFloat(reviewAverageScore).toFixed(1);\n        const stars = Array.from(Array(11).keys(), (x) => x / 2);\n\n        return (\n            <div className=\"rating-group\">\n                {stars.map((qty) => (\n                    <label\n                        aria-label={`${qty} star${qty !== 1 ? 's' : ''}`}\n                        className={`rating__label ${qty === 0 ? 'rating__label--none' : ''} ${\n                            (qty * 2) % 2 === 1 ? 'rating__label--half' : ''\n                        } ${score >= qty ? `checked` : `empty`}`}\n                        key={qty}\n                    >\n                        {qty > 0 ? (\n                            <i\n                                className={`rating__icon rating__icon--star fa ${\n                                    (qty * 2) % 2 === 1 ? 'fa-star-half' : 'fa-star'\n                                }`}\n                            />\n                        ) : (\n                            '\\u00A0'\n                        )}\n                    </label>\n                ))}\n            </div>\n        );\n    }, [reviewAverageScore]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback, useState } from 'preact/hooks';\nimport { t } from 'ttag';\n\nconst defaultState = { error: null, data: null, loading: false };\nconst defaultError = t`Something went wrong`;\n\nexport const useAjaxRequest = () => {\n    const [state, setState] = useState(defaultState);\n\n    const callback = useCallback(async (params) => {\n        setState({ ...defaultState, loading: true });\n        let newState;\n\n        const fetchParams = await getFetchParams(params);\n        try {\n            const response = await fetch(params.url, fetchParams);\n\n            if (response.ok) {\n                const data = await response.json();\n                if (data.error) {\n                    newState = { ...defaultState, data, error: data.error };\n                } else {\n                    newState = { ...defaultState, data };\n                }\n            } else {\n                newState = { ...defaultState, error: defaultError };\n            }\n        } catch (e) {\n            newState = { ...defaultState, error: defaultError };\n        }\n\n        setState(newState);\n        return newState;\n    }, []);\n\n    return [state, callback];\n};\n\nconst getFetchParams = async ({\n    data = null,\n    dataCallback = null,\n    method = 'GET',\n    dataType = 'json',\n    addFormKey = false,\n}) => {\n    const params = {\n        method,\n        headers: {\n            accept: 'application/json',\n            'x-requested-with': 'XMLHttpRequest',\n        },\n        credentials: 'include',\n    };\n\n    if (dataCallback) {\n        data = await dataCallback();\n    }\n\n    if (addFormKey) {\n        data['form_key'] = getFormKey();\n    }\n\n    if (data) {\n        switch (dataType) {\n            case 'json':\n                params.headers['Content-Type'] = 'application/json';\n                params.body = JSON.stringify(data);\n                break;\n            case 'urlencoded':\n                params.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n                params.body = new URLSearchParams(data);\n                break;\n        }\n    }\n    return params;\n};\n\nconst getFormKey = () => {\n    return document.cookie.split('; ').reduce((r, v) => {\n        const parts = v.split('=');\n        return parts[0] === 'form_key' ? decodeURIComponent(parts[1]) : r;\n    }, '');\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { useRef, useState, useCallback } from 'preact/hooks';\nimport { t } from 'ttag';\n\nconst defaultStyle = { maxHeight: `0px` };\nexport const Dropdown = ({ title, content }) => {\n    const [setActive, setActiveState] = useState('');\n    const [style, setStyle] = useState(defaultStyle);\n    const mainContent = useRef(null);\n\n    const toggleAccordion = useCallback(() => {\n        setActiveState(setActive === '' ? 'active' : '');\n        const height = setActive === 'active' ? '0px' : `${mainContent.current.scrollHeight}px`;\n        setStyle({ maxHeight: height });\n    }, [setActive]);\n\n    return (\n        <div className=\"dropdown__section\">\n            <button className={`dropdown ${setActive}`} onClick={toggleAccordion}>\n                <span className=\"dropdown__title\">{title}</span>\n            </button>\n            <div ref={mainContent} style={style} className=\"dropdown__content\">\n                <div className=\"dropdown__text\" dangerouslySetInnerHTML={{ __html: content }} />\n            </div>\n        </div>\n    );\n};\n\nexport const DropdownComponent = ({ title, content }) => {\n    const [setActive, setActiveState] = useState('');\n    const [style, setStyle] = useState(defaultStyle);\n    const mainContent = useRef(null);\n\n    const toggleAccordion = useCallback(() => {\n        setActiveState(setActive === '' ? 'active' : '');\n        const height = setActive === 'active' ? '0px' : `${mainContent.current.scrollHeight}px`;\n        setStyle({ maxHeight: height });\n    }, [setActive]);\n\n    return (\n        <div className=\"dropdown__section\">\n            <button className={`dropdown ${setActive}`} onClick={toggleAccordion}>\n                <span className=\"dropdown__title\">{title}</span>\n            </button>\n            <div ref={mainContent} style={style} className=\"dropdown__content\">\n                <div className=\"dropdown__text\">\n                    <div className=\"squattoman-banner__wrapper\">\n                        <div className=\"squattoman-banner__shipping\">\n                            <span className=\"squattoman-banner__title\">{t`${content.title}`}</span>\n                            <span className=\"squattoman-banner__desc\">{t`${content.desc}`}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { useNavigatorContext } from '../Context/Navigator';\nimport { useBrowserContext } from '../Context/Browser';\nimport { ShowNextStepActionBar } from './Action';\nimport { useModalContext } from './ActionSaveShare/Modal/ModalContext';\nimport { ModalContextProvider, CurrentModal } from './ActionSaveShare/Modal';\nimport { LogoSubtitle } from './LogoSubtitle';\n\nexport const Footer = () => {\n    return (\n        <ModalContextProvider>\n            <div className=\"summary-footer\">\n                <SummaryNextStepActionBar />\n                <SummaryActionsToolbar />\n                <SummaryTotalComfort />\n            </div>\n        </ModalContextProvider>\n    );\n};\n\nconst SummaryNextStepActionBar = () => {\n    const { summaryExpanded } = useNavigatorContext();\n    return useMemo(() => (!summaryExpanded ? <ShowNextStepActionBar /> : null), [summaryExpanded]);\n};\n\nconst SummaryActionsToolbar = () => {\n    return (\n        <div className=\"summary-actions-toolbar\">\n            <CurrentModal />\n            <SummaryActionsSaveButton />\n            <SummaryActionsShareButton />\n            <span className=\"find-showroom action\">\n                <a href=\"/showroomlocator\" target=\"_blank\">{t`Find a showroom`}</a>\n            </span>\n        </div>\n    );\n};\n\nconst SummaryActionsSaveButton = () => {\n    const { setModal } = useModalContext();\n    const showSaveLogin = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'saveLogin',\n            });\n        },\n        [setModal]\n    );\n    return useMemo(\n        () => (\n            <span className=\"save action\">\n                <a onClick={showSaveLogin}>{t`Save`}</a>\n            </span>\n        ),\n        [showSaveLogin]\n    );\n};\n\nconst SummaryActionsShareButton = () => {\n    const { setModal } = useModalContext();\n    const showShare = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'share',\n            });\n        },\n        [setModal]\n    );\n    return useMemo(\n        () => (\n            <span className=\"share action\">\n                <a onClick={showShare}>{t`Share`}</a>\n            </span>\n        ),\n        [showShare]\n    );\n};\n\nconst SummaryTotalComfort = () => {\n    return (\n        <div className=\"summary-total-comfort-guaranteed\">\n            <span className=\"content\">\n                <SummaryTotalComfortLogo />\n                {t`Total Comfort Guaranteed: `}\n                <a href=\"/terms-and-conditions#ReturnsHomeTrial\" target=\"_blank\">\n                    {t`Risk-Free 60-Day Home Trial`}\n                </a>\n            </span>\n        </div>\n    );\n};\n\nconst SummaryTotalComfortLogo = () => {\n    const { isMobile } = useBrowserContext();\n    return useMemo(() => (isMobile ? <LogoSubtitle /> : null), [isMobile]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { Player, PlayerLoader } from '../../View/Player';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { Dropdown } from '../../View/Dropdown';\nimport { Dimensions } from '../../View/Dimensions';\nimport { ShippingInfo } from '../../View/ShippingInfo';\nimport { SidebarHeader } from '../../View/SidebarHeader';\nimport { PieceDescription } from '../../View/PieceDescription';\nimport { ThrowKitSidebar } from './ThrowKitSidebar';\n\nexport const View = () => {\n    const {\n        index: { throwpillowMarketingBlock, throwpillowBenefitsBlock },\n    } = useConfiguratorContext();\n\n    return (\n        <div className=\"squattoman-content__wrapper\">\n            <div className=\"step-wrapper step-throwPillow\">\n                <PlayerLoader />\n                <SidebarHeader />\n                <div className=\"player__wrapper\">\n                    <Player show=\"desktop\" />\n                    <div className=\"step-accordion__wrapper\">\n                        <PieceDescription />\n                        <Dropdown title={t`Benefits`} content={throwpillowBenefitsBlock} />\n                        <Dimensions />\n                        <ShippingInfo />\n                    </div>\n                </div>\n                <ThrowKitSidebar />\n            </div>\n            <div\n                className=\"throwpillow-marketing__wrapper\"\n                dangerouslySetInnerHTML={{ __html: throwpillowMarketingBlock }}\n            />\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nexport { Modal } from './Modal';\nexport { useModalContext } from './ModalContext';\nexport { ModalContextProvider } from './ModalContext';\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/**\n * Check if two values are the same value\n * @param {*} x\n * @param {*} y\n * @returns {boolean}\n */\nexport function is(x, y) {\n\treturn (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\n","import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function(props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n","import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n","import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref || null);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n","import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function(error, newVNode, oldVNode, errorInfo) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode, errorInfo);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function(vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._hydrating === true) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function(promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function() {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function(props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function(child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function(props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate = SuspenseList.prototype.componentDidMount = function() {\n\t// Iterate through all children after mounting for two reasons:\n\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t//    The nodes can now be completely consumed from the linked list.\n\t// 2. Handle nodes that might have gotten resolved between render and\n\t//    componentDidMount.\n\tthis._map.forEach((node, child) => {\n\t\tresolve(this, child, node);\n\t});\n};\n","import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function() {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\t// When props.vnode is undefined/false/null we are dealing with some kind of\n\t// conditional vnode. This should not trigger a render.\n\tif (props._vnode) {\n\t\tif (!_this._temp) {\n\t\t\t_this._container = container;\n\n\t\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t\t_this._temp = {\n\t\t\t\tnodeType: 1,\n\t\t\t\tparentNode: container,\n\t\t\t\tchildNodes: [],\n\t\t\t\tappendChild(child) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tinsertBefore(child, before) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tremoveChild(child) {\n\t\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t\t_this._container.removeChild(child);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Render our wrapping element into temp.\n\t\trender(\n\t\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t\t_this._temp\n\t\t);\n\t}\n\t// When we come from a conditional render, on a mounted\n\t// portal we should clear the DOM.\n\telse if (_this._temp) {\n\t\t_this.componentWillUnmount();\n\t}\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\tconst el = createElement(Portal, { _vnode: vnode, _container: container });\n\tel.containerInfo = container;\n\treturn el;\n}\n","import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\nconst ON_ANI = /^on(Ani|Tra|Tou|BeforeInp|Compo)/;\nconst CAMEL_REPLACE = /[A-Z0-9]/g;\n\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/\n\t\t: /fil|che|ra/\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nlet classNameDescriptor = {\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\tlet type = vnode.type;\n\tlet props = vnode.props;\n\tlet normalizedProps = props;\n\n\t// only normalize props on Element nodes\n\tif (typeof type === 'string') {\n\t\tnormalizedProps = {};\n\n\t\tfor (let i in props) {\n\t\t\tlet value = props[i];\n\n\t\t\tif (\n\t\t\t\t(i === 'value' && 'defaultValue' in props && value == null) ||\n\t\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t\t(IS_DOM && i === 'children' && type === 'noscript')\n\t\t\t) {\n\t\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t\t// a default value\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet lowerCased = i.toLowerCase();\n\t\t\tif (i === 'defaultValue' && 'value' in props && props.value == null) {\n\t\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\t\ti = 'value';\n\t\t\t} else if (i === 'download' && value === true) {\n\t\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t\t// value will be used as the file name and the file will be called\n\t\t\t\t// \"true\" upon downloading it.\n\t\t\t\tvalue = '';\n\t\t\t} else if (lowerCased === 'ondoubleclick') {\n\t\t\t\ti = 'ondblclick';\n\t\t\t} else if (\n\t\t\t\tlowerCased === 'onchange' &&\n\t\t\t\t(type === 'input' || type === 'textarea') &&\n\t\t\t\t!onChangeInputType(props.type)\n\t\t\t) {\n\t\t\t\tlowerCased = i = 'oninput';\n\t\t\t} else if (lowerCased === 'onfocus') {\n\t\t\t\ti = 'onfocusin';\n\t\t\t} else if (lowerCased === 'onblur') {\n\t\t\t\ti = 'onfocusout';\n\t\t\t} else if (ON_ANI.test(i)) {\n\t\t\t\ti = lowerCased;\n\t\t\t} else if (type.indexOf('-') === -1 && CAMEL_PROPS.test(i)) {\n\t\t\t\ti = i.replace(CAMEL_REPLACE, '-$&').toLowerCase();\n\t\t\t} else if (value === null) {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\n\t\t\t// Add support for onInput and onChange, see #3561\n\t\t\t// if we have an oninput prop already change it to oninputCapture\n\t\t\tif (lowerCased === 'oninput') {\n\t\t\t\ti = lowerCased;\n\t\t\t\tif (normalizedProps[i]) {\n\t\t\t\t\ti = 'oninputCapture';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnormalizedProps[i] = value;\n\t\t}\n\n\t\t// Add support for array select values: <select multiple value={[]} />\n\t\tif (\n\t\t\ttype == 'select' &&\n\t\t\tnormalizedProps.multiple &&\n\t\t\tArray.isArray(normalizedProps.value)\n\t\t) {\n\t\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t\t});\n\t\t}\n\n\t\t// Adding support for defaultValue in select tag\n\t\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tif (normalizedProps.multiple) {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t\t} else {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tvnode.props = normalizedProps;\n\n\t\tif (props.class != props.className) {\n\t\t\tclassNameDescriptor.enumerable = 'className' in props;\n\t\t\tif (props.className != null) normalizedProps.class = props.className;\n\t\t\tObject.defineProperty(normalizedProps, 'className', classNameDescriptor);\n\t\t}\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function(vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\nconst oldDiffed = options.diffed;\n/** @type {(vnode: import('./internal').VNode)} */\noptions.diffed = function(vnode) {\n\tif (oldDiffed) {\n\t\toldDiffed(vnode);\n\t}\n\n\tconst props = vnode.props;\n\tconst dom = vnode._dom;\n\tif (\n\t\tdom != null &&\n\t\tvnode.type === 'textarea' &&\n\t\t'value' in props &&\n\t\tprops.value !== dom.value\n\t) {\n\t\tdom.value = props.value == null ? '' : props.value;\n\t}\n\n\tcurrentComponent = null;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n","import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport { is } from './util';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '17.0.2'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\nexport function startTransition(cb) {\n\tcb();\n}\n\nexport function useDeferredValue(val) {\n\treturn val;\n}\n\nexport function useTransition() {\n\treturn [false, startTransition];\n}\n\n// TODO: in theory this should be done after a VNode is diffed as we want to insert\n// styles/... before it attaches\nexport const useInsertionEffect = useLayoutEffect;\n\n/**\n * This is taken from https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js#L84\n * on a high level this cuts out the warnings, ... and attempts a smaller implementation\n */\nexport function useSyncExternalStore(subscribe, getSnapshot) {\n\tconst value = getSnapshot();\n\n\tconst [{ _instance }, forceUpdate] = useState({\n\t\t_instance: { _value: value, _getSnapshot: getSnapshot }\n\t});\n\n\tuseLayoutEffect(() => {\n\t\t_instance._value = value;\n\t\t_instance._getSnapshot = getSnapshot;\n\n\t\tif (!is(_instance._value, getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\t}, [subscribe, value, getSnapshot]);\n\n\tuseEffect(() => {\n\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\n\t\treturn subscribe(() => {\n\t\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\t\tforceUpdate({ _instance });\n\t\t\t}\n\t\t});\n\t}, [subscribe]);\n\n\treturn value;\n}\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseInsertionEffect,\n\tuseTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tstartTransition,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n","import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fadeAnimationHandler = exports.slideStopSwipingHandler = exports.slideSwipeAnimationHandler = exports.slideAnimationHandler = void 0;\n\nvar _react = require(\"react\");\n\nvar _CSSTranslate = _interopRequireDefault(require(\"../../CSSTranslate\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Main animation handler for the default 'sliding' style animation\n * @param props\n * @param state\n */\nvar slideAnimationHandler = function slideAnimationHandler(props, state) {\n  var returnStyles = {};\n  var selectedItem = state.selectedItem;\n  var previousItem = selectedItem;\n  var lastPosition = _react.Children.count(props.children) - 1;\n  var needClonedSlide = props.infiniteLoop && (selectedItem < 0 || selectedItem > lastPosition); // Handle list position if it needs a clone\n\n  if (needClonedSlide) {\n    if (previousItem < 0) {\n      if (props.centerMode && props.centerSlidePercentage && props.axis === 'horizontal') {\n        returnStyles.itemListStyle = (0, _utils.setPosition)(-(lastPosition + 2) * props.centerSlidePercentage - (100 - props.centerSlidePercentage) / 2, props.axis);\n      } else {\n        returnStyles.itemListStyle = (0, _utils.setPosition)(-(lastPosition + 2) * 100, props.axis);\n      }\n    } else if (previousItem > lastPosition) {\n      returnStyles.itemListStyle = (0, _utils.setPosition)(0, props.axis);\n    }\n\n    return returnStyles;\n  }\n\n  var currentPosition = (0, _utils.getPosition)(selectedItem, props); // if 3d is available, let's take advantage of the performance of transform\n\n  var transformProp = (0, _CSSTranslate.default)(currentPosition, '%', props.axis);\n  var transitionTime = props.transitionTime + 'ms';\n  returnStyles.itemListStyle = {\n    WebkitTransform: transformProp,\n    msTransform: transformProp,\n    OTransform: transformProp,\n    transform: transformProp\n  };\n\n  if (!state.swiping) {\n    returnStyles.itemListStyle = _objectSpread(_objectSpread({}, returnStyles.itemListStyle), {}, {\n      WebkitTransitionDuration: transitionTime,\n      MozTransitionDuration: transitionTime,\n      OTransitionDuration: transitionTime,\n      transitionDuration: transitionTime,\n      msTransitionDuration: transitionTime\n    });\n  }\n\n  return returnStyles;\n};\n/**\n * Swiping animation handler for the default 'sliding' style animation\n * @param delta\n * @param props\n * @param state\n * @param setState\n */\n\n\nexports.slideAnimationHandler = slideAnimationHandler;\n\nvar slideSwipeAnimationHandler = function slideSwipeAnimationHandler(delta, props, state, setState) {\n  var returnStyles = {};\n  var isHorizontal = props.axis === 'horizontal';\n\n  var childrenLength = _react.Children.count(props.children);\n\n  var initialBoundry = 0;\n  var currentPosition = (0, _utils.getPosition)(state.selectedItem, props);\n  var finalBoundry = props.infiniteLoop ? (0, _utils.getPosition)(childrenLength - 1, props) - 100 : (0, _utils.getPosition)(childrenLength - 1, props);\n  var axisDelta = isHorizontal ? delta.x : delta.y;\n  var handledDelta = axisDelta; // prevent user from swiping left out of boundaries\n\n  if (currentPosition === initialBoundry && axisDelta > 0) {\n    handledDelta = 0;\n  } // prevent user from swiping right out of boundaries\n\n\n  if (currentPosition === finalBoundry && axisDelta < 0) {\n    handledDelta = 0;\n  }\n\n  var position = currentPosition + 100 / (state.itemSize / handledDelta);\n  var hasMoved = Math.abs(axisDelta) > props.swipeScrollTolerance;\n\n  if (props.infiniteLoop && hasMoved) {\n    // When allowing infinite loop, if we slide left from position 0 we reveal the cloned last slide that appears before it\n    // if we slide even further we need to jump to other side so it can continue - and vice versa for the last slide\n    if (state.selectedItem === 0 && position > -100) {\n      position -= childrenLength * 100;\n    } else if (state.selectedItem === childrenLength - 1 && position < -childrenLength * 100) {\n      position += childrenLength * 100;\n    }\n  }\n\n  if (!props.preventMovementUntilSwipeScrollTolerance || hasMoved || state.swipeMovementStarted) {\n    if (!state.swipeMovementStarted) {\n      setState({\n        swipeMovementStarted: true\n      });\n    }\n\n    returnStyles.itemListStyle = (0, _utils.setPosition)(position, props.axis);\n  } //allows scroll if the swipe was within the tolerance\n\n\n  if (hasMoved && !state.cancelClick) {\n    setState({\n      cancelClick: true\n    });\n  }\n\n  return returnStyles;\n};\n/**\n * Default 'sliding' style animination handler for when a swipe action stops.\n * @param props\n * @param state\n */\n\n\nexports.slideSwipeAnimationHandler = slideSwipeAnimationHandler;\n\nvar slideStopSwipingHandler = function slideStopSwipingHandler(props, state) {\n  var currentPosition = (0, _utils.getPosition)(state.selectedItem, props);\n  var itemListStyle = (0, _utils.setPosition)(currentPosition, props.axis);\n  return {\n    itemListStyle: itemListStyle\n  };\n};\n/**\n * Main animation handler for the default 'fade' style animation\n * @param props\n * @param state\n */\n\n\nexports.slideStopSwipingHandler = slideStopSwipingHandler;\n\nvar fadeAnimationHandler = function fadeAnimationHandler(props, state) {\n  var transitionTime = props.transitionTime + 'ms';\n  var transitionTimingFunction = 'ease-in-out';\n  var slideStyle = {\n    position: 'absolute',\n    display: 'block',\n    zIndex: -2,\n    minHeight: '100%',\n    opacity: 0,\n    top: 0,\n    right: 0,\n    left: 0,\n    bottom: 0,\n    transitionTimingFunction: transitionTimingFunction,\n    msTransitionTimingFunction: transitionTimingFunction,\n    MozTransitionTimingFunction: transitionTimingFunction,\n    WebkitTransitionTimingFunction: transitionTimingFunction,\n    OTransitionTimingFunction: transitionTimingFunction\n  };\n\n  if (!state.swiping) {\n    slideStyle = _objectSpread(_objectSpread({}, slideStyle), {}, {\n      WebkitTransitionDuration: transitionTime,\n      MozTransitionDuration: transitionTime,\n      OTransitionDuration: transitionTime,\n      transitionDuration: transitionTime,\n      msTransitionDuration: transitionTime\n    });\n  }\n\n  return {\n    slideStyle: slideStyle,\n    selectedStyle: _objectSpread(_objectSpread({}, slideStyle), {}, {\n      opacity: 1,\n      position: 'relative'\n    }),\n    prevStyle: _objectSpread({}, slideStyle)\n  };\n};\n\nexports.fadeAnimationHandler = fadeAnimationHandler;","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { Popup } from './Popup/Popup';\n\nexport const GlobalComponent = () => {\n    return <Popup />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Sactionals Style`;\nexport const code = 'style';\n\nexport const SET_ARM_STYLE = 'setArmStyle';\nexport const RESET_ARM_STYLE = 'resetArmStyle';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useMemo, useState, useCallback } from 'preact/hooks';\nimport { t } from 'ttag';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateContext } from '../../Context/State';\nimport { Price } from '../../View/Price';\nimport { title, TYPE_SQUATTOMAN } from '../Accessories/constants';\nimport {\n    AccessoriesDescription,\n    AccessoryImageGallery,\n    AccessoryVariants,\n    AccessoryQty,\n} from '../Accessories/StepComponent';\nimport { calculateTotalPrice } from '../../calculator';\nimport { useTotalsContext } from '../../Context/Totals';\n\nexport const StepComponent = () => {\n    return <Accessories />;\n};\n\nconst Accessories = () => {\n    const {\n        index: { accessories },\n    } = useConfiguratorContext();\n\n    return (\n        <div className=\"content-accessories-wrapper\">\n            <div className=\"title-accessories-wrapper\">\n                <div className=\"title-accessories\">{title}</div>\n            </div>\n            <div className=\"message-accessories-wrapper\">\n                <AccessoriesDescription />\n            </div>\n            <div className=\"content-accessories\">\n                {Object.entries(accessories).map(([type, accessories]) => {\n                    return <Accessory key={type} type={type} accessories={accessories} />;\n                })}\n            </div>\n        </div>\n    );\n};\n\nconst Accessory = ({ accessories, type }) => {\n    const {\n        state: { accessories: stateAccessories },\n    } = useStateContext();\n    const { key } = stateAccessories[type];\n    const accessory = accessories[key];\n\n    return useMemo(() => {\n        if (type === TYPE_SQUATTOMAN) {\n            return <AccessorySquattoman key={type} type={type} accessories={accessories} accessory={accessory} />;\n        }\n\n        return <AccessorySac key={type} type={type} accessories={accessories} accessory={accessory} />;\n    }, [type, accessories, accessory]);\n};\n\nconst AccessorySquattoman = ({ accessories, accessory, type }) => {\n    const {\n        state: { fabricId, fabricLeadTime },\n    } = useStateContext();\n    const { index } = useConfiguratorContext();\n\n    const {\n        modules: {\n            accessories: {\n                prevTotal: { options: prevOptions, total: prevTotal },\n            },\n        },\n    } = useTotalsContext();\n\n    const fabricObject = useMemo(() => {\n        if (accessory) {\n            return index.squattomanData?.fabricPieces?.[fabricId]?.covers?.[fabricLeadTime]?.[accessory.type]?.[\n                accessory.key\n            ];\n        }\n        return null;\n    }, [index, fabricId, fabricLeadTime, accessory]);\n\n    const squattomanAccessory = useMemo(() => {\n        if (fabricObject && accessory) {\n            return {\n                ...accessory,\n                ...{\n                    image: fabricObject.image,\n                    gallery: { 0: { img: fabricObject.image } },\n                },\n            };\n        }\n    }, [fabricObject, accessory]);\n\n    const price = useMemo(() => {\n        const objects = prevOptions.objects ? [...prevOptions.objects] : [];\n        const options = { ...prevOptions, objects };\n        objects.push([squattomanAccessory, 1]);\n        objects.push([fabricObject, 1]);\n        const total = calculateTotalPrice(index, options).total;\n        return total - prevTotal;\n    }, [index, prevOptions, squattomanAccessory, fabricObject, prevTotal]);\n\n    return (\n        <AccessorySac key={type} type={type} accessories={accessories} accessory={squattomanAccessory} price={price} />\n    );\n};\n\nconst AccessorySac = ({ accessories, accessory, type, price = null }) => {\n    return useMemo(() => {\n        return (\n            <div className=\"accessory\">\n                <AccessoryImageGallery accessory={accessory} />\n                <div className=\"content\">\n                    <AccessoryVariants accessories={accessories} type={type} />\n                    <div className=\"content-columns\">\n                        <div className=\"content-column-1\">\n                            <div className=\"title\">\n                                <span className=\"title-details-link\">{accessory.name}</span>\n                            </div>\n                            <div className=\"price-container\">\n                                <span className=\"price-symbol\">+</span>\n                                {!price ? <Price value={accessory.price?.price} /> : <Price value={price} />}\n                            </div>\n                        </div>\n                        <div className=\"content-column-2\">\n                            <div className=\"actions\">\n                                <AccessoryQty type={type} />\n                            </div>\n                        </div>\n                    </div>\n                    <AccessoryDetails accessory={accessory} />\n                </div>\n            </div>\n        );\n    }, [accessory, accessories, type, price]);\n};\n\nconst AccessoryDetails = ({ accessory }) => {\n    const [showDetails, setShowDetails] = useState(false);\n    const toggle = useCallback(() => setShowDetails((showDetails) => !showDetails), []);\n\n    if (accessory.details) {\n        return (\n            <div className={`details-row ${showDetails ? 'expanded' : ''}`}>\n                <span onClick={toggle}>{t`Details`}</span>\n                {showDetails ? <AccessoryDetailsContent accessory={accessory} /> : null}\n            </div>\n        );\n    }\n\n    return '';\n};\n\nconst AccessoryDetailsContent = ({ accessory }) => {\n    return (\n        <div\n            dangerouslySetInnerHTML={{\n                __html: accessory.details,\n            }}\n        />\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo, useCallback } from 'preact/hooks';\nimport { Gallery } from '../../../View/Gallery';\nimport { Price } from '../../../View/Price';\nimport { useModalContext, Modal } from '../../../View/Modal';\nimport { useStateContext } from '../../../Context/State';\nimport { SET_PIECE } from '../constants';\n\nexport const Info = () => {\n    const {\n        modal: { data, title },\n    } = useModalContext();\n\n    return useMemo(() => {\n        return (\n            <Modal title={title} closeTitle={t`Back to Sac`} modalClass={'sac-modal'}>\n                <InfoContent piece={data} />\n            </Modal>\n        );\n    }, [data, title]);\n};\n\nconst InfoContent = ({ piece }) => {\n    const { defaultPrice, gallery, image, defaultImage, description, includes } = piece;\n\n    return (\n        <div className=\"options-modal__details\">\n            <div className=\"options-modal__content\">\n                <div className=\"more-info__item-details more-info__item-details--options\">\n                    <Price value={defaultPrice} />\n                    <p className=\"item-description\">{description}</p>\n                </div>\n                <ProductIncludes includes={includes} />\n                <div className=\"image\">\n                    <Gallery gallery={gallery} image={image} defaultImage={defaultImage} />\n                </div>\n            </div>\n            <AddOptionButton piece={piece} />\n        </div>\n    );\n};\n\nconst AddOptionButton = ({ piece }) => {\n    const { name, key, type } = piece;\n    const { dispatch } = useStateContext();\n    const { setModal } = useModalContext();\n\n    const callback = useCallback(() => {\n        const value = `${key}_${type}`;\n        dispatch({\n            type: SET_PIECE,\n            value,\n        });\n        setModal(null);\n    }, [dispatch, type, setModal, key]);\n\n    return (\n        <div className=\"options-modal__action more-info__actions-wrapper more-info__actions-wrapper--sample\">\n            <button className=\"action primary\" name={name} onClick={callback}>{t`Add ${name}`}</button>\n        </div>\n    );\n};\n\nconst ProductIncludes = ({ includes }) => {\n    return (\n        includes.length && (\n            <div className=\"options-modal__includes\">\n                <h4 className=\"includes__title\">{t`Includes`}</h4>\n                <div className=\"includes__items\">\n                    <ProductIncludesItem includes={includes} count={1} />\n                </div>\n            </div>\n        )\n    );\n};\n\nconst ProductIncludesItem = ({ includes, count }) => {\n    {\n        return includes.map((item, index) => {\n            return (\n                <div className=\"includes__item\" key={index}>\n                    <div className=\"includes__image-row\">\n                        <p className=\"includes__count\">\n                            {t`x`}\n                            <span>{count}</span>\n                        </p>\n                    </div>\n                    <p className=\"includes__name\">{item}</p>\n                </div>\n            );\n        });\n    }\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { PlayerThumbnails } from '../../View/Player/PlayerThumbnails';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateContext } from '../../Context/State';\nimport { usePlayerProductId } from '../../Step/SacSize/hooks/usePlayerProductId';\n\nconst angles = [0, 4];\n\nexport const Thumbnails = () => {\n    const {\n        config: { baseUrl },\n        type: { code },\n    } = useConfiguratorContext();\n    const {\n        state: { fabricId },\n    } = useStateContext();\n    const threekitProductId = usePlayerProductId();\n\n    const getImageSrc = useCallback(\n        (code) => {\n            switch (code) {\n                case '360': {\n                    return `${baseUrl}media/wysiwyg/rotation-thumbnail.svg`;\n                }\n                case 'zoom': {\n                    return null;\n                }\n                default: {\n                    return `${baseUrl}media/threekit/carousel/${threekitProductId}/${fabricId}-${code}.jpg`;\n                }\n            }\n        },\n        [baseUrl, fabricId, threekitProductId]\n    );\n    return <PlayerThumbnails angles={angles} getImageSrc={getImageSrc} code={code} />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\n\nexport const title = t`Options`;\nexport const code = 'options';\n\nexport const INCREMENT_OPTION_QTY = 'incrementOptionQty';\nexport const DECREMENT_OPTION_QTY = 'decrementOptionQty';\nexport const SET_OPTION_QTY = 'setOptionQty';\nexport const TYPE_STORAGE_SEAT = 'storageSeat';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { SummaryLineEditButton } from '../../View/Summary';\nimport { Price } from '../../View/Price';\nimport { useTotalsContext } from '../../Context/Totals';\n\nexport const SummaryComponent = ({ stepIndex }) => {\n    const {\n        modules: {\n            configure: { title, price },\n        },\n    } = useTotalsContext();\n\n    return (\n        <div className=\"summary-line item-4\">\n            <div className=\"title\">{t`Configuration`}</div>\n            <SummaryLineEditButton stepIndex={stepIndex} />\n            <div className=\"price-container\">\n                <Price value={price} />\n            </div>\n            <div className=\"option-name\">{title}</div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Fill`;\nexport const code = 'fill';\n\nexport const SET_FILL = 'setFill';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { useEffect, useMemo, useCallback } from 'preact/hooks';\nimport { Price } from '../../View/Price';\nimport { useStateContext } from '../../Context/State';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateInputCallback } from '../../hooks/useStateInputCallback';\nimport { useCameraView } from '../../hooks/useCameraView';\nimport { ModalContextProvider, useModalContext } from '../../View/Modal';\nimport { SET_SELECTED_PIECE, TYPE_CUSTOM } from './constants';\nimport ModalTypes from './Modal';\n\nexport const TabCustom = () => {\n    const {\n        index: { pieces: indexPieces, customTabSubtitle },\n    } = useConfiguratorContext();\n\n    const {\n        state: { configurationType, showInstructionalModal, pieces: statePieces },\n    } = useStateContext();\n\n    const { setModal } = useModalContext();\n\n    useEffect(() => {\n        if (configurationType === TYPE_CUSTOM && showInstructionalModal) {\n            setModal({\n                type: 'introductionalModal',\n            });\n        }\n    }, [setModal, configurationType, showInstructionalModal]);\n\n    return useMemo(\n        () => (\n            <ModalContextProvider types={ModalTypes}>\n                <div className=\"sidebar-items\">\n                    <div>\n                        <span className=\"sidebar-items__title\">{customTabSubtitle}</span>\n                        <CustomItems indexPieces={indexPieces} statePieces={statePieces} />\n                    </div>\n                </div>\n            </ModalContextProvider>\n        ),\n        [indexPieces, customTabSubtitle, statePieces]\n    );\n};\n\nconst CustomItem = ({ code, piece: { name, image, defaultPrice, virtualKey = null }, piece }) => {\n    const { setModal } = useModalContext();\n    const showMoreInfo = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'info',\n                title: name,\n                data: piece,\n            });\n        },\n        [setModal, name, piece]\n    );\n    return (\n        !['storage_seat', 'deepStorage_seat', 'deep_seat', 'deep_outdoor_seat'].includes(code) &&\n        !code.includes('backPillow') &&\n        !virtualKey && (\n            <label className=\"sidebar-item\">\n                <CustomItemQty code={code} />\n                <CustomItemInput code={code} />\n                <img src={image} alt={name} />\n                <span className=\"sidebar-item-title custom\">\n                    {name}\n                    <button className=\"sidebar-items__title-action custom\" type=\"button\" onClick={showMoreInfo}>\n                        <span>${`View more information about ${name}`}</span>\n                    </button>\n                </span>\n                <span>\n                    <Price value={defaultPrice} />\n                    {`/each`}\n                </span>\n            </label>\n        )\n    );\n};\n\nconst CustomItemQty = ({ code }) => {\n    const {\n        state: { pieces },\n    } = useStateContext();\n    const qty = getPieceQty(code, pieces);\n\n    return useMemo(() => (qty > 0 ? <span className=\"sidebar-item-qty__tag\">{qty}</span> : null), [qty]);\n};\n\nconst CustomItemInput = ({ code }) => {\n    const {\n        state: { selectedPiece },\n    } = useStateContext();\n\n    const handleChange = useStateInputCallback();\n    const setCameraView = useCameraView();\n\n    const buttonCallbackHandle = useCallback(async () => {\n        await setCameraView('orthographic');\n    }, [setCameraView]);\n\n    return useMemo(\n        () => (\n            <input\n                type=\"radio\"\n                className=\"sidebar-item-input\"\n                name={SET_SELECTED_PIECE}\n                checked={selectedPiece === code}\n                onChange={handleChange}\n                onClick={buttonCallbackHandle}\n                value={code}\n            />\n        ),\n        [selectedPiece, code, handleChange, buttonCallbackHandle]\n    );\n};\n\nconst getPieceQty = (code, pieces) => {\n    let qty = pieces[code];\n\n    if (code === 'standard_seat' && pieces['deep_seat'] > 0) {\n        qty += pieces['deep_seat'];\n    }\n\n    if (code === 'standard_outdoor_seat' && pieces['deep_outdoor_seat'] > 0) {\n        qty += pieces['deep_outdoor_seat'];\n    }\n\n    return qty;\n};\n\nconst CustomItems = ({ indexPieces, statePieces }) => {\n    const pieceCodes = useMemo(() => {\n        const pieceCodes = Object.keys(indexPieces);\n        const pieceQtys = Object.fromEntries(pieceCodes.map((code) => [code, getPieceQty(code, statePieces)]));\n        pieceCodes.sort((a, b) => pieceQtys[b] - pieceQtys[a]);\n\n        return pieceCodes;\n    }, [indexPieces, statePieces]);\n\n    return (\n        <div className=\"sidebar-items_wrapper configure\">\n            {pieceCodes.map((code) => (\n                <CustomItem key={code} code={code} piece={indexPieces[code]} />\n            ))}\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { PriceContainer } from '../../View/PriceContainer';\nimport { useConfiguratorContext } from '../../Context/Configurator';\n\nexport const SquattomanHeader = () => {\n    const { total, totalWithoutDiscount } = useTotalsContext();\n    const {\n        options: {\n            config: { financingMessage, financingMessageMonths },\n        },\n    } = useConfiguratorContext();\n    const message =\n        financingMessage && financingMessageMonths\n            ? financingMessage\n                  .replace('%1', `$${Math.ceil(total / financingMessageMonths)}`)\n                  .replace('%2', financingMessageMonths)\n            : null;\n    return (\n        <div className=\"squattoman-header header\">\n            <div className=\"squattoman-header__title\">{t`Squattoman`}</div>\n            <PriceContainer total={total} totalWithoutDiscount={totalWithoutDiscount} />\n            <div className=\"squattoman-header__financing\">\n                <span className=\"content\">\n                    <span className=\"financing-message-text\" dangerouslySetInnerHTML={{ __html: message }} />\n                    <a href=\"/financing\" title={t`Learn More`}>{t`Learn More`}</a>\n                </span>\n            </div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { useStateContext } from '../../Context/State';\nimport { Price } from '../../View/Price';\nimport { Loader } from '../../View/Loader';\nimport { Gallery } from '../../View/Gallery';\nimport { ModalContextProvider, useModalContext } from '../../View/Modal';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { calculateTotalPrice } from '../../calculator';\nimport {\n    DECREMENT_ACCESSORY_QTY,\n    INCREMENT_ACCESSORY_QTY,\n    SELECT_ACCESSORY_VARIANT,\n    SET_ACCESSORY_QTY,\n    title,\n} from './constants';\nimport ModalTypes from './Modal';\n\nexport const StepComponent = () => (\n    <ModalContextProvider types={ModalTypes}>\n        <div className=\"content-accessories-wrapper\">\n            <div className=\"title-accessories-wrapper\">\n                <div className=\"title-accessories\">{title}</div>\n            </div>\n            <div className=\"message-accessories-wrapper\">\n                <AccessoriesDescription />\n            </div>\n            <Accessories />\n        </div>\n    </ModalContextProvider>\n);\n\nconst Accessories = () => {\n    const {\n        index: { accessories },\n    } = useConfiguratorContext();\n    return (\n        <div className=\"content-accessories\">\n            {Object.entries(accessories).map(([type, accessories]) => {\n                return <Accessory key={type} type={type} accessories={accessories} />;\n            })}\n        </div>\n    );\n};\n\nexport const AccessoriesDescription = () => {\n    const {\n        config: { accessoriesStepMessage },\n    } = useConfiguratorContext();\n\n    return (\n        <div\n            className=\"message-accessories\"\n            dangerouslySetInnerHTML={{\n                __html: accessoriesStepMessage,\n            }}\n        />\n    );\n};\n\nconst Accessory = ({ accessories, type }) => {\n    const {\n        state: { accessories: stateAccessories },\n    } = useStateContext();\n    const { key } = stateAccessories[type];\n    const accessory = accessories[key];\n\n    return useMemo(() => {\n        return (\n            <div className=\"accessory\">\n                <AccessoryImageGallery accessory={accessory} />\n                <div className=\"content\">\n                    <AccessoryTitle accessory={accessory} type={type} />\n                    <AccessoryVariants accessories={accessories} type={type} />\n                    <div className=\"actions\">\n                        <div className=\"price-container\">\n                            <span className=\"price-symbol\">+</span>\n                            <Loader>\n                                <AccessoryPrice accessory={accessory} type={type} />\n                            </Loader>\n                        </div>\n                        <AccessoryQty type={type} />\n                    </div>\n                </div>\n            </div>\n        );\n    }, [accessory, type, accessories]);\n};\n\nconst AccessoryPrice = ({ accessory, type }) => {\n    const { index } = useConfiguratorContext();\n    const {\n        state: { accessories: stateAccessories },\n    } = useStateContext();\n    const {\n        modules: {\n            accessories: {\n                prevTotal: { options: prevOptions, total: prevTotal },\n            },\n        },\n    } = useTotalsContext();\n    let { qty } = stateAccessories[type];\n    qty = Math.max(qty, 1);\n\n    const price = useMemo(() => {\n        const objects = prevOptions.objects ? [...prevOptions.objects] : [];\n        const options = { ...prevOptions, objects };\n        objects.push([accessory, qty]);\n        const total = calculateTotalPrice(index, options).total;\n        return (total - prevTotal) / qty;\n    }, [prevOptions, accessory, qty, index, prevTotal]);\n\n    return <Price value={price} />;\n};\n\nexport const AccessoryTitle = ({ accessory, type }) => {\n    const { setModal } = useModalContext();\n    const showMoreInfo = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'info',\n                title: accessory.name,\n                data: {\n                    leadTime: accessory.additionalInfo.leadTime,\n                    description: accessory.additionalInfo.description,\n                    price: accessory.price.price,\n                    defaultImage: accessory.defaultImage,\n                    image: accessory.image,\n                    gallery: accessory.gallery,\n                    type,\n                },\n            });\n        },\n        [setModal, accessory, type]\n    );\n\n    return (\n        <div className=\"title\">\n            <span className=\"title-details-link\" onClick={showMoreInfo}>\n                {accessory.name}\n            </span>\n        </div>\n    );\n};\n\nexport const AccessoryVariants = ({ accessories, type }) => {\n    const values = Object.values(accessories);\n    if (values.length >= 2) {\n        return (\n            <div className=\"variants\">\n                {values.map((accessory, index) => {\n                    return <AccessoryVariant accessory={accessory} type={type} key={index} />;\n                })}\n            </div>\n        );\n    }\n    return null;\n};\n\nconst AccessoryVariant = ({ accessory, type }) => {\n    const {\n        state: { accessories: stateAccessories },\n        dispatch,\n    } = useStateContext();\n    const { key } = stateAccessories[type];\n    const selected = accessory.key === key;\n\n    return (\n        <label className={selected ? `checked` : ``}>\n            <AccessoryVariantImage src={accessory.accessoryOptionImage} />\n            <AccessoryVariantInput dispatch={dispatch} type={type} selected={selected} value={accessory.key} />\n            <div className=\"opt-title\">{accessory.name}</div>\n        </label>\n    );\n};\n\nconst AccessoryVariantImage = ({ src }) => {\n    return (\n        <div className=\"opt-select\">\n            <span className=\"opt-image\" style={`background: ${src}`} />\n        </div>\n    );\n};\n\nconst AccessoryVariantInput = ({ dispatch, type, selected, value }) => {\n    const callback = useCallback(\n        (event) => {\n            const { value } = event.target;\n            dispatch({\n                type: SELECT_ACCESSORY_VARIANT,\n                value,\n                itemType: type,\n            });\n        },\n        [dispatch, type]\n    );\n\n    return (\n        <input\n            type=\"radio\"\n            name={`selectAccessoryVariant-${type}`}\n            onClick={callback}\n            value={value}\n            checked={selected}\n        />\n    );\n};\n\nexport const AccessoryQty = ({ type }) => {\n    const { dispatch } = useStateContext();\n\n    const callback = useCallback(\n        (event) => {\n            const { name, value } = event.target;\n            dispatch({\n                type: name,\n                value,\n                itemType: type,\n            });\n        },\n        [dispatch, type]\n    );\n\n    return useMemo(\n        () => (\n            <div className=\"qty-input\">\n                <button name={DECREMENT_ACCESSORY_QTY} className=\"decrease\" onClick={callback}>\n                    &#x2d;\n                </button>\n                <AccessoryQtyInput callback={callback} type={type} />\n                <button name={INCREMENT_ACCESSORY_QTY} className=\"increase\" onClick={callback}>\n                    &#x2b;\n                </button>\n            </div>\n        ),\n        [callback, type]\n    );\n};\n\nconst AccessoryQtyInput = ({ callback, type }) => {\n    const {\n        state: { accessories: stateAccessories },\n    } = useStateContext();\n    const { qty } = stateAccessories[type];\n    return useMemo(() => <input name={SET_ACCESSORY_QTY} value={qty} onInput={callback} />, [qty, callback]);\n};\n\nexport const AccessoryImageGallery = ({ accessory: { image, gallery, defaultImage } }) => {\n    return (\n        <div className=\"image\">\n            <Gallery gallery={gallery} image={image} defaultImage={defaultImage} />\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useMemo } from 'preact/hooks';\nimport { useConfiguratorContext } from '../Context/Configurator';\nimport { useStateContext } from '../Context/State';\nimport { DropdownComponent } from './Dropdown';\n\nexport const Dimensions = () => {\n    const {\n        index: { pieces },\n    } = useConfiguratorContext();\n    const {\n        state: { piece },\n    } = useStateContext();\n    const { dimensions } = pieces[piece];\n    const content = useMemo(() => {\n        return {\n            title: 'Dimensions',\n            desc: dimensions,\n        };\n    }, [dimensions]);\n\n    return dimensions ? <DropdownComponent title={t`Dimensions`} content={content} /> : null;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { Info } from './Info';\nimport { Sample } from './Sample';\nimport { Filter } from './Filter';\nimport { RemoveSample } from './RemoveSample';\nimport { OrderSample } from './OrderSample';\n\nexport default {\n    info: <Info />,\n    sample: <Sample />,\n    filter: <Filter />,\n    removeSample: <RemoveSample />,\n    orderSample: <OrderSample />,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useTotalsContext } from '../../Context/Totals';\n\nexport const SummaryComponent = ({}) => {\n    const {\n        modules: {\n            style: { title },\n        },\n    } = useTotalsContext();\n\n    return (\n        <div className=\"summary-line item-4\">\n            <div className=\"title\">{t`Style`}</div>\n            <div className=\"price-container\" />\n            <div className=\"option-name\">{title}</div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { useStateContext } from '../Context/State';\n\nexport const useStateButtonCallback = () => {\n    const { dispatch } = useStateContext();\n\n    return useCallback(\n        (event) => {\n            event.preventDefault();\n            const { name, value } = event.target;\n            dispatch({\n                type: name,\n                value,\n            });\n        },\n        [dispatch]\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\nimport { useEffect } from 'preact/hooks';\nimport { useOrderSamplesAjaxRequest } from '../hooks/useOrderSamplesAjaxRequest';\nimport { Modal, useModalContext } from '../../../View/Modal';\nimport { SampleDataLoading } from './Sample';\n\nexport const OrderSample = () => {\n    return (\n        <Modal title={t`Fabric Swatches`} closeTitle={t`Back to Cover`}>\n            <OrderSampleContent />\n        </Modal>\n    );\n};\n\nconst OrderSampleContent = () => {\n    const {\n        modal: { items },\n    } = useModalContext();\n\n    const [{ data: ajaxData, loading, error }, callback] = useOrderSamplesAjaxRequest(items);\n\n    useEffect(() => {\n        callback();\n    }, [items, callback]);\n\n    if (ajaxData) {\n        if (ajaxData.success) {\n            location.href = ajaxData.url;\n        }\n    } else {\n        return <SampleDataLoading loading={loading} error={error} />;\n    }\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { useAjaxRequest } from '../../../hooks/useAjaxRequest';\n\nexport const useLoginAjaxRequest = (bodyData) => {\n    const [result, ajaxCallback] = useAjaxRequest();\n    // TODO: Request to this URL just return \"status\" and \"message\".\n\n    // TODO: In case of \"success\" response - it's necessary to \"login\" customer on FE and I don't know how\n    // TODO: to make it from React side\n\n    // TODO: So when the customer will be successfully logged-in - we can redirect it to the page with\n    // TODO: the list of saved configurations\n    const callback = useCallback(\n        (event) => {\n            event.preventDefault();\n            ajaxCallback({\n                method: 'POST',\n                url: '/customer/ajax/login',\n                data: bodyData,\n            });\n        },\n        [bodyData, ajaxCallback]\n    );\n\n    return [result, callback];\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useRef } from 'preact/hooks';\nimport { Player, PlayerLoader } from '../../View/Player';\nimport { Dropdown } from '../../View/Dropdown';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { SidebarHeader } from '../../View/SidebarHeader';\nimport { ShippingInfo } from '../../View/ShippingInfo';\nimport { useTogglePlayerHeaderEffect } from '../../View/Player/TogglePlayerHeader';\nimport { SquattomanCoverSidebar } from './SquattomanCoverSidebar';\n\nexport const View = () => {\n    const {\n        index: { squattomanCoverMarketingBlock, squattomanCoverBenefitsBlock, squattomanCoverDescriptionBlock },\n    } = useConfiguratorContext();\n\n    const squattomanCoverMarketingWrapper = useRef(null);\n\n    useTogglePlayerHeaderEffect(squattomanCoverMarketingWrapper);\n\n    return (\n        <div className=\"squattoman-content__wrapper\">\n            <div className=\"step-wrapper step-squattoman squattoman-cover-step\">\n                <PlayerLoader />\n                <SidebarHeader />\n                <div className=\"player__wrapper\">\n                    <Player show=\"desktop\" />\n                    <div className=\"step-accordion__wrapper\">\n                        <Dropdown title={t`Description`} content={squattomanCoverDescriptionBlock} />\n                        <Dropdown title={t`Benefits`} content={squattomanCoverBenefitsBlock} />\n                        <ShippingInfo />\n                    </div>\n                </div>\n                <SquattomanCoverSidebar />\n            </div>\n            <div\n                ref={squattomanCoverMarketingWrapper}\n                className=\"squattoman-marketing__wrapper\"\n                dangerouslySetInnerHTML={{\n                    __html: squattomanCoverMarketingBlock,\n                }}\n            />\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { Fragment } from 'preact';\nimport { Tabs } from '../../View/Tabs';\nimport { Player } from '../../View/Player';\nimport { useStateContext } from '../../Context/State';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { ModalContextProvider, useModalContext } from '../../View/Modal';\nimport { TabPreBuilt } from './TabPreBuilt';\nimport { TabCustom } from './TabCustom';\nimport { SET_CONFIGURATION_TYPE, TYPE_CUSTOM, TYPE_PREBUILT } from './constants';\n\nimport ModalTypes from './Modal';\n\nexport const StepComponent = () => {\n    return (\n        <Fragment>\n            <Player show=\"mobile\" />\n            <StepTabs />\n        </Fragment>\n    );\n};\n\nconst StepTabs = () => {\n    const {\n        index: { customTabLabel, prebuiltTabLabel },\n    } = useConfiguratorContext();\n    return (\n        <ModalContextProvider types={ModalTypes}>\n            <StepTabsDynamic>\n                <TabPreBuilt title={prebuiltTabLabel} code={TYPE_PREBUILT} />\n                <TabCustom title={customTabLabel} code={TYPE_CUSTOM} />\n            </StepTabsDynamic>\n        </ModalContextProvider>\n    );\n};\n\nconst StepTabsDynamic = ({ children }) => {\n    const {\n        dispatch,\n        state: { configurationType, isConfiguratorChanged },\n    } = useStateContext();\n\n    const { setModal } = useModalContext();\n\n    const tabClickCallback = useCallback(\n        (event) => {\n            event.preventDefault();\n            const { name, value } = event.target;\n\n            if (configurationType === TYPE_CUSTOM && isConfiguratorChanged) {\n                setModal({\n                    type: 'errorModal',\n                    name,\n                    value,\n                });\n            } else {\n                dispatch({\n                    type: name,\n                    value,\n                });\n            }\n        },\n        [dispatch, configurationType, isConfiguratorChanged, setModal]\n    );\n\n    return useMemo(() => {\n        return (\n            <Tabs activeTab={configurationType} tabClickCallback={tabClickCallback} buttonName={SET_CONFIGURATION_TYPE}>\n                {children}\n            </Tabs>\n        );\n    }, [configurationType, tabClickCallback, children]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { SummaryLineEditButton } from '../../View/Summary';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { Price } from '../../View/Price';\n\nexport const SummaryComponent = ({ stepIndex }) => {\n    const { PillowSize, PillowSizeTitle } = useTotalsContext();\n\n    return (\n        <div className=\"summary-line item-4\">\n            <div className=\"title\">{t`Size`}</div>\n            <SummaryLineEditButton stepIndex={stepIndex} />\n            <div className=\"price-container\">\n                <Price value={PillowSize} />\n            </div>\n            <div className=\"option-name\">{PillowSizeTitle}</div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\n\nexport const ShowroomContent = () => {\n    return (\n        <div className=\"showroom\">\n            <div className=\"content-title\">\n                <span>{t`Experience in Person`}</span>\n            </div>\n            <div className=\"content-body\">\n                <span>{t`Visit one of our showrooms to experience Sactionals for yourself.`}</span>\n            </div>\n            <div className=\"content-actions\">\n                <a href=\"/showroomlocator\" target=\"_blank\">{t`Find a Showroom`}</a>\n            </div>\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useMemo } from 'preact/hooks';\nimport { useStateContext } from '../../../Context/State';\n\nexport const usePlayerArmType = () => {\n    const {\n        state: { armStyle },\n    } = useStateContext();\n    return useMemo(() => {\n        if (armStyle === 'rollArm') {\n            return 'Rollarm';\n        }\n        return 'Standard';\n    }, [armStyle]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { Price } from '../../View/Price';\nimport { useStateContext } from '../../Context/State';\nimport { useStateInputCallback } from '../../hooks/useStateInputCallback';\nimport { Player } from '../../View/Player';\nimport { ModalContextProvider, useModalContext } from '../../View/Modal';\nimport { useHookCallback } from '../../hooks/useHookCallback';\nimport { useTotals } from '../../hooks/useTotals';\nimport ModalTypes from './Modal';\nimport { SET_PIECE } from './constants';\n\nexport const StepComponent = () => {\n    return (\n        <ModalContextProvider types={ModalTypes}>\n            <Player show=\"mobile\" />\n            <SacOptions />\n        </ModalContextProvider>\n    );\n};\n\nexport const SacOptions = () => {\n    const {\n        index: { pieces: indexPieces },\n        config: { introductionBlock },\n    } = useConfiguratorContext();\n\n    return useMemo(\n        () => (\n            <div className=\"sidebar-items\">\n                <div>\n                    <div\n                        className=\"sidebar-items__introduction\"\n                        dangerouslySetInnerHTML={{ __html: introductionBlock }}\n                    />\n                    <div className=\"sidebar-items_wrapper configure piece sacsize\">\n                        {Object.entries(indexPieces).map(([code, piece]) => (\n                            <SacOption key={code} code={code} piece={piece} />\n                        ))}\n                    </div>\n                </div>\n            </div>\n        ),\n        [indexPieces, introductionBlock]\n    );\n};\n\nconst SacOption = ({ code, piece }) => {\n    const { name, image, seatingAmount } = piece;\n    const { state } = useStateContext();\n    const { type, index } = useConfiguratorContext();\n    const updateStateCallback = useHookCallback(type, 'updateState');\n\n    const newState = useMemo(() => {\n        const newState = { ...state };\n        updateStateCallback(newState, index, {\n            type: SET_PIECE,\n            value: code,\n        });\n        return newState;\n    }, [code, index, state, updateStateCallback]);\n    const totals = useTotals(newState, false);\n\n    const disabledPiece = useMemo(() => {\n        const { fabricPieces } = index;\n        const { fabricId = null, fabricLeadTime = null } = state;\n        const { key, type } = piece;\n        const coverObject = fabricPieces?.[fabricId]?.covers?.[fabricLeadTime]?.[type]?.[key];\n        return !coverObject;\n    }, [index, state, piece]);\n\n    return useMemo(() => {\n        const defaultPrice = totals.total;\n        const originalPrice = totals.totalWithoutDiscount;\n        const showDiscount = defaultPrice !== originalPrice;\n\n        return (\n            <label\n                className={`sidebar-item piece ${disabledPiece ? 'disabled-piece' : ''}`}\n                title={disabledPiece ? t`Not available` : ''}\n            >\n                <span className=\"sidebar-item-img\">\n                    <img className=\"sidebar-item-src\" src={image} alt={name} />\n                </span>\n                <span className=\"sidebar-item-title\">\n                    <div className=\"sidebar-item-name\">\n                        {name}\n                        <div className=\"sidebar-item-info-icon\">\n                            <SacInfoButton piece={piece} />\n                        </div>\n                    </div>\n                    <div className=\"sidebar-item-radio\">\n                        <SacOptionInput code={code} disabledPiece={disabledPiece} />\n                        <div className=\"sidebar-item-radio-img\" />\n                    </div>\n                </span>\n                <span className=\"sidebar-item-price\">\n                    {showDiscount && (\n                        <s>\n                            <Price value={originalPrice} />\n                        </s>\n                    )}{' '}\n                    <Price value={defaultPrice} />\n                </span>\n                <span className=\"sidebar-seats\">{seatingAmount}</span>\n            </label>\n        );\n    }, [code, image, name, piece, seatingAmount, totals.totalWithoutDiscount, totals.total, disabledPiece]);\n};\n\nconst SacOptionInput = ({ code, disabledPiece }) => {\n    const {\n        state: { piece },\n    } = useStateContext();\n\n    const handleChange = useStateInputCallback();\n\n    return useMemo(\n        () => (\n            <input\n                type=\"radio\"\n                className=\"sidebar-item-input\"\n                name={SET_PIECE}\n                checked={piece === code}\n                onChange={handleChange}\n                value={code}\n                disabled={disabledPiece}\n            />\n        ),\n        [handleChange, piece, code, disabledPiece]\n    );\n};\n\nconst SacInfoButton = ({ piece }) => {\n    const { name } = piece;\n\n    const { setModal } = useModalContext();\n    const showMoreInfo = useCallback(\n        (event) => {\n            event.preventDefault();\n            setModal({\n                type: 'info',\n                title: name,\n                data: piece,\n            });\n        },\n        [setModal, name, piece]\n    );\n\n    return (\n        <a className=\"sacs-details__link\" data-item-code={piece.type} onClick={showMoreInfo} title={t`Details`}>\n            {t`Details`}\n        </a>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback, useState } from 'preact/hooks';\nimport { usePlayerProductId } from '../../../../../Step/Configure/hooks/usePlayerProductId';\nimport { usePlayerContext } from '../../../../../Context/Player';\nimport { RESET_CONFIGURATION } from '../../../../../Step/Configure/constants';\nimport { useStateContext } from '../../../../../Context/State';\n\nexport const UndoButton = ({ title }) => {\n    const productId = usePlayerProductId();\n    const {\n        state: { api },\n    } = usePlayerContext();\n    const { dispatch } = useStateContext();\n    const [resetingClass, setResetingClass] = useState('');\n\n    const callback = useCallback(\n        async (event) => {\n            event.preventDefault();\n            try {\n                setResetingClass('reseting');\n                await api.setProduct(productId);\n                setResetingClass('');\n            } catch (e) {\n                setResetingClass('');\n                throw new Error('Error occurred!', e);\n            }\n\n            dispatch({ type: RESET_CONFIGURATION });\n            window.dispatchEvent(new Event('itemAdd'));\n        },\n        [api, productId, dispatch]\n    );\n\n    return (\n        <button className={`player-button undo ${resetingClass}`} onClick={callback} title={title}>\n            <span>{title}</span>\n        </button>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useEffect, useMemo, useState, useCallback } from 'preact/hooks';\nimport { usePlayerContext } from '../../Context/Player';\nimport { useStateContext } from '../../Context/State';\nimport { useBrowserContext } from '../../Context/Browser';\n\nexport const PlayerThumbnails = ({ angles = [], getImageSrc, code = '' }) => {\n    const [currentIndex, setCurrentIndex] = useState('0');\n\n    const {\n        state: { api },\n    } = usePlayerContext();\n\n    const {\n        state: { configuration = null, armStyle = null, piece = null },\n    } = useStateContext();\n    useEffect(() => {\n        setCurrentIndex('0');\n    }, [setCurrentIndex, configuration, armStyle, piece]);\n\n    return useMemo(() => {\n        if (!api) {\n            return null;\n        }\n        return (\n            <div>\n                <PlayerThumbnailSync currentIndex={currentIndex} />\n                <DragToRotateText currentIndex={currentIndex} code={code} />\n                <PlayerThumbnailButtons\n                    currentIndex={currentIndex}\n                    setCurrentIndex={setCurrentIndex}\n                    code={code}\n                    getImageSrc={getImageSrc}\n                    angles={angles}\n                />\n            </div>\n        );\n    }, [api, currentIndex, setCurrentIndex, code, getImageSrc, angles]);\n};\n\nconst PlayerThumbnailSync = ({ currentIndex }) => {\n    const {\n        state: { api },\n    } = usePlayerContext();\n    useEffect(() => {\n        if (api.setCameraTool) {\n            api.setCameraTool({\n                key: 'rotate',\n                enabled: currentIndex !== 'zoom',\n            });\n        }\n        if (api.rotateCamera && currentIndex !== '360') {\n            api.rotateCamera(currentIndex);\n        }\n    }, [api, currentIndex]);\n};\n\nconst DragToRotateText = ({ currentIndex, code }) => {\n    const dragToRotateTextVisible = useMemo(() => {\n        return (\n            [\n                'sactional',\n                'sac',\n                'throwPillow',\n                'outdoorSactional',\n                'sacCover',\n                'throwPillowCover',\n                'sactionalPiece',\n            ].includes(code) && currentIndex !== 'zoom'\n        );\n    }, [currentIndex, code]);\n\n    return useMemo(\n        () => (\n            <div className=\"drag-to-rotate\">\n                <span className={dragToRotateTextVisible ? 'drag-visible' : 'drag-invisible'}>{t`Drag to rotate`}</span>\n            </div>\n        ),\n        [dragToRotateTextVisible]\n    );\n};\n\nconst PlayerThumbnailButtons = (props) => {\n    const { isMobile } = useBrowserContext();\n\n    return useMemo(() => {\n        if (props.code === 'sactionalPiece' || isMobile) {\n            return null;\n        }\n        return <PlayerThumbnailButtonsVisible {...props} />;\n    }, [isMobile, props]);\n};\n\nconst PlayerThumbnailButtonsVisible = ({ angles, getImageSrc, currentIndex, setCurrentIndex }) => {\n    const items = useMemo(() => {\n        const items = [];\n        for (const angle of angles) {\n            items.push({\n                code: angle.toString(),\n                className: 'camera-rotate',\n                title: 'Rotate',\n                imageSrc: getImageSrc(angle),\n            });\n        }\n        items.push({\n            code: 'zoom',\n            className: 'camera-zoom',\n            title: 'Zoom',\n            imageSrc: getImageSrc('zoom'),\n        });\n        return items;\n    }, [getImageSrc, angles]);\n\n    return useMemo(() => {\n        return (\n            <div className=\"player-thumbnails__wrapper\">\n                {items.map((item) => (\n                    <PlayerThumbnailButton\n                        item={item}\n                        setCurrentIndex={setCurrentIndex}\n                        selected={currentIndex === item.code}\n                        key={item.code}\n                    />\n                ))}\n            </div>\n        );\n    }, [currentIndex, items, setCurrentIndex]);\n};\n\nconst PlayerThumbnailButton = ({ item: { className, title, imageSrc, code }, setCurrentIndex, selected }) => {\n    const callback = useCallback(() => setCurrentIndex(code), [code, setCurrentIndex]);\n    if (!imageSrc) {\n        return;\n    }\n    return (\n        <button\n            className={`player-thumbnail ${className} ${selected ? 'active' : ''}`}\n            onClick={callback}\n            title={title}\n        >\n            <img src={imageSrc} alt={title} />\n            <span>{title}</span>\n        </button>\n    );\n};\n","!function(n,t){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var r=t();for(var e in r)(\"object\"==typeof exports?exports:n)[e]=r[e]}}(this,function(){return function(n){function t(e){if(r[e])return r[e].exports;var u=r[e]={i:e,l:!1,exports:{}};return n[e].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var r={};return t.m=n,t.c=r,t.i=function(n){return n},t.d=function(n,r,e){t.o(n,r)||Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:e})},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,\"a\",r),r},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p=\"\",t(t.s=4)}([function(n,t,r){n.exports=r(6)},function(n,t,r){\"use strict\";function e(n,t){return o(n)||f(n,t)||u()}function u(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function f(n,t){var r=[],e=!0,u=!1,f=void 0;try{for(var o,i=n[Symbol.iterator]();!(e=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);e=!0);}catch(n){u=!0,f=n}finally{try{e||null==i.return||i.return()}finally{if(u)throw f}}return r}function o(n){if(Array.isArray(n))return n}function i(n){return\"return args[+ (\".concat(n,\")];\")}function a(n){var t=F[n];return t||(t=new Function(\"n\",\"args\",i(n)),F[n]=t),t}function c(n){var t=n[\"plural-forms\"]||n[\"Plural-Forms\"];if(!t)throw new Error('po. data should include \"language\" or \"plural-form\" header for ngettext');var r=O.exec(t)[1];return\";\"===r[r.length-1]&&(r=r.slice(0,-1)),r}function s(n){var t=[];for(var r in n)n.hasOwnProperty(r)&&t.push(r);return t}function l(n,t){return n.replace(z,function(n){return\"${\".concat(t[_(n)],\"}\")})}function g(n){var t={},r=n.match(z);if(!r)return null;for(var e=0;e<r.length;e++)t[_(r[e])]=e;return t}function d(n){var t=g(n.msgid);if(!t)return n;var r=l(n.msgid,t),e={msgid:r};n.msgid_plural&&(e.msgid_plural=l(n.msgid_plural,t)),e.msgstr=[];for(var u=n.msgstr,f=0;f<u.length;f++)e.msgstr.push(l(u[f],t));return e.comments=n.comments,e}function h(n){for(var t={},r=s(n.translations),e=0;e<r.length;e++){for(var u=r[e],f=n.translations[u],o={},i=s(f),a=0;a<i.length;a++){var c=i[a],l=d(f[c]);o[l.msgid]=l}t[u]=o}return n.translations=t,n}function v(n,t){var r=g(n);return r?[l(n,r),t.map(function(n){return l(n,r)})]:[n,t]}function p(n){for(var t={headers:n.headers},r={},u=s(n.contexts),f=0;f<u.length;f++){for(var o=u[f],i={},a=s(n.contexts[o]),c=0;c<a.length;c++){var l=a[c],g=n.contexts[o][l],d=v(l,g),h=e(d,2),p=h[0],m=h[1];i[p]=m}r[o]=i}return t.contexts=r,t}function m(n){return\"string\"!=typeof n?n:-1===n.indexOf(\"\\n\")?n:y()(n)}function L(n){var t=n.getCurrentLocaleHeaders(),e=t.language||t.Language;return e?r.i(b.getPluralFunc)(e):a(c(t))}r.d(t,\"c\",function(){return w}),r.d(t,\"d\",function(){return D}),r.d(t,\"a\",function(){return P}),r.d(t,\"e\",function(){return A}),t.g=h,t.h=p,t.b=m,t.f=L;var x=r(5),y=r.n(x),b=r(0),w=(r.n(b),function(n,t){for(var r=[],e=t.length,u=n.length,f=0;f<u;f++){var o=f<e?\"${\".concat(f,\"}\"):\"\";r.push(n[f]+o)}return r.join(\"\")}),_=function(n){return n.replace(/\\s/g,\"\")},j={},k=function(n){return new RegExp(\"\\\\$\\\\{(?:[\\\\s]+?|\\\\s?)\".concat(n,\"(?:[\\\\s]+?|\\\\s?)}\"))},C=function(n){return function(t){return j[t]?j[t]:(j[t]=n(t),j[t])}}(k),D=function(n,t){return t.reduce(function(n,t,r){return n.replace(C(r),t)},n)},P=function(n,t){return n.reduce(function(n,r,e){return n+r+(void 0!==t[e]?t[e]:\"\")},\"\")},A=function(n,t){return n.reduce(function(n,r,e){return void 0!==t[e]?n.concat(r,t[e]):n.concat(r)},[])},F={},O=/\\splural ?=?([\\s\\S]*);?/,z=/\\$\\{\\s*([.\\w+\\[\\]])*\\s*\\}/g},function(n,t,r){\"use strict\";var e=r(0);r.n(e)},function(n,t,r){\"use strict\";function e(){var n={locales:{},currentLocales:[],currentLocale:\"en\",dedent:!0,defaultLang:\"en\"};this.addLocale=function(t,e){if(e.translations)e=r.i(u.g)(e);else{if(!e.contexts)throw new Error(\"Invalid locale data format\");e=r.i(u.h)(e)}n.locales[t]=e},this.setCurrentLocale=function(t){n.currentLocale=t},this.setDedent=function(t){n.dedent=t},this.setCurrentLocales=function(t){n.currentLocales=t},this.getAvailLocales=function(){return n.locales},this.getCurrentLocales=function(){return n.currentLocales},this.getCurrentLocale=function(){return n.currentLocale},this.isDedent=function(){return n.dedent},this.setDefaultLang=function(t){n.defaultLang=t},this.getDefaultPluralFn=function(){return r.i(f.getPluralFunc)(n.defaultLang)},this.getDefaultPluralFormsCount=function(){return r.i(f.getNPlurals)(n.defaultLang)},this.getCurrentLocaleHeaders=function(){return n.locales[n.currentLocale].headers}}t.a=e;var u=r(1),f=(r(2),r(0));r.n(f)},function(n,t,r){\"use strict\";function e(n){this.getContext=function(){return n}}function u(n){return n&&n.comments&&\"fuzzy\"===n.comments.flag}function f(n){if(!n)return!1;for(var t=0;t<n.length;t++)if(!n[t].length)return!1;return!0}function o(n){if(n&&n.reduce){for(var t=arguments.length,e=new Array(t>1?t-1:0),u=1;u<t;u++)e[u-1]=arguments[u];var f=new String(r.i(a.a)(n,e));return f._strs=n,f._exprs=e,f}return n}function i(){function n(n){x.setDefaultLang(n)}function t(n){x.setCurrentLocales(n)}function o(n){x.setDedent(Boolean(n))}function i(n){x.setCurrentLocale(n)}function d(n,t){x.addLocale(n,t)}function h(n){var t=n;if(n&&n.reduce){for(var e=arguments.length,u=new Array(e>1?e-1:0),f=1;f<e;f++)u[f-1]=arguments[f];var o=y(r.i(a.c)(n,u)),i=s(this),c=w(o,i);t=c?r.i(a.d)(c[0],u):r.i(a.a)(n,u)}return y(t)}function v(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),u=1;u<t;u++)e[u-1]=arguments[u];if(n&&n.reduce){var f=y(r.i(a.c)(n,e)),o=s(this),i=w(f,o);if(!i)return r.i(a.e)(n,e);return i[0].split(l).map(function(n){var t=n.match(g);return t?e[+t[1]]:n})}return n}function p(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var u=y(r.i(a.c)(t[0]._strs,t[0]._exprs)),f=t[t.length-1],o=t.slice(1,-1);o.unshift(t[0].toString());var i=w(u,s(this));if(i){var c=r.i(a.f)(x);return y(r.i(a.d)(c(f,i),t[0]._exprs))}var l=x.getDefaultPluralFn();return y(l(f,o))}function m(n){var t=s(this),r=w(n,t);return r?r[0]:n}function L(n){var t=new e(n);return{t:h.bind(t),jt:v.bind(t),gettext:m.bind(t),ngettext:p.bind(t)}}var x=new c.a,y=function(n){return x.isDedent()?r.i(a.b)(n):n},b=function(n,t,r){var e=x.getAvailLocales(),o=e[n];if(!o)return null;if(o.translations){var i=o.translations[r]||o.translations[\"\"],a=i&&i[t];if(a&&!u(a)&&f(a.msgstr))return a.msgstr}if(o.contexts){var c=o.contexts[r]||o.contexts[\"\"],s=c&&c[t];if(s&&f(s))return s}return null},w=function(n,t){var r=x.getCurrentLocales();if(r.length)for(var e=0;e<r.length;e++){var u=b(r[e],n,t);if(u)return x.setCurrentLocale(r[e]),u}return b(x.getCurrentLocale(),n,t)};return{_:m,addLocale:d,c:L,gettext:m,jt:v,ngettext:p,setDedent:o,setDefaultLang:n,t:h,useLocale:i,useLocales:t}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.msgid=o,t.TTag=i,r.d(t,\"_\",function(){return h}),r.d(t,\"addLocale\",function(){return v}),r.d(t,\"c\",function(){return p}),r.d(t,\"gettext\",function(){return m}),r.d(t,\"jt\",function(){return L}),r.d(t,\"ngettext\",function(){return x}),r.d(t,\"setDedent\",function(){return y}),r.d(t,\"setDefaultLang\",function(){return b}),r.d(t,\"t\",function(){return w}),r.d(t,\"useLocale\",function(){return _}),r.d(t,\"useLocales\",function(){return j});var a=r(1),c=(r(2),r(3)),s=function(n){return n instanceof e?n.getContext():\"\"},l=/(\\${\\s*\\d+\\s*})/g,g=/\\${\\s*(\\d+)\\s*}/,d=new i,h=d._,v=d.addLocale,p=d.c,m=d.gettext,L=d.jt,x=d.ngettext,y=d.setDedent,b=d.setDefaultLang,w=d.t,_=d.useLocale,j=d.useLocales},function(n,t,r){\"use strict\";function e(n){var t=void 0;t=\"string\"==typeof n?[n]:n.raw;for(var r=\"\",e=0;e<t.length;e++)r+=t[e].replace(/\\\\\\n[ \\t]*/g,\"\").replace(/\\\\`/g,\"`\"),e<(arguments.length<=1?0:arguments.length-1)&&(r+=arguments.length<=e+1?void 0:arguments[e+1]);var u=r.split(\"\\n\"),f=null;return u.forEach(function(n){var t=n.match(/^(\\s+)\\S+/);if(t){var r=t[1].length;f=f?Math.min(f,r):r}}),null!==f&&(r=u.map(function(n){return\" \"===n[0]?n.slice(f):n}).join(\"\\n\")),r=r.trim(),r.replace(/\\\\n/g,\"\\n\")}n.exports=e},function(n,t,r){\"use strict\";function e(n,t){if(t[n])return t[n];var r=n.match(l);if(!r)throw new Error(\"Can't find lang or lcale with code \"+n);return t[r[1]]}function u(n){return n>1}function f(n){return 1!==n}function o(n){return 0}function i(n){return e(n,g).n}function a(n){if(d[n])return d[n];var t=e(n,g),r=function(n,r){return r[+t.f(n)]};return d[n]=r,r}function c(n){try{return e(n,g),!0}catch(n){return!1}}function s(){return Object.keys(g)}Object.defineProperty(t,\"__esModule\",{value:!0});var l=/(\\w+)[-_].*/,g={ach:{n:2,f:u},af:{n:2,f:f},ak:{n:2,f:u},am:{n:2,f:u},an:{n:2,f:f},ar:{n:6,f:function(n){return 0===n?0:1===n?1:2===n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5}},arn:{n:2,f:u},ast:{n:2,f:f},ay:{n:1,f:o},az:{n:2,f:f},be:{n:3,f:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2}},bg:{n:2,f:f},bn:{n:2,f:f},bo:{n:1,f:o},br:{n:2,f:u},brx:{n:2,f:f},bs:{n:3,f:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2}},ca:{n:2,f:f},cgg:{n:1,f:o},cs:{n:3,f:function(n){return 1===n?0:n>=2&&n<=4?1:2}},csb:{n:3,f:function(n){return 1===n?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2}},cy:{n:4,f:function(n){return 1===n?0:2===n?1:8!==n&&11!==n?2:3}},da:{n:2,f:f},de:{n:2,f:f},doi:{n:2,f:f},dz:{n:1,f:o},el:{n:2,f:f},en:{n:2,f:f},eo:{n:2,f:f},es:{n:2,f:f},et:{n:2,f:f},eu:{n:2,f:f},fa:{n:1,f:o},ff:{n:2,f:f},fi:{n:2,f:f},fil:{n:2,f:u},fo:{n:2,f:f},fr:{n:2,f:u},fur:{n:2,f:f},fy:{n:2,f:f},ga:{n:5,f:function(n){return 1===n?0:2===n?1:n<7?2:n<11?3:4}},gd:{n:4,f:function(n){return 1===n||11===n?0:2===n||12===n?1:n>2&&n<20?2:3}},gl:{n:2,f:f},gu:{n:2,f:f},gun:{n:2,f:u},ha:{n:2,f:f},he:{n:2,f:f},hi:{n:2,f:f},hne:{n:2,f:f},hr:{n:3,f:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2}},hu:{n:2,f:f},hy:{n:2,f:f},id:{n:1,f:o},is:{n:2,f:function(n){return n%10!=1||n%100==11}},it:{n:2,f:f},ja:{n:1,f:o},jbo:{n:1,f:o},jv:{n:2,f:function(n){return 0!==n}},ka:{n:1,f:o},kab:{n:2,f:f},kk:{n:1,f:o},km:{n:1,f:o},kn:{n:2,f:f},ko:{n:1,f:o},ku:{n:2,f:f},kw:{n:4,f:function(n){return 1===n?0:2===n?1:3===n?2:3}},ky:{n:1,f:o},lb:{n:2,f:f},ln:{n:2,f:u},lo:{n:1,f:o},lt:{n:3,f:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2}},lv:{n:3,f:function(n){return n%10==1&&n%100!=11?0:0!==n?1:2}},mai:{n:2,f:f},mfe:{n:2,f:u},mg:{n:2,f:u},mi:{n:2,f:u},mk:{n:2,f:function(n){return 1===n||n%10==1?0:1}},ml:{n:2,f:f},mn:{n:2,f:f},mni:{n:2,f:f},mnk:{n:3,f:function(n){return 0===n?0:1===n?1:2}},mr:{n:2,f:f},ms:{n:1,f:o},mt:{n:4,f:function(n){return 1===n?0:0===n||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3}},my:{n:1,f:o},nah:{n:2,f:f},nap:{n:2,f:f},nb:{n:2,f:f},ne:{n:2,f:f},nl:{n:2,f:f},nn:{n:2,f:f},no:{n:2,f:f},nso:{n:2,f:f},oc:{n:2,f:u},or:{n:2,f:f},pa:{n:2,f:f},pap:{n:2,f:f},pl:{n:3,f:function(n){return 1===n?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2}},pms:{n:2,f:f},ps:{n:2,f:f},pt:{n:2,f:f},rm:{n:2,f:f},ro:{n:3,f:function(n){return 1===n?0:0===n||n%100>0&&n%100<20?1:2}},ru:{n:3,f:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2}},rw:{n:2,f:f},sah:{n:1,f:o},sat:{n:2,f:f},sco:{n:2,f:f},sd:{n:2,f:f},se:{n:2,f:f},si:{n:2,f:f},sk:{n:3,f:function(n){return 1===n?0:n>=2&&n<=4?1:2}},sl:{n:4,f:function(n){return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0}},so:{n:2,f:f},son:{n:2,f:f},sq:{n:2,f:f},sr:{n:3,f:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2}},su:{n:1,f:o},sv:{n:2,f:f},sw:{n:2,f:f},ta:{n:2,f:f},te:{n:2,f:f},tg:{n:2,f:u},th:{n:1,f:o},ti:{n:2,f:u},tk:{n:2,f:f},tr:{n:2,f:u},tt:{n:1,f:o},ug:{n:1,f:o},uk:{n:3,f:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2}},ur:{n:2,f:f},uz:{n:2,f:u},vi:{n:1,f:o},wa:{n:2,f:u},wo:{n:1,f:o},yo:{n:2,f:f},zh:{n:1,f:o}},d={};t.getNPlurals=i,t.getPluralFunc=a,t.hasLang=c,t.getAvailLangs=s}])});","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n/* eslint camelcase: off */\nimport { useCallback } from 'preact/hooks';\nimport { useAjaxRequest } from '../../../hooks/useAjaxRequest';\n\nexport const useOrderSamplesAjaxRequest = (items) => {\n    const [result, ajaxRequest] = useAjaxRequest();\n\n    const callback = useCallback(() => {\n        const quoteItems = [];\n        for (const { item_id, product_id } of items) {\n            quoteItems.push({ item_id, product_id });\n        }\n        ajaxRequest({\n            method: 'POST',\n            url: '/fabricguide/swatch/placeQuote',\n            data: { items: quoteItems },\n            addFormKey: true,\n        });\n    }, [items, ajaxRequest]);\n\n    return [result, callback];\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { useMemo } from 'preact/hooks';\nimport { useConfiguratorContext } from '../Context/Configurator';\nimport { calculateTotalPrice } from '../calculator';\nimport { useModulesByMethod } from './useModulesByMethod';\n\nconst defaultTotals = {\n    total: 0,\n    totalWithoutDiscount: 0,\n    modules: {},\n};\n\nexport const useTotals = (state, addSubtotals = true) => {\n    const { type, index } = useConfiguratorContext();\n    const modules = useModulesByMethod(type, 'collectTotals');\n\n    return useMemo(() => {\n        const totals = { ...defaultTotals };\n        let previousTotal = { options: {}, total: 0 };\n\n        for (const module of modules) {\n            const moduleTotal = module.collectTotals(previousTotal, state, index);\n\n            if (addSubtotals) {\n                Object.assign(moduleTotal, calculateTotalPrice(index, moduleTotal.options));\n\n                moduleTotal.prevTotal = previousTotal;\n                moduleTotal.price = moduleTotal.total - previousTotal.total;\n                totals.modules[module.code] = moduleTotal;\n            }\n\n            previousTotal = moduleTotal;\n        }\n\n        totals.last = previousTotal;\n        totals.totalWithoutDiscount = calculateTotalPrice(index, {\n            ...previousTotal.options,\n            applyDiscounts: false,\n        }).total;\n\n        if (addSubtotals) {\n            totals.total = previousTotal.total;\n        } else {\n            totals.total = calculateTotalPrice(index, previousTotal.options).total;\n        }\n\n        return totals;\n    }, [index, modules, state, addSubtotals]);\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { Fragment } from 'preact';\nimport { useEffect } from 'preact/hooks';\nimport { ActionAddToCart } from '../../View/ActionAddToCart';\nimport { useTotalsContext } from '../../Context/Totals';\nimport { Price } from '../../View/Price';\nimport { SummaryContent } from '../../View/Summary';\nimport { FinancingContent } from '../../View/Financing';\nimport { ShowroomContent } from '../../View/Showroom';\nimport { ReviewContent } from '../../View/Review';\nimport { SaveShareMobileContent } from '../../View/ActionMobile';\nimport { ProductDetailsRiskFree, ProductDetailsShippingReturns } from '../../View/ProductDetailsMobile';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { ShippingInfoComponent } from '../../View/ShippingInfoComponent';\nimport { LogoSubtitle } from '../../View/LogoSubtitle';\nimport { Player } from '../../View/Player';\nimport { useDataLayerContext } from '../../Context/DataLayer';\nimport { Loader } from '../../View/Loader';\n\nexport const StepComponent = () => {\n    const push = useDataLayerContext();\n    useEffect(() => {\n        push('summary');\n    }, [push]);\n\n    return (\n        <Fragment>\n            <div className=\"summary\">\n                <SummaryHeader />\n                <SummaryContent />\n                <Loader>\n                    <ShippingInfoComponent />\n                    <FinancingContent />\n                    <ShowroomContent />\n                    <ProductDetailsMobile />\n                </Loader>\n            </div>\n            <SummaryActionBar />\n        </Fragment>\n    );\n};\n\nconst SummaryHeader = () => {\n    const {\n        index: { configuratorTitle },\n    } = useConfiguratorContext();\n\n    const {\n        options: {\n            config: { financingMessage, financingMessageMonths },\n        },\n    } = useConfiguratorContext();\n    const { total } = useTotalsContext();\n\n    const message =\n        financingMessage && financingMessageMonths\n            ? financingMessage\n                  .replace('%1', `$${Math.ceil(total / financingMessageMonths)}`)\n                  .replace('%2', financingMessageMonths)\n            : null;\n\n    return (\n        <div className=\"summary-header\">\n            <ReviewContent />\n            <span className=\"title\">{t`Your ${configuratorTitle} Setup`}</span>\n            <SummaryTotalPrice />\n            <div className=\"special-financing\">\n                <span className=\"financing-message-text\" dangerouslySetInnerHTML={{ __html: message }} />\n                <div className=\"learn-more\">\n                    <div className=\"img\" />\n                    <a href=\"/financing\" target=\"_blank\">{t`Learn More`}</a>\n                </div>\n            </div>\n            <Player show=\"mobile\" />\n            <SaveShareMobileContent />\n        </div>\n    );\n};\n\nconst SummaryTotalPrice = () => {\n    const { total, totalWithoutDiscount } = useTotalsContext();\n\n    return (\n        <div className=\"price-container\">\n            <Price value={total} />{' '}\n            {totalWithoutDiscount > total ? (\n                <s>\n                    <Price value={totalWithoutDiscount} />\n                </s>\n            ) : null}\n        </div>\n    );\n};\n\nconst ProductDetailsMobile = () => {\n    const {\n        index: { riskFreeConfiguration, shippingReturnsConfiguration },\n    } = useConfiguratorContext();\n    return (\n        <div className=\"product-details-mobile\">\n            <LogoSubtitle />\n            <ProductDetailsRiskFree\n                title={t`Risk-Free 60-Day Home Trial`}\n                cssClass={'risk-free'}\n                content={riskFreeConfiguration}\n            />\n            <ProductDetailsShippingReturns\n                title={t`Shipping and Returns`}\n                cssClass={'shipping-returns'}\n                content={shippingReturnsConfiguration}\n            />\n        </div>\n    );\n};\n\nconst SummaryActionBar = () => {\n    return <ActionAddToCart />;\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { Info } from './Info';\n\nexport default {\n    info: <Info />,\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { MeasurementButton } from '../../../View/Player/Toolbar/MeasurementButton';\nimport { FloorButton } from '../../../View/Player/Toolbar/FloorButton';\nimport ConfigureModals from '../../../Step/Configure/Modal';\nimport ToolbarModals from '../../../View/Player/Toolbar/Modal';\nimport { useBrowserContext } from '../../../Context/Browser';\nimport { ModalContextProvider } from '../../../View/Modal';\nimport { ZoomButton } from '../../../View/Player/Toolbar/ZoomButton';\nimport { HelpButton } from './ToolbarButtons/Webgl/HelpButton';\nimport { VrayButton } from './ToolbarButtons/Webgl/VrayButton';\nimport { RotateButton } from './ToolbarButtons/Webgl/RotateButton';\nimport { PlayerBottomButtons } from './ToolbarButtons/Webgl/PlayerBottomButtons';\nimport { UndoButton } from './ToolbarButtons/Webgl/UndoButton';\n\nconst modalTypes = { ...ConfigureModals, ...ToolbarModals };\n\nexport const WebglPlayerToolbar = () => {\n    const { isMobile } = useBrowserContext();\n\n    return (\n        <ModalContextProvider types={modalTypes}>\n            <div className=\"player-toolbar webgl\">\n                <HelpButton title={t`Help`} />\n                <VrayButton title={t`Detailed view`} />\n                <FloorButton title={t`Floor Texture`} />\n                <MeasurementButton title={t`Dimensions`} />\n                <RotateButton title={t`360 View`} />\n                <ZoomButton title={t`Augmented Reality`} />\n                {!isMobile ? <UndoButton title={t`Reset`} /> : null}\n            </div>\n            {isMobile ? <UndoButton title={t`Reset`} /> : null}\n            <PlayerBottomButtons />\n        </ModalContextProvider>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { t } from 'ttag';\nimport { useRef } from 'preact/hooks';\nimport { Player, PlayerLoader } from '../../View/Player';\nimport { Dropdown } from '../../View/Dropdown';\nimport { useConfiguratorContext } from '../../Context/Configurator';\nimport { ShippingInfo } from '../../View/ShippingInfo';\nimport { SidebarHeader } from '../../View/SidebarHeader';\nimport { PieceDescription } from '../../View/PieceDescription';\nimport { useTogglePlayerHeaderEffect } from '../../View/Player/TogglePlayerHeader';\nimport { SactionalCoverSidebar } from './SactionalCoverSidebar';\n\nexport const View = () => {\n    const { index } = useConfiguratorContext();\n\n    const { sactionalCoverBenefitsBlock, sactionalCoverMarketingBlock } = index;\n\n    const sactionalCoverMarketingWrapper = useRef(null);\n\n    useTogglePlayerHeaderEffect(sactionalCoverMarketingWrapper);\n\n    return (\n        <div className=\"squattoman-content__wrapper\">\n            <div className=\"step-wrapper step-squattoman\">\n                <PlayerLoader />\n                <SidebarHeader />\n                <div className=\"player__wrapper\">\n                    <Player show=\"desktop\" />\n                    <div className=\"step-accordion__wrapper\">\n                        <PieceDescription />\n                        <Dropdown title={t`Benefits`} content={sactionalCoverBenefitsBlock} />\n                        <ShippingInfo />\n                    </div>\n                </div>\n                <SactionalCoverSidebar />\n            </div>\n            <div\n                ref={sactionalCoverMarketingWrapper}\n                className=\"squattoman-marketing__wrapper\"\n                dangerouslySetInnerHTML={{\n                    __html: sactionalCoverMarketingBlock,\n                }}\n            />\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { Component, createRef } from 'preact';\n\nexport class ThreekitPlayer extends Component {\n    constructor(props) {\n        super(props);\n        this.ref = createRef();\n        this.node = this.props.domNode;\n    }\n\n    shouldComponentUpdate() {\n        return false;\n    }\n\n    componentDidMount() {\n        this.ref.current.appendChild(this.node);\n    }\n\n    componentWillUnmount() {\n        if (this.node.parentNode === this.ref.current) {\n            document.body.appendChild(this.node);\n        }\n    }\n\n    render() {\n        return <div className=\"threekit-player\" ref={this.ref} />;\n    }\n}\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useEffect, useMemo, useRef } from 'preact/hooks';\nimport { useNavigatorContext } from '../Context/Navigator';\nimport { useConfiguratorContext } from '../Context/Configurator';\nimport { SummaryBar, SummaryExpanded } from './Summary';\nimport { Footer } from './Footer';\nimport { Player, PlayerLoader } from './Player';\nimport { TitleBar } from './Title';\n\nexport const StepNavigator = () => {\n    return (\n        <div className=\"step-wrapper\">\n            <Player show=\"desktop\" />\n            <StepView />\n            <PlayerLoader />\n        </div>\n    );\n};\n\nconst StepView = () => {\n    const { step } = useNavigatorContext();\n\n    return useMemo(\n        () => (\n            <div className={`step step-${step.code}`}>\n                <StepGlobalComponent />\n                <SummaryBar />\n                <StepViewInner />\n                <Footer />\n            </div>\n        ),\n        [step]\n    );\n};\n\nconst StepViewInner = () => {\n    const { summaryExpanded } = useNavigatorContext();\n\n    return useMemo(\n        () =>\n            summaryExpanded ? (\n                <SummaryExpanded />\n            ) : (\n                <div className={`sidebar-content`}>\n                    <TitleBar />\n                    <StepViewContent />\n                </div>\n            ),\n        [summaryExpanded]\n    );\n};\n\nconst StepViewContent = () => {\n    const { stepIndex, step } = useNavigatorContext();\n    const ref = useRef(null);\n\n    useEffect(() => {\n        if (ref.current) {\n            ref.current.scrollTop = 0;\n        }\n    }, [stepIndex]);\n\n    return (\n        <div className=\"step-content\" ref={ref}>\n            <step.StepComponent />\n        </div>\n    );\n};\n\nconst StepGlobalComponent = () => {\n    const {\n        type: { steps },\n    } = useConfiguratorContext();\n    return useMemo(\n        () => steps.map((step, index) => (step.GlobalComponent ? <step.GlobalComponent key={index} /> : null)),\n        [steps]\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { Price } from './Price';\n\nexport const PriceContainer = ({ total, totalWithoutDiscount, classes = 'price price-container' }) => {\n    const showDiscount = totalWithoutDiscount > total;\n\n    return (\n        <div className={classes}>\n            <s>{showDiscount ? <Price value={totalWithoutDiscount} /> : null}</s>\n            <Price value={total} />{' '}\n        </div>\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { useCallback } from 'preact/hooks';\nimport { useStateContext } from '../Context/State';\n\nexport const useStateInputCallback = () => {\n    const { dispatch } = useStateContext();\n\n    return useCallback(\n        (event) => {\n            const { name, value } = event.target;\n            dispatch({\n                type: name,\n                value,\n            });\n        },\n        [dispatch]\n    );\n};\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nimport { t } from 'ttag';\n\nexport const title = t`Cover`;\nexport const code = 'cover';\n\nexport const SET_FABRIC = 'setFabric';\nexport const SET_FABRIC_LEAD_TIME = 'setFabricLeadTime';\nexport const SET_FABRIC_FILTER = 'setFabricFilter';\nexport const SET_FABRIC_TO_FILTER = 'setFabricToFilter';\nexport const RESET_FABRIC_FILTER = 'resetFabricFilter';\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n *\n * Gallery docs: https://www.npmjs.com/package/react-responsive-carousel\n */\n\nimport { Carousel } from 'react-responsive-carousel';\n\nexport const Gallery = ({ gallery, image, defaultImage, setSlide = null }) => {\n    if (gallery.length > 1) {\n        return <ImagesGallery setSlide={setSlide} gallery={gallery} />;\n    }\n\n    if (gallery.length === 1) {\n        return <Image image={gallery[0].img} />;\n    }\n\n    if (image) {\n        return <Image image={image} />;\n    }\n\n    return <Image image={defaultImage} />;\n};\n\nconst defaultSetSlide = () => {};\n\nconst ImagesGallery = ({ gallery, setSlide }) => (\n    <div className=\"react-carousel\">\n        <Carousel\n            showStatus={false}\n            showThumbs={false}\n            stopOnHover={true}\n            dynamicHeight={false}\n            height={210}\n            onChange={setSlide || defaultSetSlide}\n        >\n            {gallery.map((image, index) => (\n                <span key={index}>\n                    <Image image={image.img} />\n                    {image.note ? (\n                        <p\n                            className=\"gallery-note\"\n                            dangerouslySetInnerHTML={{\n                                __html: image.note,\n                            }}\n                        />\n                    ) : null}\n                </span>\n            ))}\n        </Carousel>\n    </div>\n);\n\nconst Image = ({ image }) => (\n    <div className=\"gallery single-image\">\n        <div className=\"item\">\n            <img src={image} alt=\"\" />\n        </div>\n    </div>\n);\n","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\n\nexport * from './Player';\nexport * from './PlayerLoader';\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _cssClasses = _interopRequireDefault(require(\"../cssClasses\"));\n\nvar _dimensions = require(\"../dimensions\");\n\nvar _CSSTranslate = _interopRequireDefault(require(\"../CSSTranslate\"));\n\nvar _reactEasySwipe = _interopRequireDefault(require(\"react-easy-swipe\"));\n\nvar _window = _interopRequireDefault(require(\"../shims/window\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar isKeyboardEvent = function isKeyboardEvent(e) {\n  return e.hasOwnProperty('key');\n};\n\nvar Thumbs = /*#__PURE__*/function (_Component) {\n  _inherits(Thumbs, _Component);\n\n  var _super = _createSuper(Thumbs);\n\n  function Thumbs(_props) {\n    var _this;\n\n    _classCallCheck(this, Thumbs);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"itemsWrapperRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"itemsListRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"thumbsRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsWrapperRef\", function (node) {\n      _this.itemsWrapperRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsListRef\", function (node) {\n      _this.itemsListRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setThumbsRef\", function (node, index) {\n      if (!_this.thumbsRef) {\n        _this.thumbsRef = [];\n      }\n\n      _this.thumbsRef[index] = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateSizes\", function () {\n      if (!_this.props.children || !_this.itemsWrapperRef || !_this.thumbsRef) {\n        return;\n      }\n\n      var total = _react.Children.count(_this.props.children);\n\n      var wrapperSize = _this.itemsWrapperRef.clientWidth;\n      var itemSize = _this.props.thumbWidth ? _this.props.thumbWidth : (0, _dimensions.outerWidth)(_this.thumbsRef[0]);\n      var visibleItems = Math.floor(wrapperSize / itemSize);\n      var showArrows = visibleItems < total;\n      var lastPosition = showArrows ? total - visibleItems : 0;\n\n      _this.setState(function (_state, props) {\n        return {\n          itemSize: itemSize,\n          visibleItems: visibleItems,\n          firstItem: showArrows ? _this.getFirstItem(props.selectedItem) : 0,\n          lastPosition: lastPosition,\n          showArrows: showArrows\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickItem\", function (index, item, e) {\n      if (!isKeyboardEvent(e) || e.key === 'Enter') {\n        var handler = _this.props.onSelectItem;\n\n        if (typeof handler === 'function') {\n          handler(index, item);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeStart\", function () {\n      _this.setState({\n        swiping: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeEnd\", function () {\n      _this.setState({\n        swiping: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeMove\", function (delta) {\n      var deltaX = delta.x;\n\n      if (!_this.state.itemSize || !_this.itemsWrapperRef || !_this.state.visibleItems) {\n        return false;\n      }\n\n      var leftBoundary = 0;\n\n      var childrenLength = _react.Children.count(_this.props.children);\n\n      var currentPosition = -(_this.state.firstItem * 100) / _this.state.visibleItems;\n      var lastLeftItem = Math.max(childrenLength - _this.state.visibleItems, 0);\n      var lastLeftBoundary = -lastLeftItem * 100 / _this.state.visibleItems; // prevent user from swiping left out of boundaries\n\n      if (currentPosition === leftBoundary && deltaX > 0) {\n        deltaX = 0;\n      } // prevent user from swiping right out of boundaries\n\n\n      if (currentPosition === lastLeftBoundary && deltaX < 0) {\n        deltaX = 0;\n      }\n\n      var wrapperSize = _this.itemsWrapperRef.clientWidth;\n      var position = currentPosition + 100 / (wrapperSize / deltaX); // if 3d isn't available we will use left to move\n\n      if (_this.itemsListRef) {\n        ['WebkitTransform', 'MozTransform', 'MsTransform', 'OTransform', 'transform', 'msTransform'].forEach(function (prop) {\n          _this.itemsListRef.style[prop] = (0, _CSSTranslate.default)(position, '%', _this.props.axis);\n        });\n      }\n\n      return true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slideRight\", function (positions) {\n      _this.moveTo(_this.state.firstItem - (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slideLeft\", function (positions) {\n      _this.moveTo(_this.state.firstItem + (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"moveTo\", function (position) {\n      // position can't be lower than 0\n      position = position < 0 ? 0 : position; // position can't be higher than last postion\n\n      position = position >= _this.state.lastPosition ? _this.state.lastPosition : position;\n\n      _this.setState({\n        firstItem: position\n      });\n    });\n\n    _this.state = {\n      selectedItem: _props.selectedItem,\n      swiping: false,\n      showArrows: false,\n      firstItem: 0,\n      visibleItems: 0,\n      lastPosition: 0\n    };\n    return _this;\n  }\n\n  _createClass(Thumbs, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setupThumbs();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.selectedItem !== this.state.selectedItem) {\n        this.setState({\n          selectedItem: this.props.selectedItem,\n          firstItem: this.getFirstItem(this.props.selectedItem)\n        });\n      }\n\n      if (this.props.children === prevProps.children) {\n        return;\n      } // This will capture any size changes for arrow adjustments etc.\n      // usually in the same render cycle so we don't see any flickers\n\n\n      this.updateSizes();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyThumbs();\n    }\n  }, {\n    key: \"setupThumbs\",\n    value: function setupThumbs() {\n      // as the widths are calculated, we need to resize\n      // the carousel when the window is resized\n      (0, _window.default)().addEventListener('resize', this.updateSizes); // issue #2 - image loading smaller\n\n      (0, _window.default)().addEventListener('DOMContentLoaded', this.updateSizes); // when the component is rendered we need to calculate\n      // the container size to adjust the responsive behaviour\n\n      this.updateSizes();\n    }\n  }, {\n    key: \"destroyThumbs\",\n    value: function destroyThumbs() {\n      // removing listeners\n      (0, _window.default)().removeEventListener('resize', this.updateSizes);\n      (0, _window.default)().removeEventListener('DOMContentLoaded', this.updateSizes);\n    }\n  }, {\n    key: \"getFirstItem\",\n    value: function getFirstItem(selectedItem) {\n      var firstItem = selectedItem;\n\n      if (selectedItem >= this.state.lastPosition) {\n        firstItem = this.state.lastPosition;\n      }\n\n      if (selectedItem < this.state.firstItem + this.state.visibleItems) {\n        firstItem = this.state.firstItem;\n      }\n\n      if (selectedItem < this.state.firstItem) {\n        firstItem = selectedItem;\n      }\n\n      return firstItem;\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this2 = this;\n\n      return this.props.children.map(function (img, index) {\n        var itemClass = _cssClasses.default.ITEM(false, index === _this2.state.selectedItem);\n\n        var thumbProps = {\n          key: index,\n          ref: function ref(e) {\n            return _this2.setThumbsRef(e, index);\n          },\n          className: itemClass,\n          onClick: _this2.handleClickItem.bind(_this2, index, _this2.props.children[index]),\n          onKeyDown: _this2.handleClickItem.bind(_this2, index, _this2.props.children[index]),\n          'aria-label': \"\".concat(_this2.props.labels.item, \" \").concat(index + 1),\n          style: {\n            width: _this2.props.thumbWidth\n          }\n        };\n        return /*#__PURE__*/_react.default.createElement(\"li\", _extends({}, thumbProps, {\n          role: \"button\",\n          tabIndex: 0\n        }), img);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (!this.props.children) {\n        return null;\n      }\n\n      var isSwipeable = _react.Children.count(this.props.children) > 1; // show left arrow?\n\n      var hasPrev = this.state.showArrows && this.state.firstItem > 0; // show right arrow\n\n      var hasNext = this.state.showArrows && this.state.firstItem < this.state.lastPosition; // obj to hold the transformations and styles\n\n      var itemListStyles = {};\n      var currentPosition = -this.state.firstItem * (this.state.itemSize || 0);\n      var transformProp = (0, _CSSTranslate.default)(currentPosition, 'px', this.props.axis);\n      var transitionTime = this.props.transitionTime + 'ms';\n      itemListStyles = {\n        WebkitTransform: transformProp,\n        MozTransform: transformProp,\n        MsTransform: transformProp,\n        OTransform: transformProp,\n        transform: transformProp,\n        msTransform: transformProp,\n        WebkitTransitionDuration: transitionTime,\n        MozTransitionDuration: transitionTime,\n        MsTransitionDuration: transitionTime,\n        OTransitionDuration: transitionTime,\n        transitionDuration: transitionTime,\n        msTransitionDuration: transitionTime\n      };\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.CAROUSEL(false)\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.WRAPPER(false),\n        ref: this.setItemsWrapperRef\n      }, /*#__PURE__*/_react.default.createElement(\"button\", {\n        type: \"button\",\n        className: _cssClasses.default.ARROW_PREV(!hasPrev),\n        onClick: function onClick() {\n          return _this3.slideRight();\n        },\n        \"aria-label\": this.props.labels.leftArrow\n      }), isSwipeable ? /*#__PURE__*/_react.default.createElement(_reactEasySwipe.default, {\n        tagName: \"ul\",\n        className: _cssClasses.default.SLIDER(false, this.state.swiping),\n        onSwipeLeft: this.slideLeft,\n        onSwipeRight: this.slideRight,\n        onSwipeMove: this.onSwipeMove,\n        onSwipeStart: this.onSwipeStart,\n        onSwipeEnd: this.onSwipeEnd,\n        style: itemListStyles,\n        innerRef: this.setItemsListRef,\n        allowMouseEvents: this.props.emulateTouch\n      }, this.renderItems()) : /*#__PURE__*/_react.default.createElement(\"ul\", {\n        className: _cssClasses.default.SLIDER(false, this.state.swiping),\n        ref: function ref(node) {\n          return _this3.setItemsListRef(node);\n        },\n        style: itemListStyles\n      }, this.renderItems()), /*#__PURE__*/_react.default.createElement(\"button\", {\n        type: \"button\",\n        className: _cssClasses.default.ARROW_NEXT(!hasNext),\n        onClick: function onClick() {\n          return _this3.slideLeft();\n        },\n        \"aria-label\": this.props.labels.rightArrow\n      })));\n    }\n  }]);\n\n  return Thumbs;\n}(_react.Component);\n\nexports.default = Thumbs;\n\n_defineProperty(Thumbs, \"displayName\", 'Thumbs');\n\n_defineProperty(Thumbs, \"defaultProps\", {\n  axis: 'horizontal',\n  labels: {\n    leftArrow: 'previous slide / item',\n    rightArrow: 'next slide / item',\n    item: 'slide item'\n  },\n  selectedItem: 0,\n  thumbWidth: 80,\n  transitionTime: 350\n});","/**\n * @package     BlueAcorn/Configurator\n * @author      Blue Acorn iCi <code@blueacorn.com>\n * @copyright   Copyright © Blue Acorn iCi. All Rights Reserved.\n */\nimport { createContext } from 'preact';\nimport { useContext, useCallback, useEffect, useState } from 'preact/hooks';\nimport { push } from '../DataLayer/push';\nimport { useConfiguratorContext } from './Configurator';\nimport { useStateContext } from './State';\nimport { useTotalsContext } from './Totals';\n\nconst DataLayerContext = createContext({});\n\nexport const useDataLayerContext = () => useContext(DataLayerContext);\n\nexport const DataLayerContextProvider = ({ children }) => {\n    const [queue, setQueue] = useState(['init', 'load']);\n\n    const dataLayerPush = useCallback(\n        (action) => {\n            setQueue((queue) => [...queue, action]);\n        },\n        [setQueue]\n    );\n\n    return (\n        <DataLayerContext.Provider value={dataLayerPush}>\n            <DataLayerProcessor queue={queue} setQueue={setQueue} />\n            {children}\n        </DataLayerContext.Provider>\n    );\n};\n\nconst DataLayerProcessor = ({ queue, setQueue }) => {\n    const configuratorContext = useConfiguratorContext();\n    const stateContext = useStateContext();\n    const totalsContext = useTotalsContext();\n\n    useEffect(() => {\n        if (queue.length) {\n            setQueue([]);\n            for (const action of queue) {\n                push(action, configuratorContext, stateContext, totalsContext);\n            }\n        }\n    }, [queue, configuratorContext, stateContext, totalsContext, setQueue]);\n};\n"],"sourceRoot":""}